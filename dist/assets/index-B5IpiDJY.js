(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function o(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(r){if(r.ep)return;r.ep=!0;const c=o(r);fetch(r.href,c)}})();function ju(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var _u={exports:{}},Sl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ah;function my(){if(ah)return Sl;ah=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(a,r,c){var f=null;if(c!==void 0&&(f=""+c),r.key!==void 0&&(f=""+r.key),"key"in r){c={};for(var g in r)g!=="key"&&(c[g]=r[g])}else c=r;return r=c.ref,{$$typeof:i,type:a,key:f,ref:r!==void 0?r:null,props:c}}return Sl.Fragment=t,Sl.jsx=o,Sl.jsxs=o,Sl}var sh;function gy(){return sh||(sh=1,_u.exports=my()),_u.exports}var x=gy(),Cu={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rh;function vy(){if(rh)return Te;rh=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),E=Symbol.iterator;function _(A){return A===null||typeof A!="object"?null:(A=E&&A[E]||A["@@iterator"],typeof A=="function"?A:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,N={};function B(A,z,$){this.props=A,this.context=z,this.refs=N,this.updater=$||w}B.prototype.isReactComponent={},B.prototype.setState=function(A,z){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,z,"setState")},B.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function F(){}F.prototype=B.prototype;function P(A,z,$){this.props=A,this.context=z,this.refs=N,this.updater=$||w}var X=P.prototype=new F;X.constructor=P,D(X,B.prototype),X.isPureReactComponent=!0;var j=Array.isArray;function q(){}var Z={H:null,A:null,T:null,S:null},ce=Object.prototype.hasOwnProperty;function se(A,z,$){var I=$.ref;return{$$typeof:i,type:A,key:z,ref:I!==void 0?I:null,props:$}}function ae(A,z){return se(A.type,z,A.props)}function fe(A){return typeof A=="object"&&A!==null&&A.$$typeof===i}function pe(A){var z={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function($){return z[$]})}var ee=/\/+/g;function te(A,z){return typeof A=="object"&&A!==null&&A.key!=null?pe(""+A.key):z.toString(36)}function me(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(q,q):(A.status="pending",A.then(function(z){A.status==="pending"&&(A.status="fulfilled",A.value=z)},function(z){A.status==="pending"&&(A.status="rejected",A.reason=z)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function U(A,z,$,I,H){var Q=typeof A;(Q==="undefined"||Q==="boolean")&&(A=null);var re=!1;if(A===null)re=!0;else switch(Q){case"bigint":case"string":case"number":re=!0;break;case"object":switch(A.$$typeof){case i:case t:re=!0;break;case v:return re=A._init,U(re(A._payload),z,$,I,H)}}if(re)return H=H(A),re=I===""?"."+te(A,0):I,j(H)?($="",re!=null&&($=re.replace(ee,"$&/")+"/"),U(H,z,$,"",function(ze){return ze})):H!=null&&(fe(H)&&(H=ae(H,$+(H.key==null||A&&A.key===H.key?"":(""+H.key).replace(ee,"$&/")+"/")+re)),z.push(H)),1;re=0;var ye=I===""?".":I+":";if(j(A))for(var Se=0;Se<A.length;Se++)I=A[Se],Q=ye+te(I,Se),re+=U(I,z,$,Q,H);else if(Se=_(A),typeof Se=="function")for(A=Se.call(A),Se=0;!(I=A.next()).done;)I=I.value,Q=ye+te(I,Se++),re+=U(I,z,$,Q,H);else if(Q==="object"){if(typeof A.then=="function")return U(me(A),z,$,I,H);throw z=String(A),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return re}function G(A,z,$){if(A==null)return A;var I=[],H=0;return U(A,I,"","",function(Q){return z.call($,Q,H++)}),I}function oe(A){if(A._status===-1){var z=A._result;z=z(),z.then(function($){(A._status===0||A._status===-1)&&(A._status=1,A._result=$)},function($){(A._status===0||A._status===-1)&&(A._status=2,A._result=$)}),A._status===-1&&(A._status=0,A._result=z)}if(A._status===1)return A._result.default;throw A._result}var ne=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},le={map:G,forEach:function(A,z,$){G(A,function(){z.apply(this,arguments)},$)},count:function(A){var z=0;return G(A,function(){z++}),z},toArray:function(A){return G(A,function(z){return z})||[]},only:function(A){if(!fe(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return Te.Activity=S,Te.Children=le,Te.Component=B,Te.Fragment=o,Te.Profiler=r,Te.PureComponent=P,Te.StrictMode=a,Te.Suspense=y,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,Te.__COMPILER_RUNTIME={__proto__:null,c:function(A){return Z.H.useMemoCache(A)}},Te.cache=function(A){return function(){return A.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(A,z,$){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var I=D({},A.props),H=A.key;if(z!=null)for(Q in z.key!==void 0&&(H=""+z.key),z)!ce.call(z,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&z.ref===void 0||(I[Q]=z[Q]);var Q=arguments.length-2;if(Q===1)I.children=$;else if(1<Q){for(var re=Array(Q),ye=0;ye<Q;ye++)re[ye]=arguments[ye+2];I.children=re}return se(A.type,H,I)},Te.createContext=function(A){return A={$$typeof:f,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:c,_context:A},A},Te.createElement=function(A,z,$){var I,H={},Q=null;if(z!=null)for(I in z.key!==void 0&&(Q=""+z.key),z)ce.call(z,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(H[I]=z[I]);var re=arguments.length-2;if(re===1)H.children=$;else if(1<re){for(var ye=Array(re),Se=0;Se<re;Se++)ye[Se]=arguments[Se+2];H.children=ye}if(A&&A.defaultProps)for(I in re=A.defaultProps,re)H[I]===void 0&&(H[I]=re[I]);return se(A,Q,H)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(A){return{$$typeof:g,render:A}},Te.isValidElement=fe,Te.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:oe}},Te.memo=function(A,z){return{$$typeof:m,type:A,compare:z===void 0?null:z}},Te.startTransition=function(A){var z=Z.T,$={};Z.T=$;try{var I=A(),H=Z.S;H!==null&&H($,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(q,ne)}catch(Q){ne(Q)}finally{z!==null&&$.types!==null&&(z.types=$.types),Z.T=z}},Te.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},Te.use=function(A){return Z.H.use(A)},Te.useActionState=function(A,z,$){return Z.H.useActionState(A,z,$)},Te.useCallback=function(A,z){return Z.H.useCallback(A,z)},Te.useContext=function(A){return Z.H.useContext(A)},Te.useDebugValue=function(){},Te.useDeferredValue=function(A,z){return Z.H.useDeferredValue(A,z)},Te.useEffect=function(A,z){return Z.H.useEffect(A,z)},Te.useEffectEvent=function(A){return Z.H.useEffectEvent(A)},Te.useId=function(){return Z.H.useId()},Te.useImperativeHandle=function(A,z,$){return Z.H.useImperativeHandle(A,z,$)},Te.useInsertionEffect=function(A,z){return Z.H.useInsertionEffect(A,z)},Te.useLayoutEffect=function(A,z){return Z.H.useLayoutEffect(A,z)},Te.useMemo=function(A,z){return Z.H.useMemo(A,z)},Te.useOptimistic=function(A,z){return Z.H.useOptimistic(A,z)},Te.useReducer=function(A,z,$){return Z.H.useReducer(A,z,$)},Te.useRef=function(A){return Z.H.useRef(A)},Te.useState=function(A){return Z.H.useState(A)},Te.useSyncExternalStore=function(A,z,$){return Z.H.useSyncExternalStore(A,z,$)},Te.useTransition=function(){return Z.H.useTransition()},Te.version="19.2.4",Te}var uh;function Zu(){return uh||(uh=1,Cu.exports=vy()),Cu.exports}var W=Zu();const yy=ju(W);var Au={exports:{}},Tl={},wu={exports:{}},Nu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ch;function xy(){return ch||(ch=1,(function(i){function t(U,G){var oe=U.length;U.push(G);e:for(;0<oe;){var ne=oe-1>>>1,le=U[ne];if(0<r(le,G))U[ne]=G,U[oe]=le,oe=ne;else break e}}function o(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var G=U[0],oe=U.pop();if(oe!==G){U[0]=oe;e:for(var ne=0,le=U.length,A=le>>>1;ne<A;){var z=2*(ne+1)-1,$=U[z],I=z+1,H=U[I];if(0>r($,oe))I<le&&0>r(H,$)?(U[ne]=H,U[I]=oe,ne=I):(U[ne]=$,U[z]=oe,ne=z);else if(I<le&&0>r(H,oe))U[ne]=H,U[I]=oe,ne=I;else break e}}return G}function r(U,G){var oe=U.sortIndex-G.sortIndex;return oe!==0?oe:U.id-G.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();i.unstable_now=function(){return f.now()-g}}var y=[],m=[],v=1,S=null,E=3,_=!1,w=!1,D=!1,N=!1,B=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function X(U){for(var G=o(m);G!==null;){if(G.callback===null)a(m);else if(G.startTime<=U)a(m),G.sortIndex=G.expirationTime,t(y,G);else break;G=o(m)}}function j(U){if(D=!1,X(U),!w)if(o(y)!==null)w=!0,q||(q=!0,pe());else{var G=o(m);G!==null&&me(j,G.startTime-U)}}var q=!1,Z=-1,ce=5,se=-1;function ae(){return N?!0:!(i.unstable_now()-se<ce)}function fe(){if(N=!1,q){var U=i.unstable_now();se=U;var G=!0;try{e:{w=!1,D&&(D=!1,F(Z),Z=-1),_=!0;var oe=E;try{t:{for(X(U),S=o(y);S!==null&&!(S.expirationTime>U&&ae());){var ne=S.callback;if(typeof ne=="function"){S.callback=null,E=S.priorityLevel;var le=ne(S.expirationTime<=U);if(U=i.unstable_now(),typeof le=="function"){S.callback=le,X(U),G=!0;break t}S===o(y)&&a(y),X(U)}else a(y);S=o(y)}if(S!==null)G=!0;else{var A=o(m);A!==null&&me(j,A.startTime-U),G=!1}}break e}finally{S=null,E=oe,_=!1}G=void 0}}finally{G?pe():q=!1}}}var pe;if(typeof P=="function")pe=function(){P(fe)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,te=ee.port2;ee.port1.onmessage=fe,pe=function(){te.postMessage(null)}}else pe=function(){B(fe,0)};function me(U,G){Z=B(function(){U(i.unstable_now())},G)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(U){U.callback=null},i.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<U?Math.floor(1e3/U):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(U){switch(E){case 1:case 2:case 3:var G=3;break;default:G=E}var oe=E;E=G;try{return U()}finally{E=oe}},i.unstable_requestPaint=function(){N=!0},i.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var oe=E;E=U;try{return G()}finally{E=oe}},i.unstable_scheduleCallback=function(U,G,oe){var ne=i.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ne+oe:ne):oe=ne,U){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=oe+le,U={id:v++,callback:G,priorityLevel:U,startTime:oe,expirationTime:le,sortIndex:-1},oe>ne?(U.sortIndex=oe,t(m,U),o(y)===null&&U===o(m)&&(D?(F(Z),Z=-1):D=!0,me(j,oe-ne))):(U.sortIndex=le,t(y,U),w||_||(w=!0,q||(q=!0,pe()))),U},i.unstable_shouldYield=ae,i.unstable_wrapCallback=function(U){var G=E;return function(){var oe=E;E=G;try{return U.apply(this,arguments)}finally{E=oe}}}})(Nu)),Nu}var dh;function Sy(){return dh||(dh=1,wu.exports=xy()),wu.exports}var Ru={exports:{}},ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fh;function Ty(){if(fh)return ht;fh=1;var i=Zu();function t(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function c(y,m,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:S==null?null:""+S,children:y,containerInfo:m,implementation:v}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ht.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return c(y,m,null,v)},ht.flushSync=function(y){var m=f.T,v=a.p;try{if(f.T=null,a.p=2,y)return y()}finally{f.T=m,a.p=v,a.d.f()}},ht.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(y,m))},ht.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},ht.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,S=g(v,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,_=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:S,integrity:E,fetchPriority:_}):v==="script"&&a.d.X(y,{crossOrigin:S,integrity:E,fetchPriority:_,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ht.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=g(m.as,m.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(y)},ht.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,S=g(v,m.crossOrigin);a.d.L(y,v,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ht.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=g(m.as,m.crossOrigin);a.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(y)},ht.requestFormReset=function(y){a.d.r(y)},ht.unstable_batchedUpdates=function(y,m){return y(m)},ht.useFormState=function(y,m,v){return f.H.useFormState(y,m,v)},ht.useFormStatus=function(){return f.H.useHostTransitionStatus()},ht.version="19.2.4",ht}var ph;function Ey(){if(ph)return Ru.exports;ph=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Ru.exports=Ty(),Ru.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hh;function by(){if(hh)return Tl;hh=1;var i=Sy(),t=Zu(),o=Ey();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function m(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var l=e,s=n;;){var p=l.return;if(p===null)break;var h=p.alternate;if(h===null){if(s=p.return,s!==null){l=s;continue}break}if(p.child===h.child){for(h=p.child;h;){if(h===l)return y(p),e;if(h===s)return y(p),n;h=h.sibling}throw Error(a(188))}if(l.return!==s.return)l=p,s=h;else{for(var T=!1,b=p.child;b;){if(b===l){T=!0,l=p,s=h;break}if(b===s){T=!0,s=p,l=h;break}b=b.sibling}if(!T){for(b=h.child;b;){if(b===l){T=!0,l=h,s=p;break}if(b===s){T=!0,s=h,l=p;break}b=b.sibling}if(!T)throw Error(a(189))}}if(l.alternate!==s)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,E=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),P=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),fe=Symbol.iterator;function pe(e){return e===null||typeof e!="object"?null:(e=fe&&e[fe]||e["@@iterator"],typeof e=="function"?e:null)}var ee=Symbol.for("react.client.reference");function te(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ee?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case B:return"Profiler";case N:return"StrictMode";case j:return"Suspense";case q:return"SuspenseList";case se:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case P:return e.displayName||"Context";case F:return(e._context.displayName||"Context")+".Consumer";case X:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return n=e.displayName||null,n!==null?n:te(e.type)||"Memo";case ce:n=e._payload,e=e._init;try{return te(e(n))}catch{}}return null}var me=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},ne=[],le=-1;function A(e){return{current:e}}function z(e){0>le||(e.current=ne[le],ne[le]=null,le--)}function $(e,n){le++,ne[le]=e.current,e.current=n}var I=A(null),H=A(null),Q=A(null),re=A(null);function ye(e,n){switch($(Q,n),$(H,e),$(I,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Rp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Rp(n),e=Ip(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(I),$(I,e)}function Se(){z(I),z(H),z(Q)}function ze(e){e.memoizedState!==null&&$(re,e);var n=I.current,l=Ip(n,e.type);n!==l&&($(H,e),$(I,l))}function qe(e){H.current===e&&(z(I),z(H)),re.current===e&&(z(re),gl._currentValue=oe)}var at,gt;function vt(e){if(at===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);at=n&&n[1]||"",gt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+at+e+gt}var cn=!1;function kn(e,n){if(!e||cn)return"";cn=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(V){var O=V}Reflect.construct(e,[],K)}else{try{K.call()}catch(V){O=V}e.call(K.prototype)}}else{try{throw Error()}catch(V){O=V}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(V){if(V&&O&&typeof V.stack=="string")return[V.stack,O.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=s.DetermineComponentFrameRoot(),T=h[0],b=h[1];if(T&&b){var C=T.split(`
`),L=b.split(`
`);for(p=s=0;s<C.length&&!C[s].includes("DetermineComponentFrameRoot");)s++;for(;p<L.length&&!L[p].includes("DetermineComponentFrameRoot");)p++;if(s===C.length||p===L.length)for(s=C.length-1,p=L.length-1;1<=s&&0<=p&&C[s]!==L[p];)p--;for(;1<=s&&0<=p;s--,p--)if(C[s]!==L[p]){if(s!==1||p!==1)do if(s--,p--,0>p||C[s]!==L[p]){var Y=`
`+C[s].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=s&&0<=p);break}}}finally{cn=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?vt(l):""}function No(e,n){switch(e.tag){case 26:case 27:case 5:return vt(e.type);case 16:return vt("Lazy");case 13:return e.child!==n&&n!==null?vt("Suspense Fallback"):vt("Suspense");case 19:return vt("SuspenseList");case 0:case 15:return kn(e.type,!1);case 11:return kn(e.type.render,!1);case 1:return kn(e.type,!0);case 31:return vt("Activity");default:return""}}function ie(e){try{var n="",l=null;do n+=No(e,l),l=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Ae=Object.prototype.hasOwnProperty,Xe=i.unstable_scheduleCallback,ft=i.unstable_cancelCallback,ci=i.unstable_shouldYield,dn=i.unstable_requestPaint,nt=i.unstable_now,Mi=i.unstable_getCurrentPriorityLevel,fn=i.unstable_ImmediatePriority,Tt=i.unstable_UserBlockingPriority,jt=i.unstable_NormalPriority,Ln=i.unstable_LowPriority,Zt=i.unstable_IdlePriority,Al=i.log,wl=i.unstable_setDisableYieldValue,Gn=null,pt=null;function Pn(e){if(typeof Al=="function"&&wl(e),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(Gn,e)}catch{}}var Mt=Math.clz32?Math.clz32:t0,Wg=Math.log,e0=Math.LN2;function t0(e){return e>>>=0,e===0?32:31-(Wg(e)/e0|0)|0}var Nl=256,Rl=262144,Il=4194304;function di(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ml(e,n,l){var s=e.pendingLanes;if(s===0)return 0;var p=0,h=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var b=s&134217727;return b!==0?(s=b&~h,s!==0?p=di(s):(T&=b,T!==0?p=di(T):l||(l=b&~e,l!==0&&(p=di(l))))):(b=s&~h,b!==0?p=di(b):T!==0?p=di(T):l||(l=s&~e,l!==0&&(p=di(l)))),p===0?0:n!==0&&n!==p&&(n&h)===0&&(h=p&-p,l=n&-n,h>=l||h===32&&(l&4194048)!==0)?n:p}function Ro(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function n0(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uc(){var e=Il;return Il<<=1,(Il&62914560)===0&&(Il=4194304),e}function fs(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function Io(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function i0(e,n,l,s,p,h){var T=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var b=e.entanglements,C=e.expirationTimes,L=e.hiddenUpdates;for(l=T&~l;0<l;){var Y=31-Mt(l),K=1<<Y;b[Y]=0,C[Y]=-1;var O=L[Y];if(O!==null)for(L[Y]=null,Y=0;Y<O.length;Y++){var V=O[Y];V!==null&&(V.lane&=-536870913)}l&=~K}s!==0&&cc(e,s,0),h!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=h&~(T&~n))}function cc(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-Mt(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|l&261930}function dc(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var s=31-Mt(l),p=1<<s;p&n|e[s]&n&&(e[s]|=n),l&=~p}}function fc(e,n){var l=n&-n;return l=(l&42)!==0?1:ps(l),(l&(e.suspendedLanes|n))!==0?0:l}function ps(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function hs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function pc(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:Wp(e.type))}function hc(e,n){var l=G.p;try{return G.p=e,n()}finally{G.p=l}}var On=Math.random().toString(36).slice(2),st="__reactFiber$"+On,Et="__reactProps$"+On,Di="__reactContainer$"+On,ms="__reactEvents$"+On,o0="__reactListeners$"+On,l0="__reactHandles$"+On,mc="__reactResources$"+On,Mo="__reactMarker$"+On;function gs(e){delete e[st],delete e[Et],delete e[ms],delete e[o0],delete e[l0]}function Ui(e){var n=e[st];if(n)return n;for(var l=e.parentNode;l;){if(n=l[Di]||l[st]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Pp(e);e!==null;){if(l=e[st])return l;e=Pp(e)}return n}e=l,l=e.parentNode}return null}function ki(e){if(e=e[st]||e[Di]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Do(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Li(e){var n=e[mc];return n||(n=e[mc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function it(e){e[Mo]=!0}var gc=new Set,vc={};function fi(e,n){Gi(e,n),Gi(e+"Capture",n)}function Gi(e,n){for(vc[e]=n,e=0;e<n.length;e++)gc.add(n[e])}var a0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yc={},xc={};function s0(e){return Ae.call(xc,e)?!0:Ae.call(yc,e)?!1:a0.test(e)?xc[e]=!0:(yc[e]=!0,!1)}function Dl(e,n,l){if(s0(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function Ul(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function pn(e,n,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+s)}}function Ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function r0(e,n,l){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var p=s.get,h=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return p.call(this)},set:function(T){l=""+T,h.call(this,T)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function vs(e){if(!e._valueTracker){var n=Sc(e)?"checked":"value";e._valueTracker=r0(e,n,""+e[n])}}function Tc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),s="";return e&&(s=Sc(e)?e.checked?"true":"false":e.value),e=s,e!==l?(n.setValue(e),!0):!1}function kl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var u0=/[\n"\\]/g;function Vt(e){return e.replace(u0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ys(e,n,l,s,p,h,T,b){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),n!=null?T==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ht(n)):e.value!==""+Ht(n)&&(e.value=""+Ht(n)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),n!=null?xs(e,T,Ht(n)):l!=null?xs(e,T,Ht(l)):s!=null&&e.removeAttribute("value"),p==null&&h!=null&&(e.defaultChecked=!!h),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Ht(b):e.removeAttribute("name")}function Ec(e,n,l,s,p,h,T,b){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||l!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){vs(e);return}l=l!=null?""+Ht(l):"",n=n!=null?""+Ht(n):l,b||n===e.value||(e.value=n),e.defaultValue=n}s=s??p,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=b?e.checked:!!s,e.defaultChecked=!!s,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),vs(e)}function xs(e,n,l){n==="number"&&kl(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Pi(e,n,l,s){if(e=e.options,n){n={};for(var p=0;p<l.length;p++)n["$"+l[p]]=!0;for(l=0;l<e.length;l++)p=n.hasOwnProperty("$"+e[l].value),e[l].selected!==p&&(e[l].selected=p),p&&s&&(e[l].defaultSelected=!0)}else{for(l=""+Ht(l),n=null,p=0;p<e.length;p++){if(e[p].value===l){e[p].selected=!0,s&&(e[p].defaultSelected=!0);return}n!==null||e[p].disabled||(n=e[p])}n!==null&&(n.selected=!0)}}function bc(e,n,l){if(n!=null&&(n=""+Ht(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+Ht(l):""}function _c(e,n,l,s){if(n==null){if(s!=null){if(l!=null)throw Error(a(92));if(me(s)){if(1<s.length)throw Error(a(93));s=s[0]}l=s}l==null&&(l=""),n=l}l=Ht(n),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s),vs(e)}function Oi(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var c0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cc(e,n,l){var s=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,l):typeof l!="number"||l===0||c0.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function Ac(e,n,l){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var p in n)s=n[p],n.hasOwnProperty(p)&&l[p]!==s&&Cc(e,p,s)}else for(var h in n)n.hasOwnProperty(h)&&Cc(e,h,n[h])}function Ss(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var d0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),f0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ll(e){return f0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function hn(){}var Ts=null;function Es(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hi=null,Vi=null;function wc(e){var n=ki(e);if(n&&(e=n.stateNode)){var l=e[Et]||null;e:switch(e=n.stateNode,n.type){case"input":if(ys(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Vt(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var s=l[n];if(s!==e&&s.form===e.form){var p=s[Et]||null;if(!p)throw Error(a(90));ys(s,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(n=0;n<l.length;n++)s=l[n],s.form===e.form&&Tc(s)}break e;case"textarea":bc(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&Pi(e,!!l.multiple,n,!1)}}}var bs=!1;function Nc(e,n,l){if(bs)return e(n,l);bs=!0;try{var s=e(n);return s}finally{if(bs=!1,(Hi!==null||Vi!==null)&&(Ea(),Hi&&(n=Hi,e=Vi,Vi=Hi=null,wc(n),e)))for(n=0;n<e.length;n++)wc(e[n])}}function Uo(e,n){var l=e.stateNode;if(l===null)return null;var s=l[Et]||null;if(s===null)return null;l=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(a(231,n,typeof l));return l}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_s=!1;if(mn)try{var ko={};Object.defineProperty(ko,"passive",{get:function(){_s=!0}}),window.addEventListener("test",ko,ko),window.removeEventListener("test",ko,ko)}catch{_s=!1}var Hn=null,Cs=null,Gl=null;function Rc(){if(Gl)return Gl;var e,n=Cs,l=n.length,s,p="value"in Hn?Hn.value:Hn.textContent,h=p.length;for(e=0;e<l&&n[e]===p[e];e++);var T=l-e;for(s=1;s<=T&&n[l-s]===p[h-s];s++);return Gl=p.slice(e,1<s?1-s:void 0)}function Pl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ol(){return!0}function Ic(){return!1}function bt(e){function n(l,s,p,h,T){this._reactName=l,this._targetInst=p,this.type=s,this.nativeEvent=h,this.target=T,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(l=e[b],this[b]=l?l(h):h[b]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ol:Ic,this.isPropagationStopped=Ic,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ol)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ol)},persist:function(){},isPersistent:Ol}),n}var pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hl=bt(pi),Lo=S({},pi,{view:0,detail:0}),p0=bt(Lo),As,ws,Go,Vl=S({},Lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Go&&(Go&&e.type==="mousemove"?(As=e.screenX-Go.screenX,ws=e.screenY-Go.screenY):ws=As=0,Go=e),As)},movementY:function(e){return"movementY"in e?e.movementY:ws}}),Mc=bt(Vl),h0=S({},Vl,{dataTransfer:0}),m0=bt(h0),g0=S({},Lo,{relatedTarget:0}),Ns=bt(g0),v0=S({},pi,{animationName:0,elapsedTime:0,pseudoElement:0}),y0=bt(v0),x0=S({},pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),S0=bt(x0),T0=S({},pi,{data:0}),Dc=bt(T0),E0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=_0[e])?!!n[e]:!1}function Rs(){return C0}var A0=S({},Lo,{key:function(e){if(e.key){var n=E0[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Pl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?b0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(e){return e.type==="keypress"?Pl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),w0=bt(A0),N0=S({},Vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uc=bt(N0),R0=S({},Lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),I0=bt(R0),M0=S({},pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),D0=bt(M0),U0=S({},Vl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),k0=bt(U0),L0=S({},pi,{newState:0,oldState:0}),G0=bt(L0),P0=[9,13,27,32],Is=mn&&"CompositionEvent"in window,Po=null;mn&&"documentMode"in document&&(Po=document.documentMode);var O0=mn&&"TextEvent"in window&&!Po,kc=mn&&(!Is||Po&&8<Po&&11>=Po),Lc=" ",Gc=!1;function Pc(e,n){switch(e){case"keyup":return P0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zi=!1;function H0(e,n){switch(e){case"compositionend":return Oc(n);case"keypress":return n.which!==32?null:(Gc=!0,Lc);case"textInput":return e=n.data,e===Lc&&Gc?null:e;default:return null}}function V0(e,n){if(zi)return e==="compositionend"||!Is&&Pc(e,n)?(e=Rc(),Gl=Cs=Hn=null,zi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return kc&&n.locale!=="ko"?null:n.data;default:return null}}var z0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!z0[e.type]:n==="textarea"}function Vc(e,n,l,s){Hi?Vi?Vi.push(s):Vi=[s]:Hi=s,n=Ra(n,"onChange"),0<n.length&&(l=new Hl("onChange","change",null,l,s),e.push({event:l,listeners:n}))}var Oo=null,Ho=null;function q0(e){bp(e,0)}function zl(e){var n=Do(e);if(Tc(n))return e}function zc(e,n){if(e==="change")return n}var qc=!1;if(mn){var Ms;if(mn){var Ds="oninput"in document;if(!Ds){var Bc=document.createElement("div");Bc.setAttribute("oninput","return;"),Ds=typeof Bc.oninput=="function"}Ms=Ds}else Ms=!1;qc=Ms&&(!document.documentMode||9<document.documentMode)}function Fc(){Oo&&(Oo.detachEvent("onpropertychange",Yc),Ho=Oo=null)}function Yc(e){if(e.propertyName==="value"&&zl(Ho)){var n=[];Vc(n,Ho,e,Es(e)),Nc(q0,n)}}function B0(e,n,l){e==="focusin"?(Fc(),Oo=n,Ho=l,Oo.attachEvent("onpropertychange",Yc)):e==="focusout"&&Fc()}function F0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zl(Ho)}function Y0(e,n){if(e==="click")return zl(n)}function J0(e,n){if(e==="input"||e==="change")return zl(n)}function K0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Dt=typeof Object.is=="function"?Object.is:K0;function Vo(e,n){if(Dt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),s=Object.keys(n);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var p=l[s];if(!Ae.call(n,p)||!Dt(e[p],n[p]))return!1}return!0}function Jc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kc(e,n){var l=Jc(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=n&&s>=n)return{node:l,offset:n-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Jc(l)}}function Xc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Xc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Qc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=kl(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=kl(e.document)}return n}function Us(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var X0=mn&&"documentMode"in document&&11>=document.documentMode,qi=null,ks=null,zo=null,Ls=!1;function $c(e,n,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ls||qi==null||qi!==kl(s)||(s=qi,"selectionStart"in s&&Us(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),zo&&Vo(zo,s)||(zo=s,s=Ra(ks,"onSelect"),0<s.length&&(n=new Hl("onSelect","select",null,n,l),e.push({event:n,listeners:s}),n.target=qi)))}function hi(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var Bi={animationend:hi("Animation","AnimationEnd"),animationiteration:hi("Animation","AnimationIteration"),animationstart:hi("Animation","AnimationStart"),transitionrun:hi("Transition","TransitionRun"),transitionstart:hi("Transition","TransitionStart"),transitioncancel:hi("Transition","TransitionCancel"),transitionend:hi("Transition","TransitionEnd")},Gs={},jc={};mn&&(jc=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function mi(e){if(Gs[e])return Gs[e];if(!Bi[e])return e;var n=Bi[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in jc)return Gs[e]=n[l];return e}var Zc=mi("animationend"),Wc=mi("animationiteration"),ed=mi("animationstart"),Q0=mi("transitionrun"),$0=mi("transitionstart"),j0=mi("transitioncancel"),td=mi("transitionend"),nd=new Map,Ps="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ps.push("scrollEnd");function Wt(e,n){nd.set(e,n),fi(n,[e])}var ql=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},zt=[],Fi=0,Os=0;function Bl(){for(var e=Fi,n=Os=Fi=0;n<e;){var l=zt[n];zt[n++]=null;var s=zt[n];zt[n++]=null;var p=zt[n];zt[n++]=null;var h=zt[n];if(zt[n++]=null,s!==null&&p!==null){var T=s.pending;T===null?p.next=p:(p.next=T.next,T.next=p),s.pending=p}h!==0&&id(l,p,h)}}function Fl(e,n,l,s){zt[Fi++]=e,zt[Fi++]=n,zt[Fi++]=l,zt[Fi++]=s,Os|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Hs(e,n,l,s){return Fl(e,n,l,s),Yl(e)}function gi(e,n){return Fl(e,null,null,n),Yl(e)}function id(e,n,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var p=!1,h=e.return;h!==null;)h.childLanes|=l,s=h.alternate,s!==null&&(s.childLanes|=l),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(p=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,p&&n!==null&&(p=31-Mt(l),e=h.hiddenUpdates,s=e[p],s===null?e[p]=[n]:s.push(n),n.lane=l|536870912),h):null}function Yl(e){if(50<ul)throw ul=0,Xr=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Yi={};function Z0(e,n,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,n,l,s){return new Z0(e,n,l,s)}function Vs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gn(e,n){var l=e.alternate;return l===null?(l=Ut(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function od(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Jl(e,n,l,s,p,h){var T=0;if(s=e,typeof e=="function")Vs(e)&&(T=1);else if(typeof e=="string")T=iy(e,l,I.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case se:return e=Ut(31,l,n,p),e.elementType=se,e.lanes=h,e;case D:return vi(l.children,p,h,n);case N:T=8,p|=24;break;case B:return e=Ut(12,l,n,p|2),e.elementType=B,e.lanes=h,e;case j:return e=Ut(13,l,n,p),e.elementType=j,e.lanes=h,e;case q:return e=Ut(19,l,n,p),e.elementType=q,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case P:T=10;break e;case F:T=9;break e;case X:T=11;break e;case Z:T=14;break e;case ce:T=16,s=null;break e}T=29,l=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=Ut(T,l,n,p),n.elementType=e,n.type=s,n.lanes=h,n}function vi(e,n,l,s){return e=Ut(7,e,s,n),e.lanes=l,e}function zs(e,n,l){return e=Ut(6,e,null,n),e.lanes=l,e}function ld(e){var n=Ut(18,null,null,0);return n.stateNode=e,n}function qs(e,n,l){return n=Ut(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ad=new WeakMap;function qt(e,n){if(typeof e=="object"&&e!==null){var l=ad.get(e);return l!==void 0?l:(n={value:e,source:n,stack:ie(n)},ad.set(e,n),n)}return{value:e,source:n,stack:ie(n)}}var Ji=[],Ki=0,Kl=null,qo=0,Bt=[],Ft=0,Vn=null,an=1,sn="";function vn(e,n){Ji[Ki++]=qo,Ji[Ki++]=Kl,Kl=e,qo=n}function sd(e,n,l){Bt[Ft++]=an,Bt[Ft++]=sn,Bt[Ft++]=Vn,Vn=e;var s=an;e=sn;var p=32-Mt(s)-1;s&=~(1<<p),l+=1;var h=32-Mt(n)+p;if(30<h){var T=p-p%5;h=(s&(1<<T)-1).toString(32),s>>=T,p-=T,an=1<<32-Mt(n)+p|l<<p|s,sn=h+e}else an=1<<h|l<<p|s,sn=e}function Bs(e){e.return!==null&&(vn(e,1),sd(e,1,0))}function Fs(e){for(;e===Kl;)Kl=Ji[--Ki],Ji[Ki]=null,qo=Ji[--Ki],Ji[Ki]=null;for(;e===Vn;)Vn=Bt[--Ft],Bt[Ft]=null,sn=Bt[--Ft],Bt[Ft]=null,an=Bt[--Ft],Bt[Ft]=null}function rd(e,n){Bt[Ft++]=an,Bt[Ft++]=sn,Bt[Ft++]=Vn,an=n.id,sn=n.overflow,Vn=e}var rt=null,Be=null,Re=!1,zn=null,Yt=!1,Ys=Error(a(519));function qn(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bo(qt(n,e)),Ys}function ud(e){var n=e.stateNode,l=e.type,s=e.memoizedProps;switch(n[st]=e,n[Et]=s,l){case"dialog":Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":case"embed":Ce("load",n);break;case"video":case"audio":for(l=0;l<dl.length;l++)Ce(dl[l],n);break;case"source":Ce("error",n);break;case"img":case"image":case"link":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"input":Ce("invalid",n),Ec(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ce("invalid",n);break;case"textarea":Ce("invalid",n),_c(n,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||s.suppressHydrationWarning===!0||wp(n.textContent,l)?(s.popover!=null&&(Ce("beforetoggle",n),Ce("toggle",n)),s.onScroll!=null&&Ce("scroll",n),s.onScrollEnd!=null&&Ce("scrollend",n),s.onClick!=null&&(n.onclick=hn),n=!0):n=!1,n||qn(e,!0)}function cd(e){for(rt=e.return;rt;)switch(rt.tag){case 5:case 31:case 13:Yt=!1;return;case 27:case 3:Yt=!0;return;default:rt=rt.return}}function Xi(e){if(e!==rt)return!1;if(!Re)return cd(e),Re=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||uu(e.type,e.memoizedProps)),l=!l),l&&Be&&qn(e),cd(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Be=Gp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Be=Gp(e)}else n===27?(n=Be,ni(e.type)?(e=hu,hu=null,Be=e):Be=n):Be=rt?Kt(e.stateNode.nextSibling):null;return!0}function yi(){Be=rt=null,Re=!1}function Js(){var e=zn;return e!==null&&(wt===null?wt=e:wt.push.apply(wt,e),zn=null),e}function Bo(e){zn===null?zn=[e]:zn.push(e)}var Ks=A(null),xi=null,yn=null;function Bn(e,n,l){$(Ks,n._currentValue),n._currentValue=l}function xn(e){e._currentValue=Ks.current,z(Ks)}function Xs(e,n,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===l)break;e=e.return}}function Qs(e,n,l,s){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var h=p.dependencies;if(h!==null){var T=p.child;h=h.firstContext;e:for(;h!==null;){var b=h;h=p;for(var C=0;C<n.length;C++)if(b.context===n[C]){h.lanes|=l,b=h.alternate,b!==null&&(b.lanes|=l),Xs(h.return,l,e),s||(T=null);break e}h=b.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(a(341));T.lanes|=l,h=T.alternate,h!==null&&(h.lanes|=l),Xs(T,l,e),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===e){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Qi(e,n,l,s){e=null;for(var p=n,h=!1;p!==null;){if(!h){if((p.flags&524288)!==0)h=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var b=p.type;Dt(p.pendingProps.value,T.value)||(e!==null?e.push(b):e=[b])}}else if(p===re.current){if(T=p.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(gl):e=[gl])}p=p.return}e!==null&&Qs(n,e,l,s),n.flags|=262144}function Xl(e){for(e=e.firstContext;e!==null;){if(!Dt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Si(e){xi=e,yn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ut(e){return dd(xi,e)}function Ql(e,n){return xi===null&&Si(e),dd(e,n)}function dd(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},yn===null){if(e===null)throw Error(a(308));yn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else yn=yn.next=n;return l}var W0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},ev=i.unstable_scheduleCallback,tv=i.unstable_NormalPriority,je={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $s(){return{controller:new W0,data:new Map,refCount:0}}function Fo(e){e.refCount--,e.refCount===0&&ev(tv,function(){e.controller.abort()})}var Yo=null,js=0,$i=0,ji=null;function nv(e,n){if(Yo===null){var l=Yo=[];js=0,$i=eu(),ji={status:"pending",value:void 0,then:function(s){l.push(s)}}}return js++,n.then(fd,fd),n}function fd(){if(--js===0&&Yo!==null){ji!==null&&(ji.status="fulfilled");var e=Yo;Yo=null,$i=0,ji=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function iv(e,n){var l=[],s={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var p=0;p<l.length;p++)(0,l[p])(n)},function(p){for(s.status="rejected",s.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),s}var pd=U.S;U.S=function(e,n){jf=nt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&nv(e,n),pd!==null&&pd(e,n)};var Ti=A(null);function Zs(){var e=Ti.current;return e!==null?e:Ve.pooledCache}function $l(e,n){n===null?$(Ti,Ti.current):$(Ti,n.pool)}function hd(){var e=Zs();return e===null?null:{parent:je._currentValue,pool:e}}var Zi=Error(a(460)),Ws=Error(a(474)),jl=Error(a(542)),Zl={then:function(){}};function md(e){return e=e.status,e==="fulfilled"||e==="rejected"}function gd(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(hn,hn),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,yd(e),e;default:if(typeof n.status=="string")n.then(hn,hn);else{if(e=Ve,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var p=n;p.status="fulfilled",p.value=s}},function(s){if(n.status==="pending"){var p=n;p.status="rejected",p.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,yd(e),e}throw bi=n,Zi}}function Ei(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(bi=l,Zi):l}}var bi=null;function vd(){if(bi===null)throw Error(a(459));var e=bi;return bi=null,e}function yd(e){if(e===Zi||e===jl)throw Error(a(483))}var Wi=null,Jo=0;function Wl(e){var n=Jo;return Jo+=1,Wi===null&&(Wi=[]),gd(Wi,e,n)}function Ko(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ea(e,n){throw n.$$typeof===E?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function xd(e){function n(M,R){if(e){var k=M.deletions;k===null?(M.deletions=[R],M.flags|=16):k.push(R)}}function l(M,R){if(!e)return null;for(;R!==null;)n(M,R),R=R.sibling;return null}function s(M){for(var R=new Map;M!==null;)M.key!==null?R.set(M.key,M):R.set(M.index,M),M=M.sibling;return R}function p(M,R){return M=gn(M,R),M.index=0,M.sibling=null,M}function h(M,R,k){return M.index=k,e?(k=M.alternate,k!==null?(k=k.index,k<R?(M.flags|=67108866,R):k):(M.flags|=67108866,R)):(M.flags|=1048576,R)}function T(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function b(M,R,k,J){return R===null||R.tag!==6?(R=zs(k,M.mode,J),R.return=M,R):(R=p(R,k),R.return=M,R)}function C(M,R,k,J){var ge=k.type;return ge===D?Y(M,R,k.props.children,J,k.key):R!==null&&(R.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===ce&&Ei(ge)===R.type)?(R=p(R,k.props),Ko(R,k),R.return=M,R):(R=Jl(k.type,k.key,k.props,null,M.mode,J),Ko(R,k),R.return=M,R)}function L(M,R,k,J){return R===null||R.tag!==4||R.stateNode.containerInfo!==k.containerInfo||R.stateNode.implementation!==k.implementation?(R=qs(k,M.mode,J),R.return=M,R):(R=p(R,k.children||[]),R.return=M,R)}function Y(M,R,k,J,ge){return R===null||R.tag!==7?(R=vi(k,M.mode,J,ge),R.return=M,R):(R=p(R,k),R.return=M,R)}function K(M,R,k){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=zs(""+R,M.mode,k),R.return=M,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case _:return k=Jl(R.type,R.key,R.props,null,M.mode,k),Ko(k,R),k.return=M,k;case w:return R=qs(R,M.mode,k),R.return=M,R;case ce:return R=Ei(R),K(M,R,k)}if(me(R)||pe(R))return R=vi(R,M.mode,k,null),R.return=M,R;if(typeof R.then=="function")return K(M,Wl(R),k);if(R.$$typeof===P)return K(M,Ql(M,R),k);ea(M,R)}return null}function O(M,R,k,J){var ge=R!==null?R.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ge!==null?null:b(M,R,""+k,J);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case _:return k.key===ge?C(M,R,k,J):null;case w:return k.key===ge?L(M,R,k,J):null;case ce:return k=Ei(k),O(M,R,k,J)}if(me(k)||pe(k))return ge!==null?null:Y(M,R,k,J,null);if(typeof k.then=="function")return O(M,R,Wl(k),J);if(k.$$typeof===P)return O(M,R,Ql(M,k),J);ea(M,k)}return null}function V(M,R,k,J,ge){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return M=M.get(k)||null,b(R,M,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case _:return M=M.get(J.key===null?k:J.key)||null,C(R,M,J,ge);case w:return M=M.get(J.key===null?k:J.key)||null,L(R,M,J,ge);case ce:return J=Ei(J),V(M,R,k,J,ge)}if(me(J)||pe(J))return M=M.get(k)||null,Y(R,M,J,ge,null);if(typeof J.then=="function")return V(M,R,k,Wl(J),ge);if(J.$$typeof===P)return V(M,R,k,Ql(R,J),ge);ea(R,J)}return null}function de(M,R,k,J){for(var ge=null,Ie=null,he=R,be=R=0,Ne=null;he!==null&&be<k.length;be++){he.index>be?(Ne=he,he=null):Ne=he.sibling;var Me=O(M,he,k[be],J);if(Me===null){he===null&&(he=Ne);break}e&&he&&Me.alternate===null&&n(M,he),R=h(Me,R,be),Ie===null?ge=Me:Ie.sibling=Me,Ie=Me,he=Ne}if(be===k.length)return l(M,he),Re&&vn(M,be),ge;if(he===null){for(;be<k.length;be++)he=K(M,k[be],J),he!==null&&(R=h(he,R,be),Ie===null?ge=he:Ie.sibling=he,Ie=he);return Re&&vn(M,be),ge}for(he=s(he);be<k.length;be++)Ne=V(he,M,be,k[be],J),Ne!==null&&(e&&Ne.alternate!==null&&he.delete(Ne.key===null?be:Ne.key),R=h(Ne,R,be),Ie===null?ge=Ne:Ie.sibling=Ne,Ie=Ne);return e&&he.forEach(function(si){return n(M,si)}),Re&&vn(M,be),ge}function ve(M,R,k,J){if(k==null)throw Error(a(151));for(var ge=null,Ie=null,he=R,be=R=0,Ne=null,Me=k.next();he!==null&&!Me.done;be++,Me=k.next()){he.index>be?(Ne=he,he=null):Ne=he.sibling;var si=O(M,he,Me.value,J);if(si===null){he===null&&(he=Ne);break}e&&he&&si.alternate===null&&n(M,he),R=h(si,R,be),Ie===null?ge=si:Ie.sibling=si,Ie=si,he=Ne}if(Me.done)return l(M,he),Re&&vn(M,be),ge;if(he===null){for(;!Me.done;be++,Me=k.next())Me=K(M,Me.value,J),Me!==null&&(R=h(Me,R,be),Ie===null?ge=Me:Ie.sibling=Me,Ie=Me);return Re&&vn(M,be),ge}for(he=s(he);!Me.done;be++,Me=k.next())Me=V(he,M,be,Me.value,J),Me!==null&&(e&&Me.alternate!==null&&he.delete(Me.key===null?be:Me.key),R=h(Me,R,be),Ie===null?ge=Me:Ie.sibling=Me,Ie=Me);return e&&he.forEach(function(hy){return n(M,hy)}),Re&&vn(M,be),ge}function He(M,R,k,J){if(typeof k=="object"&&k!==null&&k.type===D&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case _:e:{for(var ge=k.key;R!==null;){if(R.key===ge){if(ge=k.type,ge===D){if(R.tag===7){l(M,R.sibling),J=p(R,k.props.children),J.return=M,M=J;break e}}else if(R.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===ce&&Ei(ge)===R.type){l(M,R.sibling),J=p(R,k.props),Ko(J,k),J.return=M,M=J;break e}l(M,R);break}else n(M,R);R=R.sibling}k.type===D?(J=vi(k.props.children,M.mode,J,k.key),J.return=M,M=J):(J=Jl(k.type,k.key,k.props,null,M.mode,J),Ko(J,k),J.return=M,M=J)}return T(M);case w:e:{for(ge=k.key;R!==null;){if(R.key===ge)if(R.tag===4&&R.stateNode.containerInfo===k.containerInfo&&R.stateNode.implementation===k.implementation){l(M,R.sibling),J=p(R,k.children||[]),J.return=M,M=J;break e}else{l(M,R);break}else n(M,R);R=R.sibling}J=qs(k,M.mode,J),J.return=M,M=J}return T(M);case ce:return k=Ei(k),He(M,R,k,J)}if(me(k))return de(M,R,k,J);if(pe(k)){if(ge=pe(k),typeof ge!="function")throw Error(a(150));return k=ge.call(k),ve(M,R,k,J)}if(typeof k.then=="function")return He(M,R,Wl(k),J);if(k.$$typeof===P)return He(M,R,Ql(M,k),J);ea(M,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,R!==null&&R.tag===6?(l(M,R.sibling),J=p(R,k),J.return=M,M=J):(l(M,R),J=zs(k,M.mode,J),J.return=M,M=J),T(M)):l(M,R)}return function(M,R,k,J){try{Jo=0;var ge=He(M,R,k,J);return Wi=null,ge}catch(he){if(he===Zi||he===jl)throw he;var Ie=Ut(29,he,null,M.mode);return Ie.lanes=J,Ie.return=M,Ie}finally{}}}var _i=xd(!0),Sd=xd(!1),Fn=!1;function er(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tr(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Yn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Jn(e,n,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ue&2)!==0){var p=s.pending;return p===null?n.next=n:(n.next=p.next,p.next=n),s.pending=n,n=Yl(e),id(e,null,l),n}return Fl(e,s,n,l),Yl(e)}function Xo(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,dc(e,l)}}function nr(e,n){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var p=null,h=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};h===null?p=h=T:h=h.next=T,l=l.next}while(l!==null);h===null?p=h=n:h=h.next=n}else p=h=n;l={baseState:s.baseState,firstBaseUpdate:p,lastBaseUpdate:h,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var ir=!1;function Qo(){if(ir){var e=ji;if(e!==null)throw e}}function $o(e,n,l,s){ir=!1;var p=e.updateQueue;Fn=!1;var h=p.firstBaseUpdate,T=p.lastBaseUpdate,b=p.shared.pending;if(b!==null){p.shared.pending=null;var C=b,L=C.next;C.next=null,T===null?h=L:T.next=L,T=C;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,b=Y.lastBaseUpdate,b!==T&&(b===null?Y.firstBaseUpdate=L:b.next=L,Y.lastBaseUpdate=C))}if(h!==null){var K=p.baseState;T=0,Y=L=C=null,b=h;do{var O=b.lane&-536870913,V=O!==b.lane;if(V?(we&O)===O:(s&O)===O){O!==0&&O===$i&&(ir=!0),Y!==null&&(Y=Y.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var de=e,ve=b;O=n;var He=l;switch(ve.tag){case 1:if(de=ve.payload,typeof de=="function"){K=de.call(He,K,O);break e}K=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ve.payload,O=typeof de=="function"?de.call(He,K,O):de,O==null)break e;K=S({},K,O);break e;case 2:Fn=!0}}O=b.callback,O!==null&&(e.flags|=64,V&&(e.flags|=8192),V=p.callbacks,V===null?p.callbacks=[O]:V.push(O))}else V={lane:O,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Y===null?(L=Y=V,C=K):Y=Y.next=V,T|=O;if(b=b.next,b===null){if(b=p.shared.pending,b===null)break;V=b,b=V.next,V.next=null,p.lastBaseUpdate=V,p.shared.pending=null}}while(!0);Y===null&&(C=K),p.baseState=C,p.firstBaseUpdate=L,p.lastBaseUpdate=Y,h===null&&(p.shared.lanes=0),jn|=T,e.lanes=T,e.memoizedState=K}}function Td(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Ed(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Td(l[e],n)}var eo=A(null),ta=A(0);function bd(e,n){e=Nn,$(ta,e),$(eo,n),Nn=e|n.baseLanes}function or(){$(ta,Nn),$(eo,eo.current)}function lr(){Nn=ta.current,z(eo),z(ta)}var kt=A(null),Jt=null;function Kn(e){var n=e.alternate;$(Qe,Qe.current&1),$(kt,e),Jt===null&&(n===null||eo.current!==null||n.memoizedState!==null)&&(Jt=e)}function ar(e){$(Qe,Qe.current),$(kt,e),Jt===null&&(Jt=e)}function _d(e){e.tag===22?($(Qe,Qe.current),$(kt,e),Jt===null&&(Jt=e)):Xn()}function Xn(){$(Qe,Qe.current),$(kt,kt.current)}function Lt(e){z(kt),Jt===e&&(Jt=null),z(Qe)}var Qe=A(0);function na(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||fu(l)||pu(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Sn=0,Ee=null,Pe=null,Ze=null,ia=!1,to=!1,Ci=!1,oa=0,jo=0,no=null,ov=0;function Je(){throw Error(a(321))}function sr(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!Dt(e[l],n[l]))return!1;return!0}function rr(e,n,l,s,p,h){return Sn=h,Ee=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,U.H=e===null||e.memoizedState===null?rf:br,Ci=!1,h=l(s,p),Ci=!1,to&&(h=Ad(n,l,s,p)),Cd(e),h}function Cd(e){U.H=el;var n=Pe!==null&&Pe.next!==null;if(Sn=0,Ze=Pe=Ee=null,ia=!1,jo=0,no=null,n)throw Error(a(300));e===null||We||(e=e.dependencies,e!==null&&Xl(e)&&(We=!0))}function Ad(e,n,l,s){Ee=e;var p=0;do{if(to&&(no=null),jo=0,to=!1,25<=p)throw Error(a(301));if(p+=1,Ze=Pe=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}U.H=uf,h=n(l,s)}while(to);return h}function lv(){var e=U.H,n=e.useState()[0];return n=typeof n.then=="function"?Zo(n):n,e=e.useState()[0],(Pe!==null?Pe.memoizedState:null)!==e&&(Ee.flags|=1024),n}function ur(){var e=oa!==0;return oa=0,e}function cr(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function dr(e){if(ia){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ia=!1}Sn=0,Ze=Pe=Ee=null,to=!1,jo=oa=0,no=null}function yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Ee.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function $e(){if(Pe===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var n=Ze===null?Ee.memoizedState:Ze.next;if(n!==null)Ze=n,Pe=e;else{if(e===null)throw Ee.alternate===null?Error(a(467)):Error(a(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Ze===null?Ee.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function la(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zo(e){var n=jo;return jo+=1,no===null&&(no=[]),e=gd(no,e,n),n=Ee,(Ze===null?n.memoizedState:Ze.next)===null&&(n=n.alternate,U.H=n===null||n.memoizedState===null?rf:br),e}function aa(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zo(e);if(e.$$typeof===P)return ut(e)}throw Error(a(438,String(e)))}function fr(e){var n=null,l=Ee.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var s=Ee.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(p){return p.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=la(),Ee.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),s=0;s<e;s++)l[s]=ae;return n.index++,l}function Tn(e,n){return typeof n=="function"?n(e):n}function sa(e){var n=$e();return pr(n,Pe,e)}function pr(e,n,l){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=l;var p=e.baseQueue,h=s.pending;if(h!==null){if(p!==null){var T=p.next;p.next=h.next,h.next=T}n.baseQueue=p=h,s.pending=null}if(h=e.baseState,p===null)e.memoizedState=h;else{n=p.next;var b=T=null,C=null,L=n,Y=!1;do{var K=L.lane&-536870913;if(K!==L.lane?(we&K)===K:(Sn&K)===K){var O=L.revertLane;if(O===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),K===$i&&(Y=!0);else if((Sn&O)===O){L=L.next,O===$i&&(Y=!0);continue}else K={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(b=C=K,T=h):C=C.next=K,Ee.lanes|=O,jn|=O;K=L.action,Ci&&l(h,K),h=L.hasEagerState?L.eagerState:l(h,K)}else O={lane:K,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(b=C=O,T=h):C=C.next=O,Ee.lanes|=K,jn|=K;L=L.next}while(L!==null&&L!==n);if(C===null?T=h:C.next=b,!Dt(h,e.memoizedState)&&(We=!0,Y&&(l=ji,l!==null)))throw l;e.memoizedState=h,e.baseState=T,e.baseQueue=C,s.lastRenderedState=h}return p===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function hr(e){var n=$e(),l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=e;var s=l.dispatch,p=l.pending,h=n.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do h=e(h,T.action),T=T.next;while(T!==p);Dt(h,n.memoizedState)||(We=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),l.lastRenderedState=h}return[h,s]}function wd(e,n,l){var s=Ee,p=$e(),h=Re;if(h){if(l===void 0)throw Error(a(407));l=l()}else l=n();var T=!Dt((Pe||p).memoizedState,l);if(T&&(p.memoizedState=l,We=!0),p=p.queue,vr(Id.bind(null,s,p,e),[e]),p.getSnapshot!==n||T||Ze!==null&&Ze.memoizedState.tag&1){if(s.flags|=2048,io(9,{destroy:void 0},Rd.bind(null,s,p,l,n),null),Ve===null)throw Error(a(349));h||(Sn&127)!==0||Nd(s,n,l)}return l}function Nd(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=Ee.updateQueue,n===null?(n=la(),Ee.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function Rd(e,n,l,s){n.value=l,n.getSnapshot=s,Md(n)&&Dd(e)}function Id(e,n,l){return l(function(){Md(n)&&Dd(e)})}function Md(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!Dt(e,l)}catch{return!0}}function Dd(e){var n=gi(e,2);n!==null&&Nt(n,e,2)}function mr(e){var n=yt();if(typeof e=="function"){var l=e;if(e=l(),Ci){Pn(!0);try{l()}finally{Pn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:e},n}function Ud(e,n,l,s){return e.baseState=l,pr(e,Pe,typeof s=="function"?s:Tn)}function av(e,n,l,s,p){if(ca(e))throw Error(a(485));if(e=n.action,e!==null){var h={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){h.listeners.push(T)}};U.T!==null?l(!0):h.isTransition=!1,s(h),l=n.pending,l===null?(h.next=n.pending=h,kd(n,h)):(h.next=l.next,n.pending=l.next=h)}}function kd(e,n){var l=n.action,s=n.payload,p=e.state;if(n.isTransition){var h=U.T,T={};U.T=T;try{var b=l(p,s),C=U.S;C!==null&&C(T,b),Ld(e,n,b)}catch(L){gr(e,n,L)}finally{h!==null&&T.types!==null&&(h.types=T.types),U.T=h}}else try{h=l(p,s),Ld(e,n,h)}catch(L){gr(e,n,L)}}function Ld(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){Gd(e,n,s)},function(s){return gr(e,n,s)}):Gd(e,n,l)}function Gd(e,n,l){n.status="fulfilled",n.value=l,Pd(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,kd(e,l)))}function gr(e,n,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=l,Pd(n),n=n.next;while(n!==s)}e.action=null}function Pd(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Od(e,n){return n}function Hd(e,n){if(Re){var l=Ve.formState;if(l!==null){e:{var s=Ee;if(Re){if(Be){t:{for(var p=Be,h=Yt;p.nodeType!==8;){if(!h){p=null;break t}if(p=Kt(p.nextSibling),p===null){p=null;break t}}h=p.data,p=h==="F!"||h==="F"?p:null}if(p){Be=Kt(p.nextSibling),s=p.data==="F!";break e}}qn(s)}s=!1}s&&(n=l[0])}}return l=yt(),l.memoizedState=l.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Od,lastRenderedState:n},l.queue=s,l=lf.bind(null,Ee,s),s.dispatch=l,s=mr(!1),h=Er.bind(null,Ee,!1,s.queue),s=yt(),p={state:n,dispatch:null,action:e,pending:null},s.queue=p,l=av.bind(null,Ee,p,h,l),p.dispatch=l,s.memoizedState=e,[n,l,!1]}function Vd(e){var n=$e();return zd(n,Pe,e)}function zd(e,n,l){if(n=pr(e,n,Od)[0],e=sa(Tn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Zo(n)}catch(T){throw T===Zi?jl:T}else s=n;n=$e();var p=n.queue,h=p.dispatch;return l!==n.memoizedState&&(Ee.flags|=2048,io(9,{destroy:void 0},sv.bind(null,p,l),null)),[s,h,e]}function sv(e,n){e.action=n}function qd(e){var n=$e(),l=Pe;if(l!==null)return zd(n,l,e);$e(),n=n.memoizedState,l=$e();var s=l.queue.dispatch;return l.memoizedState=e,[n,s,!1]}function io(e,n,l,s){return e={tag:e,create:l,deps:s,inst:n,next:null},n=Ee.updateQueue,n===null&&(n=la(),Ee.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,n.lastEffect=e),e}function Bd(){return $e().memoizedState}function ra(e,n,l,s){var p=yt();Ee.flags|=e,p.memoizedState=io(1|n,{destroy:void 0},l,s===void 0?null:s)}function ua(e,n,l,s){var p=$e();s=s===void 0?null:s;var h=p.memoizedState.inst;Pe!==null&&s!==null&&sr(s,Pe.memoizedState.deps)?p.memoizedState=io(n,h,l,s):(Ee.flags|=e,p.memoizedState=io(1|n,h,l,s))}function Fd(e,n){ra(8390656,8,e,n)}function vr(e,n){ua(2048,8,e,n)}function rv(e){Ee.flags|=4;var n=Ee.updateQueue;if(n===null)n=la(),Ee.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function Yd(e){var n=$e().memoizedState;return rv({ref:n,nextImpl:e}),function(){if((Ue&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Jd(e,n){return ua(4,2,e,n)}function Kd(e,n){return ua(4,4,e,n)}function Xd(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Qd(e,n,l){l=l!=null?l.concat([e]):null,ua(4,4,Xd.bind(null,n,e),l)}function yr(){}function $d(e,n){var l=$e();n=n===void 0?null:n;var s=l.memoizedState;return n!==null&&sr(n,s[1])?s[0]:(l.memoizedState=[e,n],e)}function jd(e,n){var l=$e();n=n===void 0?null:n;var s=l.memoizedState;if(n!==null&&sr(n,s[1]))return s[0];if(s=e(),Ci){Pn(!0);try{e()}finally{Pn(!1)}}return l.memoizedState=[s,n],s}function xr(e,n,l){return l===void 0||(Sn&1073741824)!==0&&(we&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=Wf(),Ee.lanes|=e,jn|=e,l)}function Zd(e,n,l,s){return Dt(l,n)?l:eo.current!==null?(e=xr(e,l,s),Dt(e,n)||(We=!0),e):(Sn&42)===0||(Sn&1073741824)!==0&&(we&261930)===0?(We=!0,e.memoizedState=l):(e=Wf(),Ee.lanes|=e,jn|=e,n)}function Wd(e,n,l,s,p){var h=G.p;G.p=h!==0&&8>h?h:8;var T=U.T,b={};U.T=b,Er(e,!1,n,l);try{var C=p(),L=U.S;if(L!==null&&L(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=iv(C,s);Wo(e,n,Y,Ot(e))}else Wo(e,n,s,Ot(e))}catch(K){Wo(e,n,{then:function(){},status:"rejected",reason:K},Ot())}finally{G.p=h,T!==null&&b.types!==null&&(T.types=b.types),U.T=T}}function uv(){}function Sr(e,n,l,s){if(e.tag!==5)throw Error(a(476));var p=ef(e).queue;Wd(e,p,n,oe,l===null?uv:function(){return tf(e),l(s)})}function ef(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:oe},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function tf(e){var n=ef(e);n.next===null&&(n=e.alternate.memoizedState),Wo(e,n.next.queue,{},Ot())}function Tr(){return ut(gl)}function nf(){return $e().memoizedState}function of(){return $e().memoizedState}function cv(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=Ot();e=Yn(l);var s=Jn(n,e,l);s!==null&&(Nt(s,n,l),Xo(s,n,l)),n={cache:$s()},e.payload=n;return}n=n.return}}function dv(e,n,l){var s=Ot();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ca(e)?af(n,l):(l=Hs(e,n,l,s),l!==null&&(Nt(l,e,s),sf(l,n,s)))}function lf(e,n,l){var s=Ot();Wo(e,n,l,s)}function Wo(e,n,l,s){var p={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(ca(e))af(n,p);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var T=n.lastRenderedState,b=h(T,l);if(p.hasEagerState=!0,p.eagerState=b,Dt(b,T))return Fl(e,n,p,0),Ve===null&&Bl(),!1}catch{}finally{}if(l=Hs(e,n,p,s),l!==null)return Nt(l,e,s),sf(l,n,s),!0}return!1}function Er(e,n,l,s){if(s={lane:2,revertLane:eu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ca(e)){if(n)throw Error(a(479))}else n=Hs(e,l,s,2),n!==null&&Nt(n,e,2)}function ca(e){var n=e.alternate;return e===Ee||n!==null&&n===Ee}function af(e,n){to=ia=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function sf(e,n,l){if((l&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,dc(e,l)}}var el={readContext:ut,use:aa,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je};el.useEffectEvent=Je;var rf={readContext:ut,use:aa,useCallback:function(e,n){return yt().memoizedState=[e,n===void 0?null:n],e},useContext:ut,useEffect:Fd,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,ra(4194308,4,Xd.bind(null,n,e),l)},useLayoutEffect:function(e,n){return ra(4194308,4,e,n)},useInsertionEffect:function(e,n){ra(4,2,e,n)},useMemo:function(e,n){var l=yt();n=n===void 0?null:n;var s=e();if(Ci){Pn(!0);try{e()}finally{Pn(!1)}}return l.memoizedState=[s,n],s},useReducer:function(e,n,l){var s=yt();if(l!==void 0){var p=l(n);if(Ci){Pn(!0);try{l(n)}finally{Pn(!1)}}}else p=n;return s.memoizedState=s.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},s.queue=e,e=e.dispatch=dv.bind(null,Ee,e),[s.memoizedState,e]},useRef:function(e){var n=yt();return e={current:e},n.memoizedState=e},useState:function(e){e=mr(e);var n=e.queue,l=lf.bind(null,Ee,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:yr,useDeferredValue:function(e,n){var l=yt();return xr(l,e,n)},useTransition:function(){var e=mr(!1);return e=Wd.bind(null,Ee,e.queue,!0,!1),yt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var s=Ee,p=yt();if(Re){if(l===void 0)throw Error(a(407));l=l()}else{if(l=n(),Ve===null)throw Error(a(349));(we&127)!==0||Nd(s,n,l)}p.memoizedState=l;var h={value:l,getSnapshot:n};return p.queue=h,Fd(Id.bind(null,s,h,e),[e]),s.flags|=2048,io(9,{destroy:void 0},Rd.bind(null,s,h,l,n),null),l},useId:function(){var e=yt(),n=Ve.identifierPrefix;if(Re){var l=sn,s=an;l=(s&~(1<<32-Mt(s)-1)).toString(32)+l,n="_"+n+"R_"+l,l=oa++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=ov++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Tr,useFormState:Hd,useActionState:Hd,useOptimistic:function(e){var n=yt();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=Er.bind(null,Ee,!0,l),l.dispatch=n,[e,n]},useMemoCache:fr,useCacheRefresh:function(){return yt().memoizedState=cv.bind(null,Ee)},useEffectEvent:function(e){var n=yt(),l={impl:e};return n.memoizedState=l,function(){if((Ue&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},br={readContext:ut,use:aa,useCallback:$d,useContext:ut,useEffect:vr,useImperativeHandle:Qd,useInsertionEffect:Jd,useLayoutEffect:Kd,useMemo:jd,useReducer:sa,useRef:Bd,useState:function(){return sa(Tn)},useDebugValue:yr,useDeferredValue:function(e,n){var l=$e();return Zd(l,Pe.memoizedState,e,n)},useTransition:function(){var e=sa(Tn)[0],n=$e().memoizedState;return[typeof e=="boolean"?e:Zo(e),n]},useSyncExternalStore:wd,useId:nf,useHostTransitionStatus:Tr,useFormState:Vd,useActionState:Vd,useOptimistic:function(e,n){var l=$e();return Ud(l,Pe,e,n)},useMemoCache:fr,useCacheRefresh:of};br.useEffectEvent=Yd;var uf={readContext:ut,use:aa,useCallback:$d,useContext:ut,useEffect:vr,useImperativeHandle:Qd,useInsertionEffect:Jd,useLayoutEffect:Kd,useMemo:jd,useReducer:hr,useRef:Bd,useState:function(){return hr(Tn)},useDebugValue:yr,useDeferredValue:function(e,n){var l=$e();return Pe===null?xr(l,e,n):Zd(l,Pe.memoizedState,e,n)},useTransition:function(){var e=hr(Tn)[0],n=$e().memoizedState;return[typeof e=="boolean"?e:Zo(e),n]},useSyncExternalStore:wd,useId:nf,useHostTransitionStatus:Tr,useFormState:qd,useActionState:qd,useOptimistic:function(e,n){var l=$e();return Pe!==null?Ud(l,Pe,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:fr,useCacheRefresh:of};uf.useEffectEvent=Yd;function _r(e,n,l,s){n=e.memoizedState,l=l(s,n),l=l==null?n:S({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Cr={enqueueSetState:function(e,n,l){e=e._reactInternals;var s=Ot(),p=Yn(s);p.payload=n,l!=null&&(p.callback=l),n=Jn(e,p,s),n!==null&&(Nt(n,e,s),Xo(n,e,s))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var s=Ot(),p=Yn(s);p.tag=1,p.payload=n,l!=null&&(p.callback=l),n=Jn(e,p,s),n!==null&&(Nt(n,e,s),Xo(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=Ot(),s=Yn(l);s.tag=2,n!=null&&(s.callback=n),n=Jn(e,s,l),n!==null&&(Nt(n,e,l),Xo(n,e,l))}};function cf(e,n,l,s,p,h,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,h,T):n.prototype&&n.prototype.isPureReactComponent?!Vo(l,s)||!Vo(p,h):!0}function df(e,n,l,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,s),n.state!==e&&Cr.enqueueReplaceState(n,n.state,null)}function Ai(e,n){var l=n;if("ref"in n){l={};for(var s in n)s!=="ref"&&(l[s]=n[s])}if(e=e.defaultProps){l===n&&(l=S({},l));for(var p in e)l[p]===void 0&&(l[p]=e[p])}return l}function ff(e){ql(e)}function pf(e){console.error(e)}function hf(e){ql(e)}function da(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function mf(e,n,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Ar(e,n,l){return l=Yn(l),l.tag=3,l.payload={element:null},l.callback=function(){da(e,n)},l}function gf(e){return e=Yn(e),e.tag=3,e}function vf(e,n,l,s){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var h=s.value;e.payload=function(){return p(h)},e.callback=function(){mf(n,l,s)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){mf(n,l,s),typeof p!="function"&&(Zn===null?Zn=new Set([this]):Zn.add(this));var b=s.stack;this.componentDidCatch(s.value,{componentStack:b!==null?b:""})})}function fv(e,n,l,s,p){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=l.alternate,n!==null&&Qi(n,l,p,!0),l=kt.current,l!==null){switch(l.tag){case 31:case 13:return Jt===null?ba():l.alternate===null&&Ke===0&&(Ke=3),l.flags&=-257,l.flags|=65536,l.lanes=p,s===Zl?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([s]):n.add(s),jr(e,s,p)),!1;case 22:return l.flags|=65536,s===Zl?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([s]):l.add(s)),jr(e,s,p)),!1}throw Error(a(435,l.tag))}return jr(e,s,p),ba(),!1}if(Re)return n=kt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=p,s!==Ys&&(e=Error(a(422),{cause:s}),Bo(qt(e,l)))):(s!==Ys&&(n=Error(a(423),{cause:s}),Bo(qt(n,l))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,s=qt(s,l),p=Ar(e.stateNode,s,p),nr(e,p),Ke!==4&&(Ke=2)),!1;var h=Error(a(520),{cause:s});if(h=qt(h,l),rl===null?rl=[h]:rl.push(h),Ke!==4&&(Ke=2),n===null)return!0;s=qt(s,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=p&-p,l.lanes|=e,e=Ar(l.stateNode,s,e),nr(l,e),!1;case 1:if(n=l.type,h=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Zn===null||!Zn.has(h))))return l.flags|=65536,p&=-p,l.lanes|=p,p=gf(p),vf(p,e,l,s),nr(l,p),!1}l=l.return}while(l!==null);return!1}var wr=Error(a(461)),We=!1;function ct(e,n,l,s){n.child=e===null?Sd(n,null,l,s):_i(n,e.child,l,s)}function yf(e,n,l,s,p){l=l.render;var h=n.ref;if("ref"in s){var T={};for(var b in s)b!=="ref"&&(T[b]=s[b])}else T=s;return Si(n),s=rr(e,n,l,T,h,p),b=ur(),e!==null&&!We?(cr(e,n,p),En(e,n,p)):(Re&&b&&Bs(n),n.flags|=1,ct(e,n,s,p),n.child)}function xf(e,n,l,s,p){if(e===null){var h=l.type;return typeof h=="function"&&!Vs(h)&&h.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=h,Sf(e,n,h,s,p)):(e=Jl(l.type,null,s,n,n.mode,p),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!Lr(e,p)){var T=h.memoizedProps;if(l=l.compare,l=l!==null?l:Vo,l(T,s)&&e.ref===n.ref)return En(e,n,p)}return n.flags|=1,e=gn(h,s),e.ref=n.ref,e.return=n,n.child=e}function Sf(e,n,l,s,p){if(e!==null){var h=e.memoizedProps;if(Vo(h,s)&&e.ref===n.ref)if(We=!1,n.pendingProps=s=h,Lr(e,p))(e.flags&131072)!==0&&(We=!0);else return n.lanes=e.lanes,En(e,n,p)}return Nr(e,n,l,s,p)}function Tf(e,n,l,s){var p=s.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|l:l,e!==null){for(s=n.child=e.child,p=0;s!==null;)p=p|s.lanes|s.childLanes,s=s.sibling;s=p&~h}else s=0,n.child=null;return Ef(e,n,h,l,s)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&$l(n,h!==null?h.cachePool:null),h!==null?bd(n,h):or(),_d(n);else return s=n.lanes=536870912,Ef(e,n,h!==null?h.baseLanes|l:l,l,s)}else h!==null?($l(n,h.cachePool),bd(n,h),Xn(),n.memoizedState=null):(e!==null&&$l(n,null),or(),Xn());return ct(e,n,p,l),n.child}function tl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ef(e,n,l,s,p){var h=Zs();return h=h===null?null:{parent:je._currentValue,pool:h},n.memoizedState={baseLanes:l,cachePool:h},e!==null&&$l(n,null),or(),_d(n),e!==null&&Qi(e,n,s,!0),n.childLanes=p,null}function fa(e,n){return n=ha({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function bf(e,n,l){return _i(n,e.child,null,l),e=fa(n,n.pendingProps),e.flags|=2,Lt(n),n.memoizedState=null,e}function pv(e,n,l){var s=n.pendingProps,p=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Re){if(s.mode==="hidden")return e=fa(n,s),n.lanes=536870912,tl(null,e);if(ar(n),(e=Be)?(e=Lp(e,Yt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Vn!==null?{id:an,overflow:sn}:null,retryLane:536870912,hydrationErrors:null},l=ld(e),l.return=n,n.child=l,rt=n,Be=null)):e=null,e===null)throw qn(n);return n.lanes=536870912,null}return fa(n,s)}var h=e.memoizedState;if(h!==null){var T=h.dehydrated;if(ar(n),p)if(n.flags&256)n.flags&=-257,n=bf(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(We||Qi(e,n,l,!1),p=(l&e.childLanes)!==0,We||p){if(s=Ve,s!==null&&(T=fc(s,l),T!==0&&T!==h.retryLane))throw h.retryLane=T,gi(e,T),Nt(s,e,T),wr;ba(),n=bf(e,n,l)}else e=h.treeContext,Be=Kt(T.nextSibling),rt=n,Re=!0,zn=null,Yt=!1,e!==null&&rd(n,e),n=fa(n,s),n.flags|=4096;return n}return e=gn(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function pa(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function Nr(e,n,l,s,p){return Si(n),l=rr(e,n,l,s,void 0,p),s=ur(),e!==null&&!We?(cr(e,n,p),En(e,n,p)):(Re&&s&&Bs(n),n.flags|=1,ct(e,n,l,p),n.child)}function _f(e,n,l,s,p,h){return Si(n),n.updateQueue=null,l=Ad(n,s,l,p),Cd(e),s=ur(),e!==null&&!We?(cr(e,n,h),En(e,n,h)):(Re&&s&&Bs(n),n.flags|=1,ct(e,n,l,h),n.child)}function Cf(e,n,l,s,p){if(Si(n),n.stateNode===null){var h=Yi,T=l.contextType;typeof T=="object"&&T!==null&&(h=ut(T)),h=new l(s,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Cr,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=s,h.state=n.memoizedState,h.refs={},er(n),T=l.contextType,h.context=typeof T=="object"&&T!==null?ut(T):Yi,h.state=n.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(_r(n,l,T,s),h.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(T=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),T!==h.state&&Cr.enqueueReplaceState(h,h.state,null),$o(n,s,h,p),Qo(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){h=n.stateNode;var b=n.memoizedProps,C=Ai(l,b);h.props=C;var L=h.context,Y=l.contextType;T=Yi,typeof Y=="object"&&Y!==null&&(T=ut(Y));var K=l.getDerivedStateFromProps;Y=typeof K=="function"||typeof h.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,Y||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b||L!==T)&&df(n,h,s,T),Fn=!1;var O=n.memoizedState;h.state=O,$o(n,s,h,p),Qo(),L=n.memoizedState,b||O!==L||Fn?(typeof K=="function"&&(_r(n,l,K,s),L=n.memoizedState),(C=Fn||cf(n,l,C,s,O,L,T))?(Y||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=L),h.props=s,h.state=L,h.context=T,s=C):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{h=n.stateNode,tr(e,n),T=n.memoizedProps,Y=Ai(l,T),h.props=Y,K=n.pendingProps,O=h.context,L=l.contextType,C=Yi,typeof L=="object"&&L!==null&&(C=ut(L)),b=l.getDerivedStateFromProps,(L=typeof b=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T!==K||O!==C)&&df(n,h,s,C),Fn=!1,O=n.memoizedState,h.state=O,$o(n,s,h,p),Qo();var V=n.memoizedState;T!==K||O!==V||Fn||e!==null&&e.dependencies!==null&&Xl(e.dependencies)?(typeof b=="function"&&(_r(n,l,b,s),V=n.memoizedState),(Y=Fn||cf(n,l,Y,s,O,V,C)||e!==null&&e.dependencies!==null&&Xl(e.dependencies))?(L||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,V,C),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,V,C)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||T===e.memoizedProps&&O===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&O===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=V),h.props=s,h.state=V,h.context=C,s=Y):(typeof h.componentDidUpdate!="function"||T===e.memoizedProps&&O===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&O===e.memoizedState||(n.flags|=1024),s=!1)}return h=s,pa(e,n),s=(n.flags&128)!==0,h||s?(h=n.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&s?(n.child=_i(n,e.child,null,p),n.child=_i(n,null,l,p)):ct(e,n,l,p),n.memoizedState=h.state,e=n.child):e=En(e,n,p),e}function Af(e,n,l,s){return yi(),n.flags|=256,ct(e,n,l,s),n.child}var Rr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ir(e){return{baseLanes:e,cachePool:hd()}}function Mr(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=Pt),e}function wf(e,n,l){var s=n.pendingProps,p=!1,h=(n.flags&128)!==0,T;if((T=h)||(T=e!==null&&e.memoizedState===null?!1:(Qe.current&2)!==0),T&&(p=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,e===null){if(Re){if(p?Kn(n):Xn(),(e=Be)?(e=Lp(e,Yt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Vn!==null?{id:an,overflow:sn}:null,retryLane:536870912,hydrationErrors:null},l=ld(e),l.return=n,n.child=l,rt=n,Be=null)):e=null,e===null)throw qn(n);return pu(e)?n.lanes=32:n.lanes=536870912,null}var b=s.children;return s=s.fallback,p?(Xn(),p=n.mode,b=ha({mode:"hidden",children:b},p),s=vi(s,p,l,null),b.return=n,s.return=n,b.sibling=s,n.child=b,s=n.child,s.memoizedState=Ir(l),s.childLanes=Mr(e,T,l),n.memoizedState=Rr,tl(null,s)):(Kn(n),Dr(n,b))}var C=e.memoizedState;if(C!==null&&(b=C.dehydrated,b!==null)){if(h)n.flags&256?(Kn(n),n.flags&=-257,n=Ur(e,n,l)):n.memoizedState!==null?(Xn(),n.child=e.child,n.flags|=128,n=null):(Xn(),b=s.fallback,p=n.mode,s=ha({mode:"visible",children:s.children},p),b=vi(b,p,l,null),b.flags|=2,s.return=n,b.return=n,s.sibling=b,n.child=s,_i(n,e.child,null,l),s=n.child,s.memoizedState=Ir(l),s.childLanes=Mr(e,T,l),n.memoizedState=Rr,n=tl(null,s));else if(Kn(n),pu(b)){if(T=b.nextSibling&&b.nextSibling.dataset,T)var L=T.dgst;T=L,s=Error(a(419)),s.stack="",s.digest=T,Bo({value:s,source:null,stack:null}),n=Ur(e,n,l)}else if(We||Qi(e,n,l,!1),T=(l&e.childLanes)!==0,We||T){if(T=Ve,T!==null&&(s=fc(T,l),s!==0&&s!==C.retryLane))throw C.retryLane=s,gi(e,s),Nt(T,e,s),wr;fu(b)||ba(),n=Ur(e,n,l)}else fu(b)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,Be=Kt(b.nextSibling),rt=n,Re=!0,zn=null,Yt=!1,e!==null&&rd(n,e),n=Dr(n,s.children),n.flags|=4096);return n}return p?(Xn(),b=s.fallback,p=n.mode,C=e.child,L=C.sibling,s=gn(C,{mode:"hidden",children:s.children}),s.subtreeFlags=C.subtreeFlags&65011712,L!==null?b=gn(L,b):(b=vi(b,p,l,null),b.flags|=2),b.return=n,s.return=n,s.sibling=b,n.child=s,tl(null,s),s=n.child,b=e.child.memoizedState,b===null?b=Ir(l):(p=b.cachePool,p!==null?(C=je._currentValue,p=p.parent!==C?{parent:C,pool:C}:p):p=hd(),b={baseLanes:b.baseLanes|l,cachePool:p}),s.memoizedState=b,s.childLanes=Mr(e,T,l),n.memoizedState=Rr,tl(e.child,s)):(Kn(n),l=e.child,e=l.sibling,l=gn(l,{mode:"visible",children:s.children}),l.return=n,l.sibling=null,e!==null&&(T=n.deletions,T===null?(n.deletions=[e],n.flags|=16):T.push(e)),n.child=l,n.memoizedState=null,l)}function Dr(e,n){return n=ha({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ha(e,n){return e=Ut(22,e,null,n),e.lanes=0,e}function Ur(e,n,l){return _i(n,e.child,null,l),e=Dr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Nf(e,n,l){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Xs(e.return,n,l)}function kr(e,n,l,s,p,h){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:p,treeForkCount:h}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=s,T.tail=l,T.tailMode=p,T.treeForkCount=h)}function Rf(e,n,l){var s=n.pendingProps,p=s.revealOrder,h=s.tail;s=s.children;var T=Qe.current,b=(T&2)!==0;if(b?(T=T&1|2,n.flags|=128):T&=1,$(Qe,T),ct(e,n,s,l),s=Re?qo:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nf(e,l,n);else if(e.tag===19)Nf(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(p){case"forwards":for(l=n.child,p=null;l!==null;)e=l.alternate,e!==null&&na(e)===null&&(p=l),l=l.sibling;l=p,l===null?(p=n.child,n.child=null):(p=l.sibling,l.sibling=null),kr(n,!1,p,l,h,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=n.child,n.child=null;p!==null;){if(e=p.alternate,e!==null&&na(e)===null){n.child=p;break}e=p.sibling,p.sibling=l,l=p,p=e}kr(n,!0,l,null,h,s);break;case"together":kr(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function En(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),jn|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(Qi(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,l=gn(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=gn(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function Lr(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Xl(e)))}function hv(e,n,l){switch(n.tag){case 3:ye(n,n.stateNode.containerInfo),Bn(n,je,e.memoizedState.cache),yi();break;case 27:case 5:ze(n);break;case 4:ye(n,n.stateNode.containerInfo);break;case 10:Bn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ar(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(Kn(n),n.flags|=128,null):(l&n.child.childLanes)!==0?wf(e,n,l):(Kn(n),e=En(e,n,l),e!==null?e.sibling:null);Kn(n);break;case 19:var p=(e.flags&128)!==0;if(s=(l&n.childLanes)!==0,s||(Qi(e,n,l,!1),s=(l&n.childLanes)!==0),p){if(s)return Rf(e,n,l);n.flags|=128}if(p=n.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),$(Qe,Qe.current),s)break;return null;case 22:return n.lanes=0,Tf(e,n,l,n.pendingProps);case 24:Bn(n,je,e.memoizedState.cache)}return En(e,n,l)}function If(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)We=!0;else{if(!Lr(e,l)&&(n.flags&128)===0)return We=!1,hv(e,n,l);We=(e.flags&131072)!==0}else We=!1,Re&&(n.flags&1048576)!==0&&sd(n,qo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=Ei(n.elementType),n.type=e,typeof e=="function")Vs(e)?(s=Ai(e,s),n.tag=1,n=Cf(null,n,e,s,l)):(n.tag=0,n=Nr(null,n,e,s,l));else{if(e!=null){var p=e.$$typeof;if(p===X){n.tag=11,n=yf(null,n,e,s,l);break e}else if(p===Z){n.tag=14,n=xf(null,n,e,s,l);break e}}throw n=te(e)||e,Error(a(306,n,""))}}return n;case 0:return Nr(e,n,n.type,n.pendingProps,l);case 1:return s=n.type,p=Ai(s,n.pendingProps),Cf(e,n,s,p,l);case 3:e:{if(ye(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var h=n.memoizedState;p=h.element,tr(e,n),$o(n,s,null,l);var T=n.memoizedState;if(s=T.cache,Bn(n,je,s),s!==h.cache&&Qs(n,[je],l,!0),Qo(),s=T.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Af(e,n,s,l);break e}else if(s!==p){p=qt(Error(a(424)),n),Bo(p),n=Af(e,n,s,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Be=Kt(e.firstChild),rt=n,Re=!0,zn=null,Yt=!0,l=Sd(n,null,s,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(yi(),s===p){n=En(e,n,l);break e}ct(e,n,s,l)}n=n.child}return n;case 26:return pa(e,n),e===null?(l=zp(n.type,null,n.pendingProps,null))?n.memoizedState=l:Re||(l=n.type,e=n.pendingProps,s=Ia(Q.current).createElement(l),s[st]=n,s[Et]=e,dt(s,l,e),it(s),n.stateNode=s):n.memoizedState=zp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ze(n),e===null&&Re&&(s=n.stateNode=Op(n.type,n.pendingProps,Q.current),rt=n,Yt=!0,p=Be,ni(n.type)?(hu=p,Be=Kt(s.firstChild)):Be=p),ct(e,n,n.pendingProps.children,l),pa(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Re&&((p=s=Be)&&(s=Fv(s,n.type,n.pendingProps,Yt),s!==null?(n.stateNode=s,rt=n,Be=Kt(s.firstChild),Yt=!1,p=!0):p=!1),p||qn(n)),ze(n),p=n.type,h=n.pendingProps,T=e!==null?e.memoizedProps:null,s=h.children,uu(p,h)?s=null:T!==null&&uu(p,T)&&(n.flags|=32),n.memoizedState!==null&&(p=rr(e,n,lv,null,null,l),gl._currentValue=p),pa(e,n),ct(e,n,s,l),n.child;case 6:return e===null&&Re&&((e=l=Be)&&(l=Yv(l,n.pendingProps,Yt),l!==null?(n.stateNode=l,rt=n,Be=null,e=!0):e=!1),e||qn(n)),null;case 13:return wf(e,n,l);case 4:return ye(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=_i(n,null,s,l):ct(e,n,s,l),n.child;case 11:return yf(e,n,n.type,n.pendingProps,l);case 7:return ct(e,n,n.pendingProps,l),n.child;case 8:return ct(e,n,n.pendingProps.children,l),n.child;case 12:return ct(e,n,n.pendingProps.children,l),n.child;case 10:return s=n.pendingProps,Bn(n,n.type,s.value),ct(e,n,s.children,l),n.child;case 9:return p=n.type._context,s=n.pendingProps.children,Si(n),p=ut(p),s=s(p),n.flags|=1,ct(e,n,s,l),n.child;case 14:return xf(e,n,n.type,n.pendingProps,l);case 15:return Sf(e,n,n.type,n.pendingProps,l);case 19:return Rf(e,n,l);case 31:return pv(e,n,l);case 22:return Tf(e,n,l,n.pendingProps);case 24:return Si(n),s=ut(je),e===null?(p=Zs(),p===null&&(p=Ve,h=$s(),p.pooledCache=h,h.refCount++,h!==null&&(p.pooledCacheLanes|=l),p=h),n.memoizedState={parent:s,cache:p},er(n),Bn(n,je,p)):((e.lanes&l)!==0&&(tr(e,n),$o(n,null,null,l),Qo()),p=e.memoizedState,h=n.memoizedState,p.parent!==s?(p={parent:s,cache:s},n.memoizedState=p,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=p),Bn(n,je,s)):(s=h.cache,Bn(n,je,s),s!==p.cache&&Qs(n,[je],l,!0))),ct(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function bn(e){e.flags|=4}function Gr(e,n,l,s,p){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(p&335544128)===p)if(e.stateNode.complete)e.flags|=8192;else if(ip())e.flags|=8192;else throw bi=Zl,Ws}else e.flags&=-16777217}function Mf(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Jp(n))if(ip())e.flags|=8192;else throw bi=Zl,Ws}function ma(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?uc():536870912,e.lanes|=n,so|=n)}function nl(e,n){if(!Re)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Fe(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(n)for(var p=e.child;p!==null;)l|=p.lanes|p.childLanes,s|=p.subtreeFlags&65011712,s|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)l|=p.lanes|p.childLanes,s|=p.subtreeFlags,s|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=s,e.childLanes=l,n}function mv(e,n,l){var s=n.pendingProps;switch(Fs(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(n),null;case 1:return Fe(n),null;case 3:return l=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),xn(je),Se(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Xi(n)?bn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Js())),Fe(n),null;case 26:var p=n.type,h=n.memoizedState;return e===null?(bn(n),h!==null?(Fe(n),Mf(n,h)):(Fe(n),Gr(n,p,null,s,l))):h?h!==e.memoizedState?(bn(n),Fe(n),Mf(n,h)):(Fe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&bn(n),Fe(n),Gr(n,p,e,s,l)),null;case 27:if(qe(n),l=Q.current,p=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&bn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Fe(n),null}e=I.current,Xi(n)?ud(n):(e=Op(p,s,l),n.stateNode=e,bn(n))}return Fe(n),null;case 5:if(qe(n),p=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&bn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Fe(n),null}if(h=I.current,Xi(n))ud(n);else{var T=Ia(Q.current);switch(h){case 1:h=T.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:h=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":h=T.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":h=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":h=T.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof s.is=="string"?T.createElement("select",{is:s.is}):T.createElement("select"),s.multiple?h.multiple=!0:s.size&&(h.size=s.size);break;default:h=typeof s.is=="string"?T.createElement(p,{is:s.is}):T.createElement(p)}}h[st]=n,h[Et]=s;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)h.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=h;e:switch(dt(h,p,s),p){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&bn(n)}}return Fe(n),Gr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&bn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=Q.current,Xi(n)){if(e=n.stateNode,l=n.memoizedProps,s=null,p=rt,p!==null)switch(p.tag){case 27:case 5:s=p.memoizedProps}e[st]=n,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||wp(e.nodeValue,l)),e||qn(n,!0)}else e=Ia(e).createTextNode(s),e[st]=n,n.stateNode=e}return Fe(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(s=Xi(n),l!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[st]=n}else yi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Fe(n),e=!1}else l=Js(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(Lt(n),n):(Lt(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Fe(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=Xi(n),s!==null&&s.dehydrated!==null){if(e===null){if(!p)throw Error(a(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[st]=n}else yi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Fe(n),p=!1}else p=Js(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return n.flags&256?(Lt(n),n):(Lt(n),null)}return Lt(n),(n.flags&128)!==0?(n.lanes=l,n):(l=s!==null,e=e!==null&&e.memoizedState!==null,l&&(s=n.child,p=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(p=s.alternate.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==p&&(s.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),ma(n,n.updateQueue),Fe(n),null);case 4:return Se(),e===null&&ou(n.stateNode.containerInfo),Fe(n),null;case 10:return xn(n.type),Fe(n),null;case 19:if(z(Qe),s=n.memoizedState,s===null)return Fe(n),null;if(p=(n.flags&128)!==0,h=s.rendering,h===null)if(p)nl(s,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=na(e),h!==null){for(n.flags|=128,nl(s,!1),e=h.updateQueue,n.updateQueue=e,ma(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)od(l,e),l=l.sibling;return $(Qe,Qe.current&1|2),Re&&vn(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&nt()>Sa&&(n.flags|=128,p=!0,nl(s,!1),n.lanes=4194304)}else{if(!p)if(e=na(h),e!==null){if(n.flags|=128,p=!0,e=e.updateQueue,n.updateQueue=e,ma(n,e),nl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!h.alternate&&!Re)return Fe(n),null}else 2*nt()-s.renderingStartTime>Sa&&l!==536870912&&(n.flags|=128,p=!0,nl(s,!1),n.lanes=4194304);s.isBackwards?(h.sibling=n.child,n.child=h):(e=s.last,e!==null?e.sibling=h:n.child=h,s.last=h)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=nt(),e.sibling=null,l=Qe.current,$(Qe,p?l&1|2:l&1),Re&&vn(n,s.treeForkCount),e):(Fe(n),null);case 22:case 23:return Lt(n),lr(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(l&536870912)!==0&&(n.flags&128)===0&&(Fe(n),n.subtreeFlags&6&&(n.flags|=8192)):Fe(n),l=n.updateQueue,l!==null&&ma(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==l&&(n.flags|=2048),e!==null&&z(Ti),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),xn(je),Fe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function gv(e,n){switch(Fs(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return xn(je),Se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return qe(n),null;case 31:if(n.memoizedState!==null){if(Lt(n),n.alternate===null)throw Error(a(340));yi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Lt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));yi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return z(Qe),null;case 4:return Se(),null;case 10:return xn(n.type),null;case 22:case 23:return Lt(n),lr(),e!==null&&z(Ti),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return xn(je),null;case 25:return null;default:return null}}function Df(e,n){switch(Fs(n),n.tag){case 3:xn(je),Se();break;case 26:case 27:case 5:qe(n);break;case 4:Se();break;case 31:n.memoizedState!==null&&Lt(n);break;case 13:Lt(n);break;case 19:z(Qe);break;case 10:xn(n.type);break;case 22:case 23:Lt(n),lr(),e!==null&&z(Ti);break;case 24:xn(je)}}function il(e,n){try{var l=n.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var p=s.next;l=p;do{if((l.tag&e)===e){s=void 0;var h=l.create,T=l.inst;s=h(),T.destroy=s}l=l.next}while(l!==p)}}catch(b){Le(n,n.return,b)}}function Qn(e,n,l){try{var s=n.updateQueue,p=s!==null?s.lastEffect:null;if(p!==null){var h=p.next;s=h;do{if((s.tag&e)===e){var T=s.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,p=n;var C=l,L=b;try{L()}catch(Y){Le(p,C,Y)}}}s=s.next}while(s!==h)}}catch(Y){Le(n,n.return,Y)}}function Uf(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{Ed(n,l)}catch(s){Le(e,e.return,s)}}}function kf(e,n,l){l.props=Ai(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){Le(e,n,s)}}function ol(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(p){Le(e,n,p)}}function rn(e,n){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(p){Le(e,n,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Le(e,n,p)}else l.current=null}function Lf(e){var n=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(p){Le(e,e.return,p)}}function Pr(e,n,l){try{var s=e.stateNode;Ov(s,e.type,l,n),s[Et]=n}catch(p){Le(e,e.return,p)}}function Gf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ni(e.type)||e.tag===4}function Or(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ni(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hr(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=hn));else if(s!==4&&(s===27&&ni(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(Hr(e,n,l),e=e.sibling;e!==null;)Hr(e,n,l),e=e.sibling}function ga(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(s!==4&&(s===27&&ni(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(ga(e,n,l),e=e.sibling;e!==null;)ga(e,n,l),e=e.sibling}function Pf(e){var n=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,p=n.attributes;p.length;)n.removeAttributeNode(p[0]);dt(n,s,l),n[st]=e,n[Et]=l}catch(h){Le(e,e.return,h)}}var _n=!1,et=!1,Vr=!1,Of=typeof WeakSet=="function"?WeakSet:Set,ot=null;function vv(e,n){if(e=e.containerInfo,su=Pa,e=Qc(e),Us(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var p=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{l.nodeType,h.nodeType}catch{l=null;break e}var T=0,b=-1,C=-1,L=0,Y=0,K=e,O=null;t:for(;;){for(var V;K!==l||p!==0&&K.nodeType!==3||(b=T+p),K!==h||s!==0&&K.nodeType!==3||(C=T+s),K.nodeType===3&&(T+=K.nodeValue.length),(V=K.firstChild)!==null;)O=K,K=V;for(;;){if(K===e)break t;if(O===l&&++L===p&&(b=T),O===h&&++Y===s&&(C=T),(V=K.nextSibling)!==null)break;K=O,O=K.parentNode}K=V}l=b===-1||C===-1?null:{start:b,end:C}}else l=null}l=l||{start:0,end:0}}else l=null;for(ru={focusedElem:e,selectionRange:l},Pa=!1,ot=n;ot!==null;)if(n=ot,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ot=e;else for(;ot!==null;){switch(n=ot,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)p=e[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,l=n,p=h.memoizedProps,h=h.memoizedState,s=l.stateNode;try{var de=Ai(l.type,p);e=s.getSnapshotBeforeUpdate(de,h),s.__reactInternalSnapshotBeforeUpdate=e}catch(ve){Le(l,l.return,ve)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)du(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":du(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,ot=e;break}ot=n.return}}function Hf(e,n,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:An(e,l),s&4&&il(5,l);break;case 1:if(An(e,l),s&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(T){Le(l,l.return,T)}else{var p=Ai(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(p,n,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Le(l,l.return,T)}}s&64&&Uf(l),s&512&&ol(l,l.return);break;case 3:if(An(e,l),s&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{Ed(e,n)}catch(T){Le(l,l.return,T)}}break;case 27:n===null&&s&4&&Pf(l);case 26:case 5:An(e,l),n===null&&s&4&&Lf(l),s&512&&ol(l,l.return);break;case 12:An(e,l);break;case 31:An(e,l),s&4&&qf(e,l);break;case 13:An(e,l),s&4&&Bf(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Av.bind(null,l),Jv(e,l))));break;case 22:if(s=l.memoizedState!==null||_n,!s){n=n!==null&&n.memoizedState!==null||et,p=_n;var h=et;_n=s,(et=n)&&!h?wn(e,l,(l.subtreeFlags&8772)!==0):An(e,l),_n=p,et=h}break;case 30:break;default:An(e,l)}}function Vf(e){var n=e.alternate;n!==null&&(e.alternate=null,Vf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&gs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ye=null,_t=!1;function Cn(e,n,l){for(l=l.child;l!==null;)zf(e,n,l),l=l.sibling}function zf(e,n,l){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Gn,l)}catch{}switch(l.tag){case 26:et||rn(l,n),Cn(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:et||rn(l,n);var s=Ye,p=_t;ni(l.type)&&(Ye=l.stateNode,_t=!1),Cn(e,n,l),pl(l.stateNode),Ye=s,_t=p;break;case 5:et||rn(l,n);case 6:if(s=Ye,p=_t,Ye=null,Cn(e,n,l),Ye=s,_t=p,Ye!==null)if(_t)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(l.stateNode)}catch(h){Le(l,n,h)}else try{Ye.removeChild(l.stateNode)}catch(h){Le(l,n,h)}break;case 18:Ye!==null&&(_t?(e=Ye,Up(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),go(e)):Up(Ye,l.stateNode));break;case 4:s=Ye,p=_t,Ye=l.stateNode.containerInfo,_t=!0,Cn(e,n,l),Ye=s,_t=p;break;case 0:case 11:case 14:case 15:Qn(2,l,n),et||Qn(4,l,n),Cn(e,n,l);break;case 1:et||(rn(l,n),s=l.stateNode,typeof s.componentWillUnmount=="function"&&kf(l,n,s)),Cn(e,n,l);break;case 21:Cn(e,n,l);break;case 22:et=(s=et)||l.memoizedState!==null,Cn(e,n,l),et=s;break;default:Cn(e,n,l)}}function qf(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{go(e)}catch(l){Le(n,n.return,l)}}}function Bf(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{go(e)}catch(l){Le(n,n.return,l)}}function yv(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Of),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Of),n;default:throw Error(a(435,e.tag))}}function va(e,n){var l=yv(e);n.forEach(function(s){if(!l.has(s)){l.add(s);var p=wv.bind(null,e,s);s.then(p,p)}})}function Ct(e,n){var l=n.deletions;if(l!==null)for(var s=0;s<l.length;s++){var p=l[s],h=e,T=n,b=T;e:for(;b!==null;){switch(b.tag){case 27:if(ni(b.type)){Ye=b.stateNode,_t=!1;break e}break;case 5:Ye=b.stateNode,_t=!1;break e;case 3:case 4:Ye=b.stateNode.containerInfo,_t=!0;break e}b=b.return}if(Ye===null)throw Error(a(160));zf(h,T,p),Ye=null,_t=!1,h=p.alternate,h!==null&&(h.return=null),p.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ff(n,e),n=n.sibling}var en=null;function Ff(e,n){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ct(n,e),At(e),s&4&&(Qn(3,e,e.return),il(3,e),Qn(5,e,e.return));break;case 1:Ct(n,e),At(e),s&512&&(et||l===null||rn(l,l.return)),s&64&&_n&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var p=en;if(Ct(n,e),At(e),s&512&&(et||l===null||rn(l,l.return)),s&4){var h=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,p=p.ownerDocument||p;t:switch(s){case"title":h=p.getElementsByTagName("title")[0],(!h||h[Mo]||h[st]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=p.createElement(s),p.head.insertBefore(h,p.querySelector("head > title"))),dt(h,s,l),h[st]=e,it(h),s=h;break e;case"link":var T=Fp("link","href",p).get(s+(l.href||""));if(T){for(var b=0;b<T.length;b++)if(h=T[b],h.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&h.getAttribute("rel")===(l.rel==null?null:l.rel)&&h.getAttribute("title")===(l.title==null?null:l.title)&&h.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(b,1);break t}}h=p.createElement(s),dt(h,s,l),p.head.appendChild(h);break;case"meta":if(T=Fp("meta","content",p).get(s+(l.content||""))){for(b=0;b<T.length;b++)if(h=T[b],h.getAttribute("content")===(l.content==null?null:""+l.content)&&h.getAttribute("name")===(l.name==null?null:l.name)&&h.getAttribute("property")===(l.property==null?null:l.property)&&h.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&h.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(b,1);break t}}h=p.createElement(s),dt(h,s,l),p.head.appendChild(h);break;default:throw Error(a(468,s))}h[st]=e,it(h),s=h}e.stateNode=s}else Yp(p,e.type,e.stateNode);else e.stateNode=Bp(p,s,e.memoizedProps);else h!==s?(h===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):h.count--,s===null?Yp(p,e.type,e.stateNode):Bp(p,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Pr(e,e.memoizedProps,l.memoizedProps)}break;case 27:Ct(n,e),At(e),s&512&&(et||l===null||rn(l,l.return)),l!==null&&s&4&&Pr(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Ct(n,e),At(e),s&512&&(et||l===null||rn(l,l.return)),e.flags&32){p=e.stateNode;try{Oi(p,"")}catch(de){Le(e,e.return,de)}}s&4&&e.stateNode!=null&&(p=e.memoizedProps,Pr(e,p,l!==null?l.memoizedProps:p)),s&1024&&(Vr=!0);break;case 6:if(Ct(n,e),At(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch(de){Le(e,e.return,de)}}break;case 3:if(Ua=null,p=en,en=Ma(n.containerInfo),Ct(n,e),en=p,At(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{go(n.containerInfo)}catch(de){Le(e,e.return,de)}Vr&&(Vr=!1,Yf(e));break;case 4:s=en,en=Ma(e.stateNode.containerInfo),Ct(n,e),At(e),en=s;break;case 12:Ct(n,e),At(e);break;case 31:Ct(n,e),At(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,va(e,s)));break;case 13:Ct(n,e),At(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(xa=nt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,va(e,s)));break;case 22:p=e.memoizedState!==null;var C=l!==null&&l.memoizedState!==null,L=_n,Y=et;if(_n=L||p,et=Y||C,Ct(n,e),et=Y,_n=L,At(e),s&8192)e:for(n=e.stateNode,n._visibility=p?n._visibility&-2:n._visibility|1,p&&(l===null||C||_n||et||wi(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){C=l=n;try{if(h=C.stateNode,p)T=h.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{b=C.stateNode;var K=C.memoizedProps.style,O=K!=null&&K.hasOwnProperty("display")?K.display:null;b.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(de){Le(C,C.return,de)}}}else if(n.tag===6){if(l===null){C=n;try{C.stateNode.nodeValue=p?"":C.memoizedProps}catch(de){Le(C,C.return,de)}}}else if(n.tag===18){if(l===null){C=n;try{var V=C.stateNode;p?kp(V,!0):kp(C.stateNode,!1)}catch(de){Le(C,C.return,de)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,va(e,l))));break;case 19:Ct(n,e),At(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,va(e,s)));break;case 30:break;case 21:break;default:Ct(n,e),At(e)}}function At(e){var n=e.flags;if(n&2){try{for(var l,s=e.return;s!==null;){if(Gf(s)){l=s;break}s=s.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var p=l.stateNode,h=Or(e);ga(e,h,p);break;case 5:var T=l.stateNode;l.flags&32&&(Oi(T,""),l.flags&=-33);var b=Or(e);ga(e,b,T);break;case 3:case 4:var C=l.stateNode.containerInfo,L=Or(e);Hr(e,L,C);break;default:throw Error(a(161))}}catch(Y){Le(e,e.return,Y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Yf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Yf(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function An(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Hf(e,n.alternate,n),n=n.sibling}function wi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Qn(4,n,n.return),wi(n);break;case 1:rn(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&kf(n,n.return,l),wi(n);break;case 27:pl(n.stateNode);case 26:case 5:rn(n,n.return),wi(n);break;case 22:n.memoizedState===null&&wi(n);break;case 30:wi(n);break;default:wi(n)}e=e.sibling}}function wn(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,p=e,h=n,T=h.flags;switch(h.tag){case 0:case 11:case 15:wn(p,h,l),il(4,h);break;case 1:if(wn(p,h,l),s=h,p=s.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(L){Le(s,s.return,L)}if(s=h,p=s.updateQueue,p!==null){var b=s.stateNode;try{var C=p.shared.hiddenCallbacks;if(C!==null)for(p.shared.hiddenCallbacks=null,p=0;p<C.length;p++)Td(C[p],b)}catch(L){Le(s,s.return,L)}}l&&T&64&&Uf(h),ol(h,h.return);break;case 27:Pf(h);case 26:case 5:wn(p,h,l),l&&s===null&&T&4&&Lf(h),ol(h,h.return);break;case 12:wn(p,h,l);break;case 31:wn(p,h,l),l&&T&4&&qf(p,h);break;case 13:wn(p,h,l),l&&T&4&&Bf(p,h);break;case 22:h.memoizedState===null&&wn(p,h,l),ol(h,h.return);break;case 30:break;default:wn(p,h,l)}n=n.sibling}}function zr(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Fo(l))}function qr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Fo(e))}function tn(e,n,l,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Jf(e,n,l,s),n=n.sibling}function Jf(e,n,l,s){var p=n.flags;switch(n.tag){case 0:case 11:case 15:tn(e,n,l,s),p&2048&&il(9,n);break;case 1:tn(e,n,l,s);break;case 3:tn(e,n,l,s),p&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Fo(e)));break;case 12:if(p&2048){tn(e,n,l,s),e=n.stateNode;try{var h=n.memoizedProps,T=h.id,b=h.onPostCommit;typeof b=="function"&&b(T,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Le(n,n.return,C)}}else tn(e,n,l,s);break;case 31:tn(e,n,l,s);break;case 13:tn(e,n,l,s);break;case 23:break;case 22:h=n.stateNode,T=n.alternate,n.memoizedState!==null?h._visibility&2?tn(e,n,l,s):ll(e,n):h._visibility&2?tn(e,n,l,s):(h._visibility|=2,oo(e,n,l,s,(n.subtreeFlags&10256)!==0||!1)),p&2048&&zr(T,n);break;case 24:tn(e,n,l,s),p&2048&&qr(n.alternate,n);break;default:tn(e,n,l,s)}}function oo(e,n,l,s,p){for(p=p&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,T=n,b=l,C=s,L=T.flags;switch(T.tag){case 0:case 11:case 15:oo(h,T,b,C,p),il(8,T);break;case 23:break;case 22:var Y=T.stateNode;T.memoizedState!==null?Y._visibility&2?oo(h,T,b,C,p):ll(h,T):(Y._visibility|=2,oo(h,T,b,C,p)),p&&L&2048&&zr(T.alternate,T);break;case 24:oo(h,T,b,C,p),p&&L&2048&&qr(T.alternate,T);break;default:oo(h,T,b,C,p)}n=n.sibling}}function ll(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,s=n,p=s.flags;switch(s.tag){case 22:ll(l,s),p&2048&&zr(s.alternate,s);break;case 24:ll(l,s),p&2048&&qr(s.alternate,s);break;default:ll(l,s)}n=n.sibling}}var al=8192;function lo(e,n,l){if(e.subtreeFlags&al)for(e=e.child;e!==null;)Kf(e,n,l),e=e.sibling}function Kf(e,n,l){switch(e.tag){case 26:lo(e,n,l),e.flags&al&&e.memoizedState!==null&&oy(l,en,e.memoizedState,e.memoizedProps);break;case 5:lo(e,n,l);break;case 3:case 4:var s=en;en=Ma(e.stateNode.containerInfo),lo(e,n,l),en=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=al,al=16777216,lo(e,n,l),al=s):lo(e,n,l));break;default:lo(e,n,l)}}function Xf(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function sl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];ot=s,$f(s,e)}Xf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qf(e),e=e.sibling}function Qf(e){switch(e.tag){case 0:case 11:case 15:sl(e),e.flags&2048&&Qn(9,e,e.return);break;case 3:sl(e);break;case 12:sl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ya(e)):sl(e);break;default:sl(e)}}function ya(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];ot=s,$f(s,e)}Xf(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Qn(8,n,n.return),ya(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,ya(n));break;default:ya(n)}e=e.sibling}}function $f(e,n){for(;ot!==null;){var l=ot;switch(l.tag){case 0:case 11:case 15:Qn(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Fo(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,ot=s;else e:for(l=e;ot!==null;){s=ot;var p=s.sibling,h=s.return;if(Vf(s),s===l){ot=null;break e}if(p!==null){p.return=h,ot=p;break e}ot=h}}}var xv={getCacheForType:function(e){var n=ut(je),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return ut(je).controller.signal}},Sv=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Ve=null,_e=null,we=0,ke=0,Gt=null,$n=!1,ao=!1,Br=!1,Nn=0,Ke=0,jn=0,Ni=0,Fr=0,Pt=0,so=0,rl=null,wt=null,Yr=!1,xa=0,jf=0,Sa=1/0,Ta=null,Zn=null,tt=0,Wn=null,ro=null,Rn=0,Jr=0,Kr=null,Zf=null,ul=0,Xr=null;function Ot(){return(Ue&2)!==0&&we!==0?we&-we:U.T!==null?eu():pc()}function Wf(){if(Pt===0)if((we&536870912)===0||Re){var e=Rl;Rl<<=1,(Rl&3932160)===0&&(Rl=262144),Pt=e}else Pt=536870912;return e=kt.current,e!==null&&(e.flags|=32),Pt}function Nt(e,n,l){(e===Ve&&(ke===2||ke===9)||e.cancelPendingCommit!==null)&&(uo(e,0),ei(e,we,Pt,!1)),Io(e,l),((Ue&2)===0||e!==Ve)&&(e===Ve&&((Ue&2)===0&&(Ni|=l),Ke===4&&ei(e,we,Pt,!1)),un(e))}function ep(e,n,l){if((Ue&6)!==0)throw Error(a(327));var s=!l&&(n&127)===0&&(n&e.expiredLanes)===0||Ro(e,n),p=s?bv(e,n):$r(e,n,!0),h=s;do{if(p===0){ao&&!s&&ei(e,n,0,!1);break}else{if(l=e.current.alternate,h&&!Tv(l)){p=$r(e,n,!1),h=!1;continue}if(p===2){if(h=n,e.errorRecoveryDisabledLanes&h)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var b=e;p=rl;var C=b.current.memoizedState.isDehydrated;if(C&&(uo(b,T).flags|=256),T=$r(b,T,!1),T!==2){if(Br&&!C){b.errorRecoveryDisabledLanes|=h,Ni|=h,p=4;break e}h=wt,wt=p,h!==null&&(wt===null?wt=h:wt.push.apply(wt,h))}p=T}if(h=!1,p!==2)continue}}if(p===1){uo(e,0),ei(e,n,0,!0);break}e:{switch(s=e,h=p,h){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:ei(s,n,Pt,!$n);break e;case 2:wt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(p=xa+300-nt(),10<p)){if(ei(s,n,Pt,!$n),Ml(s,0,!0)!==0)break e;Rn=n,s.timeoutHandle=Mp(tp.bind(null,s,l,wt,Ta,Yr,n,Pt,Ni,so,$n,h,"Throttled",-0,0),p);break e}tp(s,l,wt,Ta,Yr,n,Pt,Ni,so,$n,h,null,-0,0)}}break}while(!0);un(e)}function tp(e,n,l,s,p,h,T,b,C,L,Y,K,O,V){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hn},Kf(n,h,K);var de=(h&62914560)===h?xa-nt():(h&4194048)===h?jf-nt():0;if(de=ly(K,de),de!==null){Rn=h,e.cancelPendingCommit=de(up.bind(null,e,n,h,l,s,p,T,b,C,Y,K,null,O,V)),ei(e,h,T,!L);return}}up(e,n,h,l,s,p,T,b,C)}function Tv(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var p=l[s],h=p.getSnapshot;p=p.value;try{if(!Dt(h(),p))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ei(e,n,l,s){n&=~Fr,n&=~Ni,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var p=n;0<p;){var h=31-Mt(p),T=1<<h;s[h]=-1,p&=~T}l!==0&&cc(e,l,n)}function Ea(){return(Ue&6)===0?(cl(0),!1):!0}function Qr(){if(_e!==null){if(ke===0)var e=_e.return;else e=_e,yn=xi=null,dr(e),Wi=null,Jo=0,e=_e;for(;e!==null;)Df(e.alternate,e),e=e.return;_e=null}}function uo(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,zv(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Rn=0,Qr(),Ve=e,_e=l=gn(e.current,null),we=n,ke=0,Gt=null,$n=!1,ao=Ro(e,n),Br=!1,so=Pt=Fr=Ni=jn=Ke=0,wt=rl=null,Yr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var p=31-Mt(s),h=1<<p;n|=e[p],s&=~h}return Nn=n,Bl(),l}function np(e,n){Ee=null,U.H=el,n===Zi||n===jl?(n=vd(),ke=3):n===Ws?(n=vd(),ke=4):ke=n===wr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Gt=n,_e===null&&(Ke=1,da(e,qt(n,e.current)))}function ip(){var e=kt.current;return e===null?!0:(we&4194048)===we?Jt===null:(we&62914560)===we||(we&536870912)!==0?e===Jt:!1}function op(){var e=U.H;return U.H=el,e===null?el:e}function lp(){var e=U.A;return U.A=xv,e}function ba(){Ke=4,$n||(we&4194048)!==we&&kt.current!==null||(ao=!0),(jn&134217727)===0&&(Ni&134217727)===0||Ve===null||ei(Ve,we,Pt,!1)}function $r(e,n,l){var s=Ue;Ue|=2;var p=op(),h=lp();(Ve!==e||we!==n)&&(Ta=null,uo(e,n)),n=!1;var T=Ke;e:do try{if(ke!==0&&_e!==null){var b=_e,C=Gt;switch(ke){case 8:Qr(),T=6;break e;case 3:case 2:case 9:case 6:kt.current===null&&(n=!0);var L=ke;if(ke=0,Gt=null,co(e,b,C,L),l&&ao){T=0;break e}break;default:L=ke,ke=0,Gt=null,co(e,b,C,L)}}Ev(),T=Ke;break}catch(Y){np(e,Y)}while(!0);return n&&e.shellSuspendCounter++,yn=xi=null,Ue=s,U.H=p,U.A=h,_e===null&&(Ve=null,we=0,Bl()),T}function Ev(){for(;_e!==null;)ap(_e)}function bv(e,n){var l=Ue;Ue|=2;var s=op(),p=lp();Ve!==e||we!==n?(Ta=null,Sa=nt()+500,uo(e,n)):ao=Ro(e,n);e:do try{if(ke!==0&&_e!==null){n=_e;var h=Gt;t:switch(ke){case 1:ke=0,Gt=null,co(e,n,h,1);break;case 2:case 9:if(md(h)){ke=0,Gt=null,sp(n);break}n=function(){ke!==2&&ke!==9||Ve!==e||(ke=7),un(e)},h.then(n,n);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:md(h)?(ke=0,Gt=null,sp(n)):(ke=0,Gt=null,co(e,n,h,7));break;case 5:var T=null;switch(_e.tag){case 26:T=_e.memoizedState;case 5:case 27:var b=_e;if(T?Jp(T):b.stateNode.complete){ke=0,Gt=null;var C=b.sibling;if(C!==null)_e=C;else{var L=b.return;L!==null?(_e=L,_a(L)):_e=null}break t}}ke=0,Gt=null,co(e,n,h,5);break;case 6:ke=0,Gt=null,co(e,n,h,6);break;case 8:Qr(),Ke=6;break e;default:throw Error(a(462))}}_v();break}catch(Y){np(e,Y)}while(!0);return yn=xi=null,U.H=s,U.A=p,Ue=l,_e!==null?0:(Ve=null,we=0,Bl(),Ke)}function _v(){for(;_e!==null&&!ci();)ap(_e)}function ap(e){var n=If(e.alternate,e,Nn);e.memoizedProps=e.pendingProps,n===null?_a(e):_e=n}function sp(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=_f(l,n,n.pendingProps,n.type,void 0,we);break;case 11:n=_f(l,n,n.pendingProps,n.type.render,n.ref,we);break;case 5:dr(n);default:Df(l,n),n=_e=od(n,Nn),n=If(l,n,Nn)}e.memoizedProps=e.pendingProps,n===null?_a(e):_e=n}function co(e,n,l,s){yn=xi=null,dr(n),Wi=null,Jo=0;var p=n.return;try{if(fv(e,p,n,l,we)){Ke=1,da(e,qt(l,e.current)),_e=null;return}}catch(h){if(p!==null)throw _e=p,h;Ke=1,da(e,qt(l,e.current)),_e=null;return}n.flags&32768?(Re||s===1?e=!0:ao||(we&536870912)!==0?e=!1:($n=e=!0,(s===2||s===9||s===3||s===6)&&(s=kt.current,s!==null&&s.tag===13&&(s.flags|=16384))),rp(n,e)):_a(n)}function _a(e){var n=e;do{if((n.flags&32768)!==0){rp(n,$n);return}e=n.return;var l=mv(n.alternate,n,Nn);if(l!==null){_e=l;return}if(n=n.sibling,n!==null){_e=n;return}_e=n=e}while(n!==null);Ke===0&&(Ke=5)}function rp(e,n){do{var l=gv(e.alternate,e);if(l!==null){l.flags&=32767,_e=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){_e=e;return}_e=e=l}while(e!==null);Ke=6,_e=null}function up(e,n,l,s,p,h,T,b,C){e.cancelPendingCommit=null;do Ca();while(tt!==0);if((Ue&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(h=n.lanes|n.childLanes,h|=Os,i0(e,l,h,T,b,C),e===Ve&&(_e=Ve=null,we=0),ro=n,Wn=e,Rn=l,Jr=h,Kr=p,Zf=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Nv(jt,function(){return hp(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=U.T,U.T=null,p=G.p,G.p=2,T=Ue,Ue|=4;try{vv(e,n,l)}finally{Ue=T,G.p=p,U.T=s}}tt=1,cp(),dp(),fp()}}function cp(){if(tt===1){tt=0;var e=Wn,n=ro,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=U.T,U.T=null;var s=G.p;G.p=2;var p=Ue;Ue|=4;try{Ff(n,e);var h=ru,T=Qc(e.containerInfo),b=h.focusedElem,C=h.selectionRange;if(T!==b&&b&&b.ownerDocument&&Xc(b.ownerDocument.documentElement,b)){if(C!==null&&Us(b)){var L=C.start,Y=C.end;if(Y===void 0&&(Y=L),"selectionStart"in b)b.selectionStart=L,b.selectionEnd=Math.min(Y,b.value.length);else{var K=b.ownerDocument||document,O=K&&K.defaultView||window;if(O.getSelection){var V=O.getSelection(),de=b.textContent.length,ve=Math.min(C.start,de),He=C.end===void 0?ve:Math.min(C.end,de);!V.extend&&ve>He&&(T=He,He=ve,ve=T);var M=Kc(b,ve),R=Kc(b,He);if(M&&R&&(V.rangeCount!==1||V.anchorNode!==M.node||V.anchorOffset!==M.offset||V.focusNode!==R.node||V.focusOffset!==R.offset)){var k=K.createRange();k.setStart(M.node,M.offset),V.removeAllRanges(),ve>He?(V.addRange(k),V.extend(R.node,R.offset)):(k.setEnd(R.node,R.offset),V.addRange(k))}}}}for(K=[],V=b;V=V.parentNode;)V.nodeType===1&&K.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<K.length;b++){var J=K[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Pa=!!su,ru=su=null}finally{Ue=p,G.p=s,U.T=l}}e.current=n,tt=2}}function dp(){if(tt===2){tt=0;var e=Wn,n=ro,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=U.T,U.T=null;var s=G.p;G.p=2;var p=Ue;Ue|=4;try{Hf(e,n.alternate,n)}finally{Ue=p,G.p=s,U.T=l}}tt=3}}function fp(){if(tt===4||tt===3){tt=0,dn();var e=Wn,n=ro,l=Rn,s=Zf;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?tt=5:(tt=0,ro=Wn=null,pp(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(Zn=null),hs(l),n=n.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Gn,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=U.T,p=G.p,G.p=2,U.T=null;try{for(var h=e.onRecoverableError,T=0;T<s.length;T++){var b=s[T];h(b.value,{componentStack:b.stack})}}finally{U.T=n,G.p=p}}(Rn&3)!==0&&Ca(),un(e),p=e.pendingLanes,(l&261930)!==0&&(p&42)!==0?e===Xr?ul++:(ul=0,Xr=e):ul=0,cl(0)}}function pp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Fo(n)))}function Ca(){return cp(),dp(),fp(),hp()}function hp(){if(tt!==5)return!1;var e=Wn,n=Jr;Jr=0;var l=hs(Rn),s=U.T,p=G.p;try{G.p=32>l?32:l,U.T=null,l=Kr,Kr=null;var h=Wn,T=Rn;if(tt=0,ro=Wn=null,Rn=0,(Ue&6)!==0)throw Error(a(331));var b=Ue;if(Ue|=4,Qf(h.current),Jf(h,h.current,T,l),Ue=b,cl(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Gn,h)}catch{}return!0}finally{G.p=p,U.T=s,pp(e,n)}}function mp(e,n,l){n=qt(l,n),n=Ar(e.stateNode,n,2),e=Jn(e,n,2),e!==null&&(Io(e,2),un(e))}function Le(e,n,l){if(e.tag===3)mp(e,e,l);else for(;n!==null;){if(n.tag===3){mp(n,e,l);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Zn===null||!Zn.has(s))){e=qt(l,e),l=gf(2),s=Jn(n,l,2),s!==null&&(vf(l,s,n,e),Io(s,2),un(s));break}}n=n.return}}function jr(e,n,l){var s=e.pingCache;if(s===null){s=e.pingCache=new Sv;var p=new Set;s.set(n,p)}else p=s.get(n),p===void 0&&(p=new Set,s.set(n,p));p.has(l)||(Br=!0,p.add(l),e=Cv.bind(null,e,n,l),n.then(e,e))}function Cv(e,n,l){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ve===e&&(we&l)===l&&(Ke===4||Ke===3&&(we&62914560)===we&&300>nt()-xa?(Ue&2)===0&&uo(e,0):Fr|=l,so===we&&(so=0)),un(e)}function gp(e,n){n===0&&(n=uc()),e=gi(e,n),e!==null&&(Io(e,n),un(e))}function Av(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),gp(e,l)}function wv(e,n){var l=0;switch(e.tag){case 31:case 13:var s=e.stateNode,p=e.memoizedState;p!==null&&(l=p.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),gp(e,l)}function Nv(e,n){return Xe(e,n)}var Aa=null,fo=null,Zr=!1,wa=!1,Wr=!1,ti=0;function un(e){e!==fo&&e.next===null&&(fo===null?Aa=fo=e:fo=fo.next=e),wa=!0,Zr||(Zr=!0,Iv())}function cl(e,n){if(!Wr&&wa){Wr=!0;do for(var l=!1,s=Aa;s!==null;){if(e!==0){var p=s.pendingLanes;if(p===0)var h=0;else{var T=s.suspendedLanes,b=s.pingedLanes;h=(1<<31-Mt(42|e)+1)-1,h&=p&~(T&~b),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(l=!0,Sp(s,h))}else h=we,h=Ml(s,s===Ve?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(h&3)===0||Ro(s,h)||(l=!0,Sp(s,h));s=s.next}while(l);Wr=!1}}function Rv(){vp()}function vp(){wa=Zr=!1;var e=0;ti!==0&&Vv()&&(e=ti);for(var n=nt(),l=null,s=Aa;s!==null;){var p=s.next,h=yp(s,n);h===0?(s.next=null,l===null?Aa=p:l.next=p,p===null&&(fo=l)):(l=s,(e!==0||(h&3)!==0)&&(wa=!0)),s=p}tt!==0&&tt!==5||cl(e),ti!==0&&(ti=0)}function yp(e,n){for(var l=e.suspendedLanes,s=e.pingedLanes,p=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var T=31-Mt(h),b=1<<T,C=p[T];C===-1?((b&l)===0||(b&s)!==0)&&(p[T]=n0(b,n)):C<=n&&(e.expiredLanes|=b),h&=~b}if(n=Ve,l=we,l=Ml(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===n&&(ke===2||ke===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&ft(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Ro(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(s!==null&&ft(s),hs(l)){case 2:case 8:l=Tt;break;case 32:l=jt;break;case 268435456:l=Zt;break;default:l=jt}return s=xp.bind(null,e),l=Xe(l,s),e.callbackPriority=n,e.callbackNode=l,n}return s!==null&&s!==null&&ft(s),e.callbackPriority=2,e.callbackNode=null,2}function xp(e,n){if(tt!==0&&tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Ca()&&e.callbackNode!==l)return null;var s=we;return s=Ml(e,e===Ve?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(ep(e,s,n),yp(e,nt()),e.callbackNode!=null&&e.callbackNode===l?xp.bind(null,e):null)}function Sp(e,n){if(Ca())return null;ep(e,n,!0)}function Iv(){qv(function(){(Ue&6)!==0?Xe(fn,Rv):vp()})}function eu(){if(ti===0){var e=$i;e===0&&(e=Nl,Nl<<=1,(Nl&261888)===0&&(Nl=256)),ti=e}return ti}function Tp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ll(""+e)}function Ep(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function Mv(e,n,l,s,p){if(n==="submit"&&l&&l.stateNode===p){var h=Tp((p[Et]||null).action),T=s.submitter;T&&(n=(n=T[Et]||null)?Tp(n.formAction):T.getAttribute("formAction"),n!==null&&(h=n,T=null));var b=new Hl("action","action",null,s,p);e.push({event:b,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(ti!==0){var C=T?Ep(p,T):new FormData(p);Sr(l,{pending:!0,data:C,method:p.method,action:h},null,C)}}else typeof h=="function"&&(b.preventDefault(),C=T?Ep(p,T):new FormData(p),Sr(l,{pending:!0,data:C,method:p.method,action:h},h,C))},currentTarget:p}]})}}for(var tu=0;tu<Ps.length;tu++){var nu=Ps[tu],Dv=nu.toLowerCase(),Uv=nu[0].toUpperCase()+nu.slice(1);Wt(Dv,"on"+Uv)}Wt(Zc,"onAnimationEnd"),Wt(Wc,"onAnimationIteration"),Wt(ed,"onAnimationStart"),Wt("dblclick","onDoubleClick"),Wt("focusin","onFocus"),Wt("focusout","onBlur"),Wt(Q0,"onTransitionRun"),Wt($0,"onTransitionStart"),Wt(j0,"onTransitionCancel"),Wt(td,"onTransitionEnd"),Gi("onMouseEnter",["mouseout","mouseover"]),Gi("onMouseLeave",["mouseout","mouseover"]),Gi("onPointerEnter",["pointerout","pointerover"]),Gi("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function bp(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],p=s.event;s=s.listeners;e:{var h=void 0;if(n)for(var T=s.length-1;0<=T;T--){var b=s[T],C=b.instance,L=b.currentTarget;if(b=b.listener,C!==h&&p.isPropagationStopped())break e;h=b,p.currentTarget=L;try{h(p)}catch(Y){ql(Y)}p.currentTarget=null,h=C}else for(T=0;T<s.length;T++){if(b=s[T],C=b.instance,L=b.currentTarget,b=b.listener,C!==h&&p.isPropagationStopped())break e;h=b,p.currentTarget=L;try{h(p)}catch(Y){ql(Y)}p.currentTarget=null,h=C}}}}function Ce(e,n){var l=n[ms];l===void 0&&(l=n[ms]=new Set);var s=e+"__bubble";l.has(s)||(_p(n,e,2,!1),l.add(s))}function iu(e,n,l){var s=0;n&&(s|=4),_p(l,e,s,n)}var Na="_reactListening"+Math.random().toString(36).slice(2);function ou(e){if(!e[Na]){e[Na]=!0,gc.forEach(function(l){l!=="selectionchange"&&(kv.has(l)||iu(l,!1,e),iu(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Na]||(n[Na]=!0,iu("selectionchange",!1,n))}}function _p(e,n,l,s){switch(Wp(n)){case 2:var p=ry;break;case 8:p=uy;break;default:p=xu}l=p.bind(null,n,l,e),p=void 0,!_s||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(p=!0),s?p!==void 0?e.addEventListener(n,l,{capture:!0,passive:p}):e.addEventListener(n,l,!0):p!==void 0?e.addEventListener(n,l,{passive:p}):e.addEventListener(n,l,!1)}function lu(e,n,l,s,p){var h=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var T=s.tag;if(T===3||T===4){var b=s.stateNode.containerInfo;if(b===p)break;if(T===4)for(T=s.return;T!==null;){var C=T.tag;if((C===3||C===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;b!==null;){if(T=Ui(b),T===null)return;if(C=T.tag,C===5||C===6||C===26||C===27){s=h=T;continue e}b=b.parentNode}}s=s.return}Nc(function(){var L=h,Y=Es(l),K=[];e:{var O=nd.get(e);if(O!==void 0){var V=Hl,de=e;switch(e){case"keypress":if(Pl(l)===0)break e;case"keydown":case"keyup":V=w0;break;case"focusin":de="focus",V=Ns;break;case"focusout":de="blur",V=Ns;break;case"beforeblur":case"afterblur":V=Ns;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Mc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=m0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=I0;break;case Zc:case Wc:case ed:V=y0;break;case td:V=D0;break;case"scroll":case"scrollend":V=p0;break;case"wheel":V=k0;break;case"copy":case"cut":case"paste":V=S0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Uc;break;case"toggle":case"beforetoggle":V=G0}var ve=(n&4)!==0,He=!ve&&(e==="scroll"||e==="scrollend"),M=ve?O!==null?O+"Capture":null:O;ve=[];for(var R=L,k;R!==null;){var J=R;if(k=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||k===null||M===null||(J=Uo(R,M),J!=null&&ve.push(fl(R,J,k))),He)break;R=R.return}0<ve.length&&(O=new V(O,de,null,l,Y),K.push({event:O,listeners:ve}))}}if((n&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",O&&l!==Ts&&(de=l.relatedTarget||l.fromElement)&&(Ui(de)||de[Di]))break e;if((V||O)&&(O=Y.window===Y?Y:(O=Y.ownerDocument)?O.defaultView||O.parentWindow:window,V?(de=l.relatedTarget||l.toElement,V=L,de=de?Ui(de):null,de!==null&&(He=c(de),ve=de.tag,de!==He||ve!==5&&ve!==27&&ve!==6)&&(de=null)):(V=null,de=L),V!==de)){if(ve=Mc,J="onMouseLeave",M="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(ve=Uc,J="onPointerLeave",M="onPointerEnter",R="pointer"),He=V==null?O:Do(V),k=de==null?O:Do(de),O=new ve(J,R+"leave",V,l,Y),O.target=He,O.relatedTarget=k,J=null,Ui(Y)===L&&(ve=new ve(M,R+"enter",de,l,Y),ve.target=k,ve.relatedTarget=He,J=ve),He=J,V&&de)t:{for(ve=Lv,M=V,R=de,k=0,J=M;J;J=ve(J))k++;J=0;for(var ge=R;ge;ge=ve(ge))J++;for(;0<k-J;)M=ve(M),k--;for(;0<J-k;)R=ve(R),J--;for(;k--;){if(M===R||R!==null&&M===R.alternate){ve=M;break t}M=ve(M),R=ve(R)}ve=null}else ve=null;V!==null&&Cp(K,O,V,ve,!1),de!==null&&He!==null&&Cp(K,He,de,ve,!0)}}e:{if(O=L?Do(L):window,V=O.nodeName&&O.nodeName.toLowerCase(),V==="select"||V==="input"&&O.type==="file")var Ie=zc;else if(Hc(O))if(qc)Ie=J0;else{Ie=F0;var he=B0}else V=O.nodeName,!V||V.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?L&&Ss(L.elementType)&&(Ie=zc):Ie=Y0;if(Ie&&(Ie=Ie(e,L))){Vc(K,Ie,l,Y);break e}he&&he(e,O,L),e==="focusout"&&L&&O.type==="number"&&L.memoizedProps.value!=null&&xs(O,"number",O.value)}switch(he=L?Do(L):window,e){case"focusin":(Hc(he)||he.contentEditable==="true")&&(qi=he,ks=L,zo=null);break;case"focusout":zo=ks=qi=null;break;case"mousedown":Ls=!0;break;case"contextmenu":case"mouseup":case"dragend":Ls=!1,$c(K,l,Y);break;case"selectionchange":if(X0)break;case"keydown":case"keyup":$c(K,l,Y)}var be;if(Is)e:{switch(e){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else zi?Pc(e,l)&&(Ne="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ne="onCompositionStart");Ne&&(kc&&l.locale!=="ko"&&(zi||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&zi&&(be=Rc()):(Hn=Y,Cs="value"in Hn?Hn.value:Hn.textContent,zi=!0)),he=Ra(L,Ne),0<he.length&&(Ne=new Dc(Ne,e,null,l,Y),K.push({event:Ne,listeners:he}),be?Ne.data=be:(be=Oc(l),be!==null&&(Ne.data=be)))),(be=O0?H0(e,l):V0(e,l))&&(Ne=Ra(L,"onBeforeInput"),0<Ne.length&&(he=new Dc("onBeforeInput","beforeinput",null,l,Y),K.push({event:he,listeners:Ne}),he.data=be)),Mv(K,e,L,l,Y)}bp(K,n)})}function fl(e,n,l){return{instance:e,listener:n,currentTarget:l}}function Ra(e,n){for(var l=n+"Capture",s=[];e!==null;){var p=e,h=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||h===null||(p=Uo(e,l),p!=null&&s.unshift(fl(e,p,h)),p=Uo(e,n),p!=null&&s.push(fl(e,p,h))),e.tag===3)return s;e=e.return}return[]}function Lv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Cp(e,n,l,s,p){for(var h=n._reactName,T=[];l!==null&&l!==s;){var b=l,C=b.alternate,L=b.stateNode;if(b=b.tag,C!==null&&C===s)break;b!==5&&b!==26&&b!==27||L===null||(C=L,p?(L=Uo(l,h),L!=null&&T.unshift(fl(l,L,C))):p||(L=Uo(l,h),L!=null&&T.push(fl(l,L,C)))),l=l.return}T.length!==0&&e.push({event:n,listeners:T})}var Gv=/\r\n?/g,Pv=/\u0000|\uFFFD/g;function Ap(e){return(typeof e=="string"?e:""+e).replace(Gv,`
`).replace(Pv,"")}function wp(e,n){return n=Ap(n),Ap(e)===n}function Oe(e,n,l,s,p,h){switch(l){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||Oi(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&Oi(e,""+s);break;case"className":Ul(e,"class",s);break;case"tabIndex":Ul(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Ul(e,l,s);break;case"style":Ac(e,s,h);break;case"data":if(n!=="object"){Ul(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=Ll(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(l==="formAction"?(n!=="input"&&Oe(e,n,"name",p.name,p,null),Oe(e,n,"formEncType",p.formEncType,p,null),Oe(e,n,"formMethod",p.formMethod,p,null),Oe(e,n,"formTarget",p.formTarget,p,null)):(Oe(e,n,"encType",p.encType,p,null),Oe(e,n,"method",p.method,p,null),Oe(e,n,"target",p.target,p,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=Ll(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=hn);break;case"onScroll":s!=null&&Ce("scroll",e);break;case"onScrollEnd":s!=null&&Ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(p.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=Ll(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":Ce("beforetoggle",e),Ce("toggle",e),Dl(e,"popover",s);break;case"xlinkActuate":pn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":pn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":pn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":pn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":pn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":pn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":pn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":pn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":pn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Dl(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=d0.get(l)||l,Dl(e,l,s))}}function au(e,n,l,s,p,h){switch(l){case"style":Ac(e,s,h);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(p.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"children":typeof s=="string"?Oi(e,s):(typeof s=="number"||typeof s=="bigint")&&Oi(e,""+s);break;case"onScroll":s!=null&&Ce("scroll",e);break;case"onScrollEnd":s!=null&&Ce("scrollend",e);break;case"onClick":s!=null&&(e.onclick=hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),n=l.slice(2,p?l.length-7:void 0),h=e[Et]||null,h=h!=null?h[l]:null,typeof h=="function"&&e.removeEventListener(n,h,p),typeof s=="function")){typeof h!="function"&&h!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,s,p);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):Dl(e,l,s)}}}function dt(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",e),Ce("load",e);var s=!1,p=!1,h;for(h in l)if(l.hasOwnProperty(h)){var T=l[h];if(T!=null)switch(h){case"src":s=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Oe(e,n,h,T,l,null)}}p&&Oe(e,n,"srcSet",l.srcSet,l,null),s&&Oe(e,n,"src",l.src,l,null);return;case"input":Ce("invalid",e);var b=h=T=p=null,C=null,L=null;for(s in l)if(l.hasOwnProperty(s)){var Y=l[s];if(Y!=null)switch(s){case"name":p=Y;break;case"type":T=Y;break;case"checked":C=Y;break;case"defaultChecked":L=Y;break;case"value":h=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,n));break;default:Oe(e,n,s,Y,l,null)}}Ec(e,h,b,C,L,T,p,!1);return;case"select":Ce("invalid",e),s=T=h=null;for(p in l)if(l.hasOwnProperty(p)&&(b=l[p],b!=null))switch(p){case"value":h=b;break;case"defaultValue":T=b;break;case"multiple":s=b;default:Oe(e,n,p,b,l,null)}n=h,l=T,e.multiple=!!s,n!=null?Pi(e,!!s,n,!1):l!=null&&Pi(e,!!s,l,!0);return;case"textarea":Ce("invalid",e),h=p=s=null;for(T in l)if(l.hasOwnProperty(T)&&(b=l[T],b!=null))switch(T){case"value":s=b;break;case"defaultValue":p=b;break;case"children":h=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:Oe(e,n,T,b,l,null)}_c(e,s,p,h);return;case"option":for(C in l)if(l.hasOwnProperty(C)&&(s=l[C],s!=null))switch(C){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Oe(e,n,C,s,l,null)}return;case"dialog":Ce("beforetoggle",e),Ce("toggle",e),Ce("cancel",e),Ce("close",e);break;case"iframe":case"object":Ce("load",e);break;case"video":case"audio":for(s=0;s<dl.length;s++)Ce(dl[s],e);break;case"image":Ce("error",e),Ce("load",e);break;case"details":Ce("toggle",e);break;case"embed":case"source":case"link":Ce("error",e),Ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in l)if(l.hasOwnProperty(L)&&(s=l[L],s!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Oe(e,n,L,s,l,null)}return;default:if(Ss(n)){for(Y in l)l.hasOwnProperty(Y)&&(s=l[Y],s!==void 0&&au(e,n,Y,s,l,void 0));return}}for(b in l)l.hasOwnProperty(b)&&(s=l[b],s!=null&&Oe(e,n,b,s,l,null))}function Ov(e,n,l,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,h=null,T=null,b=null,C=null,L=null,Y=null;for(V in l){var K=l[V];if(l.hasOwnProperty(V)&&K!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":C=K;default:s.hasOwnProperty(V)||Oe(e,n,V,null,s,K)}}for(var O in s){var V=s[O];if(K=l[O],s.hasOwnProperty(O)&&(V!=null||K!=null))switch(O){case"type":h=V;break;case"name":p=V;break;case"checked":L=V;break;case"defaultChecked":Y=V;break;case"value":T=V;break;case"defaultValue":b=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(a(137,n));break;default:V!==K&&Oe(e,n,O,V,s,K)}}ys(e,T,b,C,L,Y,h,p);return;case"select":V=T=b=O=null;for(h in l)if(C=l[h],l.hasOwnProperty(h)&&C!=null)switch(h){case"value":break;case"multiple":V=C;default:s.hasOwnProperty(h)||Oe(e,n,h,null,s,C)}for(p in s)if(h=s[p],C=l[p],s.hasOwnProperty(p)&&(h!=null||C!=null))switch(p){case"value":O=h;break;case"defaultValue":b=h;break;case"multiple":T=h;default:h!==C&&Oe(e,n,p,h,s,C)}n=b,l=T,s=V,O!=null?Pi(e,!!l,O,!1):!!s!=!!l&&(n!=null?Pi(e,!!l,n,!0):Pi(e,!!l,l?[]:"",!1));return;case"textarea":V=O=null;for(b in l)if(p=l[b],l.hasOwnProperty(b)&&p!=null&&!s.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Oe(e,n,b,null,s,p)}for(T in s)if(p=s[T],h=l[T],s.hasOwnProperty(T)&&(p!=null||h!=null))switch(T){case"value":O=p;break;case"defaultValue":V=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==h&&Oe(e,n,T,p,s,h)}bc(e,O,V);return;case"option":for(var de in l)if(O=l[de],l.hasOwnProperty(de)&&O!=null&&!s.hasOwnProperty(de))switch(de){case"selected":e.selected=!1;break;default:Oe(e,n,de,null,s,O)}for(C in s)if(O=s[C],V=l[C],s.hasOwnProperty(C)&&O!==V&&(O!=null||V!=null))switch(C){case"selected":e.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:Oe(e,n,C,O,s,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in l)O=l[ve],l.hasOwnProperty(ve)&&O!=null&&!s.hasOwnProperty(ve)&&Oe(e,n,ve,null,s,O);for(L in s)if(O=s[L],V=l[L],s.hasOwnProperty(L)&&O!==V&&(O!=null||V!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(a(137,n));break;default:Oe(e,n,L,O,s,V)}return;default:if(Ss(n)){for(var He in l)O=l[He],l.hasOwnProperty(He)&&O!==void 0&&!s.hasOwnProperty(He)&&au(e,n,He,void 0,s,O);for(Y in s)O=s[Y],V=l[Y],!s.hasOwnProperty(Y)||O===V||O===void 0&&V===void 0||au(e,n,Y,O,s,V);return}}for(var M in l)O=l[M],l.hasOwnProperty(M)&&O!=null&&!s.hasOwnProperty(M)&&Oe(e,n,M,null,s,O);for(K in s)O=s[K],V=l[K],!s.hasOwnProperty(K)||O===V||O==null&&V==null||Oe(e,n,K,O,s,V)}function Np(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Hv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var p=l[s],h=p.transferSize,T=p.initiatorType,b=p.duration;if(h&&b&&Np(T)){for(T=0,b=p.responseEnd,s+=1;s<l.length;s++){var C=l[s],L=C.startTime;if(L>b)break;var Y=C.transferSize,K=C.initiatorType;Y&&Np(K)&&(C=C.responseEnd,T+=Y*(C<b?1:(b-L)/(C-L)))}if(--s,n+=8*(h+T)/(p.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var su=null,ru=null;function Ia(e){return e.nodeType===9?e:e.ownerDocument}function Rp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ip(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function uu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cu=null;function Vv(){var e=window.event;return e&&e.type==="popstate"?e===cu?!1:(cu=e,!0):(cu=null,!1)}var Mp=typeof setTimeout=="function"?setTimeout:void 0,zv=typeof clearTimeout=="function"?clearTimeout:void 0,Dp=typeof Promise=="function"?Promise:void 0,qv=typeof queueMicrotask=="function"?queueMicrotask:typeof Dp<"u"?function(e){return Dp.resolve(null).then(e).catch(Bv)}:Mp;function Bv(e){setTimeout(function(){throw e})}function ni(e){return e==="head"}function Up(e,n){var l=n,s=0;do{var p=l.nextSibling;if(e.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(s===0){e.removeChild(p),go(n);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")pl(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,pl(l);for(var h=l.firstChild;h;){var T=h.nextSibling,b=h.nodeName;h[Mo]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&h.rel.toLowerCase()==="stylesheet"||l.removeChild(h),h=T}}else l==="body"&&pl(e.ownerDocument.body);l=p}while(l);go(n)}function kp(e,n){var l=e;e=0;do{var s=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=s}while(l)}function du(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":du(l),gs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Fv(e,n,l,s){for(;e.nodeType===1;){var p=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Mo])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Kt(e.nextSibling),e===null)break}return null}function Yv(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Kt(e.nextSibling),e===null))return null;return e}function Lp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Kt(e.nextSibling),e===null))return null;return e}function fu(e){return e.data==="$?"||e.data==="$~"}function pu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Jv(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var s=function(){n(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Kt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var hu=null;function Gp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return Kt(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function Pp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function Op(e,n,l){switch(n=Ia(l),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function pl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);gs(e)}var Xt=new Map,Hp=new Set;function Ma(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var In=G.d;G.d={f:Kv,r:Xv,D:Qv,C:$v,L:jv,m:Zv,X:ey,S:Wv,M:ty};function Kv(){var e=In.f(),n=Ea();return e||n}function Xv(e){var n=ki(e);n!==null&&n.tag===5&&n.type==="form"?tf(n):In.r(e)}var po=typeof document>"u"?null:document;function Vp(e,n,l){var s=po;if(s&&typeof n=="string"&&n){var p=Vt(n);p='link[rel="'+e+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),Hp.has(p)||(Hp.add(p),e={rel:e,crossOrigin:l,href:n},s.querySelector(p)===null&&(n=s.createElement("link"),dt(n,"link",e),it(n),s.head.appendChild(n)))}}function Qv(e){In.D(e),Vp("dns-prefetch",e,null)}function $v(e,n){In.C(e,n),Vp("preconnect",e,n)}function jv(e,n,l){In.L(e,n,l);var s=po;if(s&&e&&n){var p='link[rel="preload"][as="'+Vt(n)+'"]';n==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Vt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Vt(l.imageSizes)+'"]')):p+='[href="'+Vt(e)+'"]';var h=p;switch(n){case"style":h=ho(e);break;case"script":h=mo(e)}Xt.has(h)||(e=S({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),Xt.set(h,e),s.querySelector(p)!==null||n==="style"&&s.querySelector(hl(h))||n==="script"&&s.querySelector(ml(h))||(n=s.createElement("link"),dt(n,"link",e),it(n),s.head.appendChild(n)))}}function Zv(e,n){In.m(e,n);var l=po;if(l&&e){var s=n&&typeof n.as=="string"?n.as:"script",p='link[rel="modulepreload"][as="'+Vt(s)+'"][href="'+Vt(e)+'"]',h=p;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=mo(e)}if(!Xt.has(h)&&(e=S({rel:"modulepreload",href:e},n),Xt.set(h,e),l.querySelector(p)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ml(h)))return}s=l.createElement("link"),dt(s,"link",e),it(s),l.head.appendChild(s)}}}function Wv(e,n,l){In.S(e,n,l);var s=po;if(s&&e){var p=Li(s).hoistableStyles,h=ho(e);n=n||"default";var T=p.get(h);if(!T){var b={loading:0,preload:null};if(T=s.querySelector(hl(h)))b.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},l),(l=Xt.get(h))&&mu(e,l);var C=T=s.createElement("link");it(C),dt(C,"link",e),C._p=new Promise(function(L,Y){C.onload=L,C.onerror=Y}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Da(T,n,s)}T={type:"stylesheet",instance:T,count:1,state:b},p.set(h,T)}}}function ey(e,n){In.X(e,n);var l=po;if(l&&e){var s=Li(l).hoistableScripts,p=mo(e),h=s.get(p);h||(h=l.querySelector(ml(p)),h||(e=S({src:e,async:!0},n),(n=Xt.get(p))&&gu(e,n),h=l.createElement("script"),it(h),dt(h,"link",e),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(p,h))}}function ty(e,n){In.M(e,n);var l=po;if(l&&e){var s=Li(l).hoistableScripts,p=mo(e),h=s.get(p);h||(h=l.querySelector(ml(p)),h||(e=S({src:e,async:!0,type:"module"},n),(n=Xt.get(p))&&gu(e,n),h=l.createElement("script"),it(h),dt(h,"link",e),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(p,h))}}function zp(e,n,l,s){var p=(p=Q.current)?Ma(p):null;if(!p)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=ho(l.href),l=Li(p).hoistableStyles,s=l.get(n),s||(s={type:"style",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=ho(l.href);var h=Li(p).hoistableStyles,T=h.get(e);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,T),(h=p.querySelector(hl(e)))&&!h._p&&(T.instance=h,T.state.loading=5),Xt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Xt.set(e,l),h||ny(p,e,l,T.state))),n&&s===null)throw Error(a(528,""));return T}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=mo(l),l=Li(p).hoistableScripts,s=l.get(n),s||(s={type:"script",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ho(e){return'href="'+Vt(e)+'"'}function hl(e){return'link[rel="stylesheet"]['+e+"]"}function qp(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function ny(e,n,l,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),dt(n,"link",l),it(n),e.head.appendChild(n))}function mo(e){return'[src="'+Vt(e)+'"]'}function ml(e){return"script[async]"+e}function Bp(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+Vt(l.href)+'"]');if(s)return n.instance=s,it(s),s;var p=S({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),it(s),dt(s,"style",p),Da(s,l.precedence,e),n.instance=s;case"stylesheet":p=ho(l.href);var h=e.querySelector(hl(p));if(h)return n.state.loading|=4,n.instance=h,it(h),h;s=qp(l),(p=Xt.get(p))&&mu(s,p),h=(e.ownerDocument||e).createElement("link"),it(h);var T=h;return T._p=new Promise(function(b,C){T.onload=b,T.onerror=C}),dt(h,"link",s),n.state.loading|=4,Da(h,l.precedence,e),n.instance=h;case"script":return h=mo(l.src),(p=e.querySelector(ml(h)))?(n.instance=p,it(p),p):(s=l,(p=Xt.get(h))&&(s=S({},l),gu(s,p)),e=e.ownerDocument||e,p=e.createElement("script"),it(p),dt(p,"link",s),e.head.appendChild(p),n.instance=p);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,Da(s,l.precedence,e));return n.instance}function Da(e,n,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=s.length?s[s.length-1]:null,h=p,T=0;T<s.length;T++){var b=s[T];if(b.dataset.precedence===n)h=b;else if(h!==p)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function mu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function gu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ua=null;function Fp(e,n,l){if(Ua===null){var s=new Map,p=Ua=new Map;p.set(l,s)}else p=Ua,s=p.get(l),s||(s=new Map,p.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),p=0;p<l.length;p++){var h=l[p];if(!(h[Mo]||h[st]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var T=h.getAttribute(n)||"";T=e+T;var b=s.get(T);b?b.push(h):s.set(T,[h])}}return s}function Yp(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function iy(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Jp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function oy(e,n,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=ho(s.href),h=n.querySelector(hl(p));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ka.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=h,it(h);return}h=n.ownerDocument||n,s=qp(s),(p=Xt.get(p))&&mu(s,p),h=h.createElement("link"),it(h);var T=h;T._p=new Promise(function(b,C){T.onload=b,T.onerror=C}),dt(h,"link",s),l.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=ka.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var vu=0;function ly(e,n){return e.stylesheets&&e.count===0&&Ga(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var s=setTimeout(function(){if(e.stylesheets&&Ga(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&vu===0&&(vu=62500*Hv());var p=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ga(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>vu?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(p)}}:null}function ka(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ga(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var La=null;function Ga(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,La=new Map,n.forEach(ay,e),La=null,ka.call(e))}function ay(e,n){if(!(n.state.loading&4)){var l=La.get(e);if(l)var s=l.get(null);else{l=new Map,La.set(e,l);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<p.length;h++){var T=p[h];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),s=T)}s&&l.set(null,s)}p=n.instance,T=p.getAttribute("data-precedence"),h=l.get(T)||s,h===s&&l.set(null,p),l.set(T,p),this.count++,s=ka.bind(this),p.addEventListener("load",s),p.addEventListener("error",s),h?h.parentNode.insertBefore(p,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),n.state.loading|=4}}var gl={$$typeof:P,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function sy(e,n,l,s,p,h,T,b,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fs(0),this.hiddenUpdates=fs(null),this.identifierPrefix=s,this.onUncaughtError=p,this.onCaughtError=h,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Kp(e,n,l,s,p,h,T,b,C,L,Y,K){return e=new sy(e,n,l,T,C,L,Y,K,b),n=1,h===!0&&(n|=24),h=Ut(3,null,null,n),e.current=h,h.stateNode=e,n=$s(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:s,isDehydrated:l,cache:n},er(h),e}function Xp(e){return e?(e=Yi,e):Yi}function Qp(e,n,l,s,p,h){p=Xp(p),s.context===null?s.context=p:s.pendingContext=p,s=Yn(n),s.payload={element:l},h=h===void 0?null:h,h!==null&&(s.callback=h),l=Jn(e,s,n),l!==null&&(Nt(l,e,n),Xo(l,e,n))}function $p(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function yu(e,n){$p(e,n),(e=e.alternate)&&$p(e,n)}function jp(e){if(e.tag===13||e.tag===31){var n=gi(e,67108864);n!==null&&Nt(n,e,67108864),yu(e,67108864)}}function Zp(e){if(e.tag===13||e.tag===31){var n=Ot();n=ps(n);var l=gi(e,n);l!==null&&Nt(l,e,n),yu(e,n)}}var Pa=!0;function ry(e,n,l,s){var p=U.T;U.T=null;var h=G.p;try{G.p=2,xu(e,n,l,s)}finally{G.p=h,U.T=p}}function uy(e,n,l,s){var p=U.T;U.T=null;var h=G.p;try{G.p=8,xu(e,n,l,s)}finally{G.p=h,U.T=p}}function xu(e,n,l,s){if(Pa){var p=Su(s);if(p===null)lu(e,n,s,Oa,l),eh(e,s);else if(dy(p,e,n,l,s))s.stopPropagation();else if(eh(e,s),n&4&&-1<cy.indexOf(e)){for(;p!==null;){var h=ki(p);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var T=di(h.pendingLanes);if(T!==0){var b=h;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var C=1<<31-Mt(T);b.entanglements[1]|=C,T&=~C}un(h),(Ue&6)===0&&(Sa=nt()+500,cl(0))}}break;case 31:case 13:b=gi(h,2),b!==null&&Nt(b,h,2),Ea(),yu(h,2)}if(h=Su(s),h===null&&lu(e,n,s,Oa,l),h===p)break;p=h}p!==null&&s.stopPropagation()}else lu(e,n,s,null,l)}}function Su(e){return e=Es(e),Tu(e)}var Oa=null;function Tu(e){if(Oa=null,e=Ui(e),e!==null){var n=c(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=f(n),e!==null)return e;e=null}else if(l===31){if(e=g(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Oa=e,null}function Wp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mi()){case fn:return 2;case Tt:return 8;case jt:case Ln:return 32;case Zt:return 268435456;default:return 32}default:return 32}}var Eu=!1,ii=null,oi=null,li=null,vl=new Map,yl=new Map,ai=[],cy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eh(e,n){switch(e){case"focusin":case"focusout":ii=null;break;case"dragenter":case"dragleave":oi=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":vl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(n.pointerId)}}function xl(e,n,l,s,p,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:l,eventSystemFlags:s,nativeEvent:h,targetContainers:[p]},n!==null&&(n=ki(n),n!==null&&jp(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,p!==null&&n.indexOf(p)===-1&&n.push(p),e)}function dy(e,n,l,s,p){switch(n){case"focusin":return ii=xl(ii,e,n,l,s,p),!0;case"dragenter":return oi=xl(oi,e,n,l,s,p),!0;case"mouseover":return li=xl(li,e,n,l,s,p),!0;case"pointerover":var h=p.pointerId;return vl.set(h,xl(vl.get(h)||null,e,n,l,s,p)),!0;case"gotpointercapture":return h=p.pointerId,yl.set(h,xl(yl.get(h)||null,e,n,l,s,p)),!0}return!1}function th(e){var n=Ui(e.target);if(n!==null){var l=c(n);if(l!==null){if(n=l.tag,n===13){if(n=f(l),n!==null){e.blockedOn=n,hc(e.priority,function(){Zp(l)});return}}else if(n===31){if(n=g(l),n!==null){e.blockedOn=n,hc(e.priority,function(){Zp(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ha(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=Su(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);Ts=s,l.target.dispatchEvent(s),Ts=null}else return n=ki(l),n!==null&&jp(n),e.blockedOn=l,!1;n.shift()}return!0}function nh(e,n,l){Ha(e)&&l.delete(n)}function fy(){Eu=!1,ii!==null&&Ha(ii)&&(ii=null),oi!==null&&Ha(oi)&&(oi=null),li!==null&&Ha(li)&&(li=null),vl.forEach(nh),yl.forEach(nh)}function Va(e,n){e.blockedOn===n&&(e.blockedOn=null,Eu||(Eu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,fy)))}var za=null;function ih(e){za!==e&&(za=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){za===e&&(za=null);for(var n=0;n<e.length;n+=3){var l=e[n],s=e[n+1],p=e[n+2];if(typeof s!="function"){if(Tu(s||l)===null)continue;break}var h=ki(l);h!==null&&(e.splice(n,3),n-=3,Sr(h,{pending:!0,data:p,method:l.method,action:s},s,p))}}))}function go(e){function n(C){return Va(C,e)}ii!==null&&Va(ii,e),oi!==null&&Va(oi,e),li!==null&&Va(li,e),vl.forEach(n),yl.forEach(n);for(var l=0;l<ai.length;l++){var s=ai[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<ai.length&&(l=ai[0],l.blockedOn===null);)th(l),l.blockedOn===null&&ai.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var p=l[s],h=l[s+1],T=p[Et]||null;if(typeof h=="function")T||ih(l);else if(T){var b=null;if(h&&h.hasAttribute("formAction")){if(p=h,T=h[Et]||null)b=T.formAction;else if(Tu(p)!==null)continue}else b=T.action;typeof b=="function"?l[s+1]=b:(l.splice(s,3),s-=3),ih(l)}}}function oh(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(T){return p=T})},focusReset:"manual",scroll:"manual"})}function n(){p!==null&&(p(),p=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,p=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),p!==null&&(p(),p=null)}}}function bu(e){this._internalRoot=e}qa.prototype.render=bu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var l=n.current,s=Ot();Qp(l,s,e,n,null,null)},qa.prototype.unmount=bu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Qp(e.current,2,null,e,null,null),Ea(),n[Di]=null}};function qa(e){this._internalRoot=e}qa.prototype.unstable_scheduleHydration=function(e){if(e){var n=pc();e={blockedOn:null,target:e,priority:n};for(var l=0;l<ai.length&&n!==0&&n<ai[l].priority;l++);ai.splice(l,0,e),l===0&&th(e)}};var lh=t.version;if(lh!=="19.2.4")throw Error(a(527,lh,"19.2.4"));G.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=m(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var py={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ba=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ba.isDisabled&&Ba.supportsFiber)try{Gn=Ba.inject(py),pt=Ba}catch{}}return Tl.createRoot=function(e,n){if(!r(e))throw Error(a(299));var l=!1,s="",p=ff,h=pf,T=hf;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(p=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Kp(e,1,!1,null,null,l,s,null,p,h,T,oh),e[Di]=n.current,ou(e),new bu(n)},Tl.hydrateRoot=function(e,n,l){if(!r(e))throw Error(a(299));var s=!1,p="",h=ff,T=pf,b=hf,C=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(h=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(b=l.onRecoverableError),l.formState!==void 0&&(C=l.formState)),n=Kp(e,1,!0,n,l??null,s,p,C,h,T,b,oh),n.context=Xp(null),l=n.current,s=Ot(),s=ps(s),p=Yn(s),p.callback=null,Jn(l,p,s),l=s,n.current.lanes=l,Io(n,l),un(n),e[Di]=n.current,ou(e),new qa(n)},Tl.version="19.2.4",Tl}var mh;function _y(){if(mh)return Au.exports;mh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Au.exports=by(),Au.exports}var Cy=_y();const Ay=ju(Cy);var Ge=(i=>(i.LANDING="LANDING",i.THEMES="THEMES",i.CAMERA="CAMERA",i.GENERATING="GENERATING",i.RESULT="RESULT",i.GALLERY="GALLERY",i.ADMIN="ADMIN",i.MONITOR="MONITOR",i.FAST_THANKS="FAST_THANKS",i))(Ge||{});const yo="https://script.google.com/macros/s/AKfycbyhmFK_aUuhH_3n9GNhBOYshaAdWiI0xgqosY7xY2WkrNV89sTESKSGXpXLBg3PSsdW/exec",wy=[{id:"cyberpunk",name:"Cyberpunk 2077",prompt:"Generate a realistic photo of the person in the input image. They are wearing a futuristic high-collar leather jacket with glowing neon blue accents. Background is a rainy neon-lit futuristic city street at night. Cybernetic aesthetic, photorealistic. KEEP THE FACE EXACTLY THE SAME.",thumbnail:"https://picsum.photos/seed/cyber/300/500"},{id:"steampunk",name:"Steampunk Explorer",prompt:"Generate a realistic photo of the person in the input image. They are wearing a vintage brown leather aviator jacket, a vest, and brass goggles on their head. Background is inside a clockwork airship with gears and steam. Victorian industrial style. PRESERVE FACIAL IDENTITY.",thumbnail:"https://picsum.photos/seed/steam/300/500"},{id:"astronaut",name:"Space Nomad",prompt:"Generate a realistic photo of the person in the input image. They are wearing a realistic white NASA space suit with the helmet removed and held under their arm. Standing on the red dusty surface of Mars. Dramatic sunlight, high detail. KEEP THE FACE IDENTICAL.",thumbnail:"https://picsum.photos/seed/space/300/500"},{id:"fantasy",name:"Elven Royalty",prompt:"Generate a realistic photo of the person in the input image. They are wearing an elegant silver crown with gemstones and a flowing white silk robe with intricate embroidery. Background is a magical forest with glowing fireflies. Soft ethereal lighting. FACE MUST MATCH INPUT.",thumbnail:"https://picsum.photos/seed/elf/300/500"},{id:"anime",name:"Anime Style",prompt:"Convert the person in the image to a high-quality 2D Anime Art Style. They are wearing a cool school uniform. Vibrant colors, cel-shaded, studio ghibli inspired background. RETAIN KEY FACIAL FEATURES AND HAIR STYLE.",thumbnail:"https://picsum.photos/seed/anime/300/500"},{id:"professional",name:"CEO Portrait",prompt:"Generate a professional headshot of the person in the input image. They are wearing a luxury dark tailored business suit and a white crisp shirt. Standing in a modern office with a blurred city skyline view. Professional studio lighting. KEEP THE FACE EXACTLY THE SAME.",thumbnail:"https://picsum.photos/seed/ceo/300/500"}],Ny={eventName:"COROAI PHOTOBOOTH",eventDescription:"Transform Your Reality into Digital Art",folderId:"1knqeFCrMVhUlfzmuu-AVTkZmFF3Dnuqy",originalFolderId:"",spreadsheetId:"1LzgzSxHKGYf0nnSKqIuXnf9Lk8DC1Yoqmd8fW2JvGzc",selectedModel:"gemini-2.5-flash-image",enableOpenAI:!1,gptModelSize:"1024",overlayImage:null,backgroundImage:null,backgroundVideoUrl:null,backgroundAudio:null,videoPrompt:"Cinematic slow motion, subtle movement, 4k high quality, looping background",enableVideoGeneration:!0,videoResolution:"480p",videoModel:"seedance-1-0-pro-fast-251015",boothMode:"video",monitorImageSize:"medium",monitorTheme:"physics",processingMode:"normal",autoResetTime:60,adminPin:"1234",orientation:"portrait",outputRatio:"9:16",cameraRotation:0,promptMode:"wrapped",enableModelShortcut:!1,enablePrint:!1},Rt=()=>(localStorage.getItem("APPS_SCRIPT_BASE_URL")||yo).trim(),It=async(i,t={})=>{try{t.method==="POST"&&(t.headers||(t.headers={}),t.headers["Content-Type"]="text/plain;charset=utf-8");const o=await fetch(i,t);if(!o.ok)throw new Error(`Server Error: ${o.status}`);const a=o.headers.get("content-type");if(a&&a.indexOf("application/json")!==-1)return await o.json();const r=await o.text();try{return JSON.parse(r)}catch{throw new Error("Invalid response from server (Not JSON)")}}catch(o){throw console.error("FETCH FAILED:",o.message),o}},Ry=async()=>{const i=Rt();return await It(`${i}?action=getSettings&t=${Date.now()}`)},Iy=async()=>{const i=Rt();try{return(await It(`${i}?action=getEvents&t=${Date.now()}`)).events||[]}catch{return[]}},My=async i=>{const t=Rt();try{const o=await It(`${t}?action=getBase64&id=${i}`);return o.ok?o.base64:null}catch{return null}},Dy=async()=>{const i=Rt();try{return await It(i,{method:"POST",body:JSON.stringify({action:"createSession"})})}catch{return{ok:!1}}},Uy=async(i,t)=>{const o=Rt();try{let a=t?.prompt,r=t?.resolution,c=t?.model;if(!a||!r||!c){const f=localStorage.getItem("pb_settings"),g=f?JSON.parse(f):{};a||(a=g.videoPrompt),r||(r=g.videoResolution||"480p"),c||(c=g.videoModel||"seedance-1-0-pro-fast-251015")}return await It(o,{method:"POST",body:JSON.stringify({action:"queueVideo",photoId:i,prompt:a,resolution:r,model:c})})}catch(a){return console.error("Queue Video Failed:",a),{ok:!1}}},Za=async(i,t)=>{const o=Rt();try{return await It(o,{method:"POST",body:JSON.stringify({action:"uploadGenerated",image:i,...t})})}catch(a){return{ok:!1,error:a.message||"FETCH_FAILED"}}},Wm=async(i,t)=>{const o=Rt();let a=`?action=gallery&t=${Date.now()}`;i&&(a+=`&eventId=${i}`),t&&t>0&&(a+=`&since=${t}`);const r=await It(`${o}${a}`);return Array.isArray(r.items)?{items:r.items,nextCursor:r.nextCursor||0,isDelta:r.isDelta}:{items:[],nextCursor:0}},ky=async(i,t)=>{const o=Rt();return await It(o,{method:"POST",body:JSON.stringify({action:"deletePhoto",pin:t,id:i})})},Ly=async i=>{const t=Rt();return await It(t,{method:"POST",body:JSON.stringify({action:"deleteAllPhotos",pin:i})})},Gy=async(i,t)=>{const o=Rt();try{return(await It(o,{method:"POST",body:JSON.stringify({action:"updateSettings",pin:t,settings:i})})).ok}catch{return!1}},Py=async(i,t)=>{const o=Rt();try{return(await It(o,{method:"POST",body:JSON.stringify({action:"updateConcepts",pin:t,concepts:i})})).ok}catch{return!1}},Oy=async(i,t)=>{const o=Rt();try{return await It(o,{method:"POST",body:JSON.stringify({action:"uploadOverlay",pin:t,image:i})})}catch{return{ok:!1}}},Hy=async(i,t)=>{const o=Rt();try{return await It(o,{method:"POST",body:JSON.stringify({action:"uploadBackground",pin:t,image:i})})}catch{return{ok:!1}}},Vy=async(i,t)=>{const o=Rt();try{return await It(o,{method:"POST",body:JSON.stringify({action:"uploadAudio",pin:t,image:i})})}catch{return{ok:!1}}},zy=Object.prototype.toString,qy=i=>zy.call(i)==="[object Error]",By=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function Fy(i){if(!(i&&qy(i)&&i.name==="TypeError"&&typeof i.message=="string"))return!1;const{message:o,stack:a}=i;return o==="Load failed"?a===void 0||"__sentry_captured__"in i:o.startsWith("error sending request for url")?!0:By.has(o)}function Yy(i){if(typeof i=="number"){if(i<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(i))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(i!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function Fa(i,t,{min:o=0,allowInfinity:a=!1}={}){if(t!==void 0){if(typeof t!="number"||Number.isNaN(t))throw new TypeError(`Expected \`${i}\` to be a number${a?" or Infinity":""}.`);if(!a&&!Number.isFinite(t))throw new TypeError(`Expected \`${i}\` to be a finite number.`);if(t<o)throw new TypeError(`Expected \`${i}\` to be  ${o}.`)}}let eg=class extends Error{constructor(t){super(),t instanceof Error?(this.originalError=t,{message:t}=t):(this.originalError=new Error(t),this.originalError.stack=this.stack),this.name="AbortError",this.message=t}};function Jy(i,t){const o=Math.max(1,i+1),a=t.randomize?Math.random()+1:1;let r=Math.round(a*t.minTimeout*t.factor**(o-1));return r=Math.min(r,t.maxTimeout),r}function gh(i,t){return Number.isFinite(t)?t-(performance.now()-i):t}async function Ky({error:i,attemptNumber:t,retriesConsumed:o,startTime:a,options:r}){const c=i instanceof Error?i:new TypeError(`Non-error was thrown: "${i}". You should only throw errors.`);if(c instanceof eg)throw c.originalError;const f=Number.isFinite(r.retries)?Math.max(0,r.retries-o):r.retries,g=r.maxRetryTime??Number.POSITIVE_INFINITY,y=Object.freeze({error:c,attemptNumber:t,retriesLeft:f,retriesConsumed:o});if(await r.onFailedAttempt(y),gh(a,g)<=0)throw c;const m=await r.shouldConsumeRetry(y),v=gh(a,g);if(v<=0||f<=0)throw c;if(c instanceof TypeError&&!Fy(c)){if(m)throw c;return r.signal?.throwIfAborted(),!1}if(!await r.shouldRetry(y))throw c;if(!m)return r.signal?.throwIfAborted(),!1;const S=Jy(o,r),E=Math.min(S,v);return r.signal?.throwIfAborted(),E>0&&await new Promise((_,w)=>{const D=()=>{clearTimeout(N),r.signal?.removeEventListener("abort",D),w(r.signal.reason)},N=setTimeout(()=>{r.signal?.removeEventListener("abort",D),_()},E);r.unref&&N.unref?.(),r.signal?.addEventListener("abort",D,{once:!0})}),r.signal?.throwIfAborted(),!0}async function Xy(i,t={}){if(t={...t},Yy(t.retries),Object.hasOwn(t,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");t.retries??=10,t.factor??=2,t.minTimeout??=1e3,t.maxTimeout??=Number.POSITIVE_INFINITY,t.maxRetryTime??=Number.POSITIVE_INFINITY,t.randomize??=!1,t.onFailedAttempt??=()=>{},t.shouldRetry??=()=>!0,t.shouldConsumeRetry??=()=>!0,Fa("factor",t.factor,{min:0,allowInfinity:!1}),Fa("minTimeout",t.minTimeout,{min:0,allowInfinity:!1}),Fa("maxTimeout",t.maxTimeout,{min:0,allowInfinity:!0}),Fa("maxRetryTime",t.maxRetryTime,{min:0,allowInfinity:!0}),t.factor>0||(t.factor=1),t.signal?.throwIfAborted();let o=0,a=0;const r=performance.now();for(;!Number.isFinite(t.retries)||a<=t.retries;){o++;try{t.signal?.throwIfAborted();const c=await i(o);return t.signal?.throwIfAborted(),c}catch(c){await Ky({error:c,attemptNumber:o,retriesConsumed:a,startTime:r,options:t})&&a++}}throw new Error("Retry attempts exhausted without throwing an error.")}var Qy={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let $y,jy;function Zy(){return{geminiUrl:$y,vertexUrl:jy}}function Wy(i,t,o,a){var r,c;if(!i?.baseUrl){const f=Zy();return t?(r=f.vertexUrl)!==null&&r!==void 0?r:o:(c=f.geminiUrl)!==null&&c!==void 0?c:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dn{}function ue(i,t){const o=/\{([^}]+)\}/g;return i.replace(o,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const c=t[r];return c!=null?String(c):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function d(i,t,o){for(let c=0;c<t.length-1;c++){const f=t[c];if(f.endsWith("[]")){const g=f.slice(0,-2);if(!(g in i))if(Array.isArray(o))i[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(o))for(let m=0;m<y.length;m++){const v=y[m];d(v,t.slice(c+1),o[m])}else for(const m of y)d(m,t.slice(c+1),o)}return}else if(f.endsWith("[0]")){const g=f.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];d(y[0],t.slice(c+1),o);return}(!i[f]||typeof i[f]!="object")&&(i[f]={}),i=i[f]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[a]=o}function u(i,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return o;const r=t[a];if(r.endsWith("[]")){const c=r.slice(0,-2);if(c in i){const f=i[c];return Array.isArray(f)?f.map(g=>u(g,t.slice(a+1),o)):o}else return o}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return o;throw a}}function ex(i,t){for(const[o,a]of Object.entries(t)){const r=o.split("."),c=a.split("."),f=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&c.length>g)for(let y=g;y<c.length;y++){const m=c[y];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&f.add(m)}Lu(i,r,c,0,f)}}function Lu(i,t,o,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const c=t[a];if(c.endsWith("[]")){const f=c.slice(0,-2),g=i;if(f in g&&Array.isArray(g[f]))for(const y of g[f])Lu(y,t,o,a+1,r)}else if(c==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const f=i,g=Object.keys(f).filter(m=>!m.startsWith("_")&&!r.has(m)),y={};for(const m of g)y[m]=f[m];for(const[m,v]of Object.entries(y)){const S=[];for(const E of o.slice(a))E==="*"?S.push(m):S.push(E);d(f,S,v)}for(const m of g)delete f[m]}}else{const f=i;c in f&&Lu(f[c],t,o,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tx(i){const t={},o=u(i,["operationName"]);o!=null&&d(t,["operationName"],o);const a=u(i,["resourceName"]);return a!=null&&d(t,["_url","resourceName"],a),t}function nx(i){const t={},o=u(i,["name"]);o!=null&&d(t,["name"],o);const a=u(i,["metadata"]);a!=null&&d(t,["metadata"],a);const r=u(i,["done"]);r!=null&&d(t,["done"],r);const c=u(i,["error"]);c!=null&&d(t,["error"],c);const f=u(i,["response","generateVideoResponse"]);return f!=null&&d(t,["response"],ox(f)),t}function ix(i){const t={},o=u(i,["name"]);o!=null&&d(t,["name"],o);const a=u(i,["metadata"]);a!=null&&d(t,["metadata"],a);const r=u(i,["done"]);r!=null&&d(t,["done"],r);const c=u(i,["error"]);c!=null&&d(t,["error"],c);const f=u(i,["response"]);return f!=null&&d(t,["response"],lx(f)),t}function ox(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>ax(f))),d(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&d(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&d(t,["raiMediaFilteredReasons"],r),t}function lx(i){const t={},o=u(i,["videos"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>sx(f))),d(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&d(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&d(t,["raiMediaFilteredReasons"],r),t}function ax(i){const t={},o=u(i,["video"]);return o!=null&&d(t,["video"],px(o)),t}function sx(i){const t={},o=u(i,["_self"]);return o!=null&&d(t,["video"],hx(o)),t}function rx(i){const t={},o=u(i,["operationName"]);return o!=null&&d(t,["_url","operationName"],o),t}function ux(i){const t={},o=u(i,["operationName"]);return o!=null&&d(t,["_url","operationName"],o),t}function cx(i){const t={},o=u(i,["name"]);o!=null&&d(t,["name"],o);const a=u(i,["metadata"]);a!=null&&d(t,["metadata"],a);const r=u(i,["done"]);r!=null&&d(t,["done"],r);const c=u(i,["error"]);c!=null&&d(t,["error"],c);const f=u(i,["response"]);return f!=null&&d(t,["response"],dx(f)),t}function dx(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&d(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&d(t,["documentName"],r),t}function tg(i){const t={},o=u(i,["name"]);o!=null&&d(t,["name"],o);const a=u(i,["metadata"]);a!=null&&d(t,["metadata"],a);const r=u(i,["done"]);r!=null&&d(t,["done"],r);const c=u(i,["error"]);c!=null&&d(t,["error"],c);const f=u(i,["response"]);return f!=null&&d(t,["response"],fx(f)),t}function fx(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&d(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&d(t,["documentName"],r),t}function px(i){const t={},o=u(i,["uri"]);o!=null&&d(t,["uri"],o);const a=u(i,["encodedVideo"]);a!=null&&d(t,["videoBytes"],Wu(a));const r=u(i,["encoding"]);return r!=null&&d(t,["mimeType"],r),t}function hx(i){const t={},o=u(i,["gcsUri"]);o!=null&&d(t,["uri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&d(t,["videoBytes"],Wu(a));const r=u(i,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var vh;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(vh||(vh={}));var yh;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(yh||(yh={}));var xh;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(xh||(xh={}));var ri;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(ri||(ri={}));var Sh;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Sh||(Sh={}));var Th;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Th||(Th={}));var Eh;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Eh||(Eh={}));var bh;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(bh||(bh={}));var _h;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(_h||(_h={}));var Ch;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Ch||(Ch={}));var Ah;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Ah||(Ah={}));var wh;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(wh||(wh={}));var Nh;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Nh||(Nh={}));var Rh;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Rh||(Rh={}));var Ih;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Ih||(Ih={}));var Mh;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(Mh||(Mh={}));var Dh;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Dh||(Dh={}));var Uh;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Uh||(Uh={}));var kh;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(kh||(kh={}));var Lh;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Lh||(Lh={}));var Gh;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Gh||(Gh={}));var Wa;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Wa||(Wa={}));var Ph;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ph||(Ph={}));var Oh;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Oh||(Oh={}));var Hh;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Hh||(Hh={}));var Gu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Gu||(Gu={}));var Vh;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Vh||(Vh={}));var zh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(zh||(zh={}));var Pu;(function(i){i.COLLECTION="COLLECTION"})(Pu||(Pu={}));var qh;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(qh||(qh={}));var Bh;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Bh||(Bh={}));var Fh;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Fh||(Fh={}));var Yh;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Yh||(Yh={}));var Jh;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Jh||(Jh={}));var Kh;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Kh||(Kh={}));var Xh;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Xh||(Xh={}));var Qh;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Qh||(Qh={}));var $h;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})($h||($h={}));var jh;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(jh||(jh={}));var Zh;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Zh||(Zh={}));var Wh;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Wh||(Wh={}));var em;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(em||(em={}));var tm;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING",i.DISTILLATION="DISTILLATION"})(tm||(tm={}));var nm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(nm||(nm={}));var im;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(im||(im={}));var om;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(om||(om={}));var lm;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(lm||(lm={}));var am;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(am||(am={}));var sm;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(sm||(sm={}));var rm;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})(rm||(rm={}));var um;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(um||(um={}));var cm;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(cm||(cm={}));var dm;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(dm||(dm={}));var fm;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(fm||(fm={}));var pm;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(pm||(pm={}));var hm;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(hm||(hm={}));var xo;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(xo||(xo={}));class Ou{constructor(t){const o={};for(const a of t.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class El{get text(){var t,o,a,r,c,f,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const S=[];for(const E of(y=(g=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[_,w]of Object.entries(E))_!=="text"&&_!=="thought"&&_!=="thoughtSignature"&&(w!==null||w!==void 0)&&S.push(_);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,m+=E.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var t,o,a,r,c,f,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const S of(y=(g=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[E,_]of Object.entries(S))E!=="inlineData"&&(_!==null||_!==void 0)&&v.push(E);S.inlineData&&typeof S.inlineData.data=="string"&&(m+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var t,o,a,r,c,f,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(y=(g=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if(m?.length!==0)return m}get executableCode(){var t,o,a,r,c,f,g,y,m;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if(v?.length!==0)return(m=v?.[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var t,o,a,r,c,f,g,y,m;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if(v?.length!==0)return(m=v?.[0])===null||m===void 0?void 0:m.output}}class mm{}class gm{}class mx{}class gx{}class vx{}class yx{}class vm{}class ym{}class xm{}class xx{}class es{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new es;let r;const c=t;return o?r=ix(c):r=nx(c),Object.assign(a,r),a}}class Sm{}class Tm{}class Em{}class bm{}class Sx{}class Tx{}class Ex{}class ec{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new ec,c=cx(t);return Object.assign(a,c),a}}class bx{}class _x{}class Cx{}class Ax{}class _m{}class wx{get text(){var t,o,a;let r="",c=!1;const f=[];for(const g of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[y,m]of Object.entries(g))y!=="text"&&y!=="thought"&&m!==null&&f.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;c=!0,r+=g.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?r:void 0}get data(){var t,o,a;let r="";const c=[];for(const f of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(f))g!=="inlineData"&&y!==null&&c.push(g);f.inlineData&&typeof f.inlineData.data=="string"&&(r+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Nx{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class tc{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new tc,c=tg(t);return Object.assign(a,c),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function De(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function ng(i,t){const o=De(i,t);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function ig(i){return Array.isArray(i)?i.map(t=>ts(t)):[ts(i)]}function ts(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function og(i){const t=ts(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function lg(i){const t=ts(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Cm(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function ag(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>Cm(t)):[Cm(i)]}function Hu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function Am(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function wm(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function mt(i){if(i==null)throw new Error("ContentUnion is required");return Hu(i)?i:{role:"user",parts:ag(i)}}function nc(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const a=mt(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const o=mt(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>mt(o)):[mt(t)]}function Qt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Am(i)||wm(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[mt(i)]}const t=[],o=[],a=Hu(i[0]);for(const r of i){const c=Hu(r);if(c!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)t.push(r);else{if(Am(r)||wm(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return a||t.push({role:"user",parts:ag(o)}),t}function Rx(i,t){i.includes("null")&&(t.nullable=!0);const o=i.filter(a=>a!=="null");if(o.length===1)t.type=Object.values(ri).includes(o[0].toUpperCase())?o[0].toUpperCase():ri.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of o)t.anyOf.push({type:Object.values(ri).includes(a.toUpperCase())?a.toUpperCase():ri.TYPE_UNSPECIFIED})}}function To(i){const t={},o=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=i.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(t.nullable=!0,i=c[1]):c[1].type==="null"&&(t.nullable=!0,i=c[0])),i.type instanceof Array&&Rx(i.type,t);for(const[f,g]of Object.entries(i))if(g!=null)if(f=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(ri).includes(g.toUpperCase())?g.toUpperCase():ri.TYPE_UNSPECIFIED}else if(o.includes(f))t[f]=To(g);else if(a.includes(f)){const y=[];for(const m of g){if(m.type=="null"){t.nullable=!0;continue}y.push(To(m))}t[f]=y}else if(r.includes(f)){const y={};for(const[m,v]of Object.entries(g))y[m]=To(v);t[f]=y}else{if(f==="additionalProperties")continue;t[f]=g}return t}function ic(i){return To(i)}function oc(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function lc(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function Co(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=To(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=To(t.response));return i}function Ao(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of i)t.push(o);return t}function Ix(i,t,o,a=1){const r=!t.startsWith(`${o}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${t}`:t:r?`${o}/${t}`:t}function Un(i,t){if(typeof t!="string")throw new Error("name must be a string");return Ix(i,t,"cachedContents")}function sg(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function ui(i){return Wu(i)}function Mx(i){return i!=null&&typeof i=="object"&&"name"in i}function Dx(i){return i!=null&&typeof i=="object"&&"video"in i}function Ux(i){return i!=null&&typeof i=="object"&&"uri"in i}function rg(i){var t;let o;if(Mx(i)&&(o=i.name),!(Ux(i)&&(o=i.uri,o===void 0))&&!(Dx(i)&&(o=(t=i.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function ug(i,t){let o;return i.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function cg(i){for(const t of["models","tunedModels","publisherModels"])if(kx(i,t))return i[t];return[]}function kx(i,t){return i!==null&&typeof i=="object"&&t in i}function Lx(i,t={}){const o=i,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function Gx(i,t={}){const o=[],a=new Set;for(const r of i){const c=r.name;if(a.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);a.add(c);const f=Lx(r,t);f.functionDeclarations&&o.push(...f.functionDeclarations)}return{functionDeclarations:o}}function dg(i,t){let o;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function Px(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function fg(i){if(typeof i!="object"||i===null)return{};const t=i,o=t.inlinedResponses;if(typeof o!="object"||o===null)return i;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let c=!1;for(const f of r){if(typeof f!="object"||f===null)continue;const y=f.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){c=!0;break}}return c&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function wo(i,t){const o=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function pg(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ox(i){const t={},o=u(i,["responsesFile"]);o!=null&&d(t,["fileName"],o);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>yS(f))),d(t,["inlinedResponses"],c)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>f)),d(t,["inlinedEmbedContentResponses"],c)}return t}function Hx(i){const t={},o=u(i,["predictionsFormat"]);o!=null&&d(t,["format"],o);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&d(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&d(t,["bigqueryUri"],r),t}function Vx(i){const t={},o=u(i,["format"]);o!=null&&d(t,["predictionsFormat"],o);const a=u(i,["gcsUri"]);a!=null&&d(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&d(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function $a(i){const t={},o=u(i,["name"]);o!=null&&d(t,["name"],o);const a=u(i,["metadata","displayName"]);a!=null&&d(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&d(t,["state"],pg(r));const c=u(i,["metadata","createTime"]);c!=null&&d(t,["createTime"],c);const f=u(i,["metadata","endTime"]);f!=null&&d(t,["endTime"],f);const g=u(i,["metadata","updateTime"]);g!=null&&d(t,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&d(t,["model"],y);const m=u(i,["metadata","output"]);return m!=null&&d(t,["dest"],Ox(fg(m))),t}function Vu(i){const t={},o=u(i,["name"]);o!=null&&d(t,["name"],o);const a=u(i,["displayName"]);a!=null&&d(t,["displayName"],a);const r=u(i,["state"]);r!=null&&d(t,["state"],pg(r));const c=u(i,["error"]);c!=null&&d(t,["error"],c);const f=u(i,["createTime"]);f!=null&&d(t,["createTime"],f);const g=u(i,["startTime"]);g!=null&&d(t,["startTime"],g);const y=u(i,["endTime"]);y!=null&&d(t,["endTime"],y);const m=u(i,["updateTime"]);m!=null&&d(t,["updateTime"],m);const v=u(i,["model"]);v!=null&&d(t,["model"],v);const S=u(i,["inputConfig"]);S!=null&&d(t,["src"],zx(S));const E=u(i,["outputConfig"]);E!=null&&d(t,["dest"],Hx(fg(E)));const _=u(i,["completionStats"]);return _!=null&&d(t,["completionStats"],_),t}function zx(i){const t={},o=u(i,["instancesFormat"]);o!=null&&d(t,["format"],o);const a=u(i,["gcsSource","uris"]);a!=null&&d(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&d(t,["bigqueryUri"],r),t}function qx(i,t){const o={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&d(o,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>vS(i,f))),d(o,["requests","requests"],c)}return o}function Bx(i){const t={},o=u(i,["format"]);o!=null&&d(t,["instancesFormat"],o);const a=u(i,["gcsUri"]);a!=null&&d(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&d(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Fx(i){const t={},o=u(i,["data"]);if(o!=null&&d(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function Yx(i,t){const o={},a=u(t,["name"]);return a!=null&&d(o,["_url","name"],wo(i,a)),o}function Jx(i,t){const o={},a=u(t,["name"]);return a!=null&&d(o,["_url","name"],wo(i,a)),o}function Kx(i){const t={},o=u(i,["content"]);o!=null&&d(t,["content"],o);const a=u(i,["citationMetadata"]);a!=null&&d(t,["citationMetadata"],Xx(a));const r=u(i,["tokenCount"]);r!=null&&d(t,["tokenCount"],r);const c=u(i,["finishReason"]);c!=null&&d(t,["finishReason"],c);const f=u(i,["avgLogprobs"]);f!=null&&d(t,["avgLogprobs"],f);const g=u(i,["groundingMetadata"]);g!=null&&d(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&d(t,["index"],y);const m=u(i,["logprobsResult"]);m!=null&&d(t,["logprobsResult"],m);const v=u(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(_=>_)),d(t,["safetyRatings"],E)}const S=u(i,["urlContextMetadata"]);return S!=null&&d(t,["urlContextMetadata"],S),t}function Xx(i){const t={},o=u(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),d(t,["citations"],a)}return t}function hg(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>CS(c))),d(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&d(t,["role"],a),t}function Qx(i,t){const o={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&d(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function $x(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&d(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&d(t,["outputConfig"],Vx(Px(r))),o}function Nm(i,t){const o={},a=u(t,["model"]);a!=null&&d(o,["_url","model"],De(i,a));const r=u(t,["src"]);r!=null&&d(o,["batch","inputConfig"],qx(i,dg(i,r)));const c=u(t,["config"]);return c!=null&&Qx(c,o),o}function jx(i,t){const o={},a=u(t,["model"]);a!=null&&d(o,["model"],De(i,a));const r=u(t,["src"]);r!=null&&d(o,["inputConfig"],Bx(dg(i,r)));const c=u(t,["config"]);return c!=null&&$x(c,o),o}function Zx(i,t){const o={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&d(t,["batch","displayName"],a),o}function Wx(i,t){const o={},a=u(t,["model"]);a!=null&&d(o,["_url","model"],De(i,a));const r=u(t,["src"]);r!=null&&d(o,["batch","inputConfig"],aS(i,r));const c=u(t,["config"]);return c!=null&&Zx(c,o),o}function eS(i,t){const o={},a=u(t,["name"]);return a!=null&&d(o,["_url","name"],wo(i,a)),o}function tS(i,t){const o={},a=u(t,["name"]);return a!=null&&d(o,["_url","name"],wo(i,a)),o}function nS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&d(t,["name"],a);const r=u(i,["done"]);r!=null&&d(t,["done"],r);const c=u(i,["error"]);return c!=null&&d(t,["error"],c),t}function iS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&d(t,["name"],a);const r=u(i,["done"]);r!=null&&d(t,["done"],r);const c=u(i,["error"]);return c!=null&&d(t,["error"],c),t}function oS(i,t){const o={},a=u(t,["contents"]);if(a!=null){let c=nc(i,a);Array.isArray(c)&&(c=c.map(f=>f)),d(o,["requests[]","request","content"],c)}const r=u(t,["config"]);return r!=null&&(d(o,["_self"],lS(r,o)),ex(o,{"requests[].*":"requests[].request.*"})),o}function lS(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&d(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&d(t,["requests[]","title"],r);const c=u(i,["outputDimensionality"]);if(t!==void 0&&c!=null&&d(t,["requests[]","outputDimensionality"],c),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function aS(i,t){const o={},a=u(t,["fileName"]);a!=null&&d(o,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&d(o,["requests"],oS(i,r)),o}function sS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&d(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function rS(i){const t={},o=u(i,["id"]);o!=null&&d(t,["id"],o);const a=u(i,["args"]);a!=null&&d(t,["args"],a);const r=u(i,["name"]);if(r!=null&&d(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function uS(i){const t={},o=u(i,["allowedFunctionNames"]);o!=null&&d(t,["allowedFunctionNames"],o);const a=u(i,["mode"]);if(a!=null&&d(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function cS(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&d(o,["systemInstruction"],hg(mt(r)));const c=u(t,["temperature"]);c!=null&&d(a,["temperature"],c);const f=u(t,["topP"]);f!=null&&d(a,["topP"],f);const g=u(t,["topK"]);g!=null&&d(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&d(a,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&d(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&d(a,["stopSequences"],v);const S=u(t,["responseLogprobs"]);S!=null&&d(a,["responseLogprobs"],S);const E=u(t,["logprobs"]);E!=null&&d(a,["logprobs"],E);const _=u(t,["presencePenalty"]);_!=null&&d(a,["presencePenalty"],_);const w=u(t,["frequencyPenalty"]);w!=null&&d(a,["frequencyPenalty"],w);const D=u(t,["seed"]);D!=null&&d(a,["seed"],D);const N=u(t,["responseMimeType"]);N!=null&&d(a,["responseMimeType"],N);const B=u(t,["responseSchema"]);B!=null&&d(a,["responseSchema"],ic(B));const F=u(t,["responseJsonSchema"]);if(F!=null&&d(a,["responseJsonSchema"],F),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=u(t,["safetySettings"]);if(o!==void 0&&P!=null){let ee=P;Array.isArray(ee)&&(ee=ee.map(te=>AS(te))),d(o,["safetySettings"],ee)}const X=u(t,["tools"]);if(o!==void 0&&X!=null){let ee=Ao(X);Array.isArray(ee)&&(ee=ee.map(te=>NS(Co(te)))),d(o,["tools"],ee)}const j=u(t,["toolConfig"]);if(o!==void 0&&j!=null&&d(o,["toolConfig"],wS(j)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const q=u(t,["cachedContent"]);o!==void 0&&q!=null&&d(o,["cachedContent"],Un(i,q));const Z=u(t,["responseModalities"]);Z!=null&&d(a,["responseModalities"],Z);const ce=u(t,["mediaResolution"]);ce!=null&&d(a,["mediaResolution"],ce);const se=u(t,["speechConfig"]);if(se!=null&&d(a,["speechConfig"],oc(se)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ae=u(t,["thinkingConfig"]);ae!=null&&d(a,["thinkingConfig"],ae);const fe=u(t,["imageConfig"]);fe!=null&&d(a,["imageConfig"],gS(fe));const pe=u(t,["enableEnhancedCivicAnswers"]);if(pe!=null&&d(a,["enableEnhancedCivicAnswers"],pe),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return a}function dS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(m=>Kx(m))),d(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&d(t,["modelVersion"],r);const c=u(i,["promptFeedback"]);c!=null&&d(t,["promptFeedback"],c);const f=u(i,["responseId"]);f!=null&&d(t,["responseId"],f);const g=u(i,["usageMetadata"]);return g!=null&&d(t,["usageMetadata"],g),t}function fS(i,t){const o={},a=u(t,["name"]);return a!=null&&d(o,["_url","name"],wo(i,a)),o}function pS(i,t){const o={},a=u(t,["name"]);return a!=null&&d(o,["_url","name"],wo(i,a)),o}function hS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&d(t,["enableWidget"],o),t}function mS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&d(t,["timeRangeFilter"],o),t}function gS(i){const t={},o=u(i,["aspectRatio"]);o!=null&&d(t,["aspectRatio"],o);const a=u(i,["imageSize"]);if(a!=null&&d(t,["imageSize"],a),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function vS(i,t){const o={},a=u(t,["model"]);a!=null&&d(o,["request","model"],De(i,a));const r=u(t,["contents"]);if(r!=null){let g=Qt(r);Array.isArray(g)&&(g=g.map(y=>hg(y))),d(o,["request","contents"],g)}const c=u(t,["metadata"]);c!=null&&d(o,["metadata"],c);const f=u(t,["config"]);return f!=null&&d(o,["request","generationConfig"],cS(i,f,u(o,["request"],{}))),o}function yS(i){const t={},o=u(i,["response"]);o!=null&&d(t,["response"],dS(o));const a=u(i,["metadata"]);a!=null&&d(t,["metadata"],a);const r=u(i,["error"]);return r!=null&&d(t,["error"],r),t}function xS(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&d(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&d(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function SS(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&d(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&d(t,["_query","pageToken"],r);const c=u(i,["filter"]);return t!==void 0&&c!=null&&d(t,["_query","filter"],c),o}function TS(i){const t={},o=u(i,["config"]);return o!=null&&xS(o,t),t}function ES(i){const t={},o=u(i,["config"]);return o!=null&&SS(o,t),t}function bS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&d(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>$a(f))),d(t,["batchJobs"],c)}return t}function _S(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&d(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>Vu(f))),d(t,["batchJobs"],c)}return t}function CS(i){const t={},o=u(i,["mediaResolution"]);o!=null&&d(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&d(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&d(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&d(t,["fileData"],sS(c));const f=u(i,["functionCall"]);f!=null&&d(t,["functionCall"],rS(f));const g=u(i,["functionResponse"]);g!=null&&d(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&d(t,["inlineData"],Fx(y));const m=u(i,["text"]);m!=null&&d(t,["text"],m);const v=u(i,["thought"]);v!=null&&d(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&d(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&d(t,["videoMetadata"],E),t}function AS(i){const t={},o=u(i,["category"]);if(o!=null&&d(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&d(t,["threshold"],a),t}function wS(i){const t={},o=u(i,["retrievalConfig"]);o!=null&&d(t,["retrievalConfig"],o);const a=u(i,["functionCallingConfig"]);return a!=null&&d(t,["functionCallingConfig"],uS(a)),t}function NS(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&d(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&d(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&d(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(S=>S)),d(t,["functionDeclarations"],v)}const f=u(i,["googleMaps"]);f!=null&&d(t,["googleMaps"],hS(f));const g=u(i,["googleSearch"]);g!=null&&d(t,["googleSearch"],mS(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&d(t,["googleSearchRetrieval"],y);const m=u(i,["urlContext"]);return m!=null&&d(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Mn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Mn||(Mn={}));class Ii{constructor(t,o,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,a,r)}init(t,o,a){var r,c;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o?.sdkHttpResponse,this.idxInternal=0;let f={config:{}};!a||Object.keys(a).length===0?f={config:{}}:typeof a=="object"?f=Object.assign({},a):f=a,f.config&&(f.config.pageToken=o.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(c=(r=f.config)===null||r===void 0?void 0:r.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RS extends Dn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Ii(Mn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(t){const o=Nm(this.apiClient,t),a=o._url,r=ue("{model}:batchGenerateContent",a),g=o.batch.inputConfig.requests,y=g.requests,m=[];for(const v of y){const S=Object.assign({},v);if(S.systemInstruction){const E=S.systemInstruction;delete S.systemInstruction;const _=S.request;_.systemInstruction=E,S.request=_}m.push(S)}return g.requests=m,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const a=o?Object.assign({},o):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const c=this.getGcsUri(t),f=this.getBigqueryUri(t);if(c)c.endsWith(".jsonl")?a.dest=`${c.slice(0,-6)}/dest`:a.dest=`${c}_dest_${r}`;else if(f)a.dest=`${f}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var o,a,r,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const m=jx(this.apiClient,t);return g=ue("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),f.then(v=>Vu(v))}else{const m=Nm(this.apiClient,t);return g=ue("{model}:batchGenerateContent",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>$a(v))}}async createEmbeddingsInternal(t){var o,a;let r,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Wx(this.apiClient,t);return c=ue("{model}:asyncBatchEmbedContent",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>$a(y))}}async get(t){var o,a,r,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const m=pS(this.apiClient,t);return g=ue("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),f.then(v=>Vu(v))}else{const m=fS(this.apiClient,t);return g=ue("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>$a(v))}}async cancel(t){var o,a,r,c;let f="",g={};if(this.apiClient.isVertexAI()){const y=Jx(this.apiClient,t);f=ue("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=Yx(this.apiClient,t);f=ue("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(t){var o,a,r,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const m=ES(t);return g=ue("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),f.then(v=>{const S=_S(v),E=new _m;return Object.assign(E,S),E})}else{const m=TS(t);return g=ue("batches",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),f.then(v=>{const S=bS(v),E=new _m;return Object.assign(E,S),E})}}async delete(t){var o,a,r,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const m=tS(this.apiClient,t);return g=ue("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),f.then(v=>iS(v))}else{const m=eS(this.apiClient,t);return g=ue("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),f.then(v=>nS(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IS(i){const t={},o=u(i,["data"]);if(o!=null&&d(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function Rm(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>WS(c))),d(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&d(t,["role"],a),t}function MS(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&d(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&d(t,["expireTime"],r);const c=u(i,["displayName"]);t!==void 0&&c!=null&&d(t,["displayName"],c);const f=u(i,["contents"]);if(t!==void 0&&f!=null){let v=Qt(f);Array.isArray(v)&&(v=v.map(S=>Rm(S))),d(t,["contents"],v)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&d(t,["systemInstruction"],Rm(mt(g)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(S=>tT(S))),d(t,["tools"],v)}const m=u(i,["toolConfig"]);if(t!==void 0&&m!=null&&d(t,["toolConfig"],eT(m)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function DS(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&d(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&d(t,["expireTime"],r);const c=u(i,["displayName"]);t!==void 0&&c!=null&&d(t,["displayName"],c);const f=u(i,["contents"]);if(t!==void 0&&f!=null){let S=Qt(f);Array.isArray(S)&&(S=S.map(E=>E)),d(t,["contents"],S)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&d(t,["systemInstruction"],mt(g));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(E=>nT(E))),d(t,["tools"],S)}const m=u(i,["toolConfig"]);t!==void 0&&m!=null&&d(t,["toolConfig"],m);const v=u(i,["kmsKeyName"]);return t!==void 0&&v!=null&&d(t,["encryption_spec","kmsKeyName"],v),o}function US(i,t){const o={},a=u(t,["model"]);a!=null&&d(o,["model"],ng(i,a));const r=u(t,["config"]);return r!=null&&MS(r,o),o}function kS(i,t){const o={},a=u(t,["model"]);a!=null&&d(o,["model"],ng(i,a));const r=u(t,["config"]);return r!=null&&DS(r,o),o}function LS(i,t){const o={},a=u(t,["name"]);return a!=null&&d(o,["_url","name"],Un(i,a)),o}function GS(i,t){const o={},a=u(t,["name"]);return a!=null&&d(o,["_url","name"],Un(i,a)),o}function PS(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&d(t,["sdkHttpResponse"],o),t}function OS(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&d(t,["sdkHttpResponse"],o),t}function HS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&d(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function VS(i){const t={},o=u(i,["id"]);o!=null&&d(t,["id"],o);const a=u(i,["args"]);a!=null&&d(t,["args"],a);const r=u(i,["name"]);if(r!=null&&d(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function zS(i){const t={},o=u(i,["allowedFunctionNames"]);o!=null&&d(t,["allowedFunctionNames"],o);const a=u(i,["mode"]);if(a!=null&&d(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function qS(i){const t={},o=u(i,["description"]);o!=null&&d(t,["description"],o);const a=u(i,["name"]);a!=null&&d(t,["name"],a);const r=u(i,["parameters"]);r!=null&&d(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&d(t,["parametersJsonSchema"],c);const f=u(i,["response"]);f!=null&&d(t,["response"],f);const g=u(i,["responseJsonSchema"]);if(g!=null&&d(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function BS(i,t){const o={},a=u(t,["name"]);return a!=null&&d(o,["_url","name"],Un(i,a)),o}function FS(i,t){const o={},a=u(t,["name"]);return a!=null&&d(o,["_url","name"],Un(i,a)),o}function YS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&d(t,["enableWidget"],o),t}function JS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&d(t,["timeRangeFilter"],o),t}function KS(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&d(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&d(t,["_query","pageToken"],r),o}function XS(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&d(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&d(t,["_query","pageToken"],r),o}function QS(i){const t={},o=u(i,["config"]);return o!=null&&KS(o,t),t}function $S(i){const t={},o=u(i,["config"]);return o!=null&&XS(o,t),t}function jS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&d(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>f)),d(t,["cachedContents"],c)}return t}function ZS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&d(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>f)),d(t,["cachedContents"],c)}return t}function WS(i){const t={},o=u(i,["mediaResolution"]);o!=null&&d(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&d(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&d(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&d(t,["fileData"],HS(c));const f=u(i,["functionCall"]);f!=null&&d(t,["functionCall"],VS(f));const g=u(i,["functionResponse"]);g!=null&&d(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&d(t,["inlineData"],IS(y));const m=u(i,["text"]);m!=null&&d(t,["text"],m);const v=u(i,["thought"]);v!=null&&d(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&d(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&d(t,["videoMetadata"],E),t}function eT(i){const t={},o=u(i,["retrievalConfig"]);o!=null&&d(t,["retrievalConfig"],o);const a=u(i,["functionCallingConfig"]);return a!=null&&d(t,["functionCallingConfig"],zS(a)),t}function tT(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&d(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&d(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&d(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(S=>S)),d(t,["functionDeclarations"],v)}const f=u(i,["googleMaps"]);f!=null&&d(t,["googleMaps"],YS(f));const g=u(i,["googleSearch"]);g!=null&&d(t,["googleSearch"],JS(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&d(t,["googleSearchRetrieval"],y);const m=u(i,["urlContext"]);return m!=null&&d(t,["urlContext"],m),t}function nT(i){const t={},o=u(i,["retrieval"]);o!=null&&d(t,["retrieval"],o);const a=u(i,["computerUse"]);if(a!=null&&d(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&d(t,["codeExecution"],r);const c=u(i,["enterpriseWebSearch"]);c!=null&&d(t,["enterpriseWebSearch"],c);const f=u(i,["functionDeclarations"]);if(f!=null){let S=f;Array.isArray(S)&&(S=S.map(E=>qS(E))),d(t,["functionDeclarations"],S)}const g=u(i,["googleMaps"]);g!=null&&d(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&d(t,["googleSearch"],y);const m=u(i,["googleSearchRetrieval"]);m!=null&&d(t,["googleSearchRetrieval"],m);const v=u(i,["urlContext"]);return v!=null&&d(t,["urlContext"],v),t}function iT(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&d(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&d(t,["expireTime"],r),o}function oT(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&d(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&d(t,["expireTime"],r),o}function lT(i,t){const o={},a=u(t,["name"]);a!=null&&d(o,["_url","name"],Un(i,a));const r=u(t,["config"]);return r!=null&&iT(r,o),o}function aT(i,t){const o={},a=u(t,["name"]);a!=null&&d(o,["_url","name"],Un(i,a));const r=u(t,["config"]);return r!=null&&oT(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sT extends Dn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Ii(Mn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(t){var o,a,r,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const m=kS(this.apiClient,t);return g=ue("cachedContents",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const m=US(this.apiClient,t);return g=ue("cachedContents",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async get(t){var o,a,r,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const m=FS(this.apiClient,t);return g=ue("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const m=BS(this.apiClient,t);return g=ue("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async delete(t){var o,a,r,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const m=GS(this.apiClient,t);return g=ue("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),f.then(v=>{const S=OS(v),E=new Em;return Object.assign(E,S),E})}else{const m=LS(this.apiClient,t);return g=ue("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),f.then(v=>{const S=PS(v),E=new Em;return Object.assign(E,S),E})}}async update(t){var o,a,r,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const m=aT(this.apiClient,t);return g=ue("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const m=lT(this.apiClient,t);return g=ue("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async listInternal(t){var o,a,r,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const m=$S(t);return g=ue("cachedContents",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),f.then(v=>{const S=ZS(v),E=new bm;return Object.assign(E,S),E})}else{const m=QS(t);return g=ue("cachedContents",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),f.then(v=>{const S=jS(v),E=new bm;return Object.assign(E,S),E})}}}function ns(i,t){var o={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(o[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(o[a[r]]=i[a[r]]);return o}function Im(i){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&i[t],a=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xe(i){return this instanceof xe?(this.v=i,this):new xe(i)}function nn(i,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(i,t||[]),r,c=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",f),r[Symbol.asyncIterator]=function(){return this},r;function f(_){return function(w){return Promise.resolve(w).then(_,S)}}function g(_,w){a[_]&&(r[_]=function(D){return new Promise(function(N,B){c.push([_,D,N,B])>1||y(_,D)})},w&&(r[_]=w(r[_])))}function y(_,w){try{m(a[_](w))}catch(D){E(c[0][3],D)}}function m(_){_.value instanceof xe?Promise.resolve(_.value.v).then(v,S):E(c[0][2],_)}function v(_){y("next",_)}function S(_){y("throw",_)}function E(_,w){_(w),c.shift(),c.length&&y(c[0][0],c[0][1])}}function on(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],o;return t?t.call(i):(i=typeof Im=="function"?Im(i):i[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(c){o[c]=i[c]&&function(f){return new Promise(function(g,y){f=i[c](f),r(g,y,f.done,f.value)})}}function r(c,f,g,y){Promise.resolve(y).then(function(m){c({value:m,done:g})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rT(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const o=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:mg(o)}function mg(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function uT(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Mm(i){if(i===void 0||i.length===0)return[];const t=[],o=i.length;let a=0;for(;a<o;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let c=!0;for(;a<o&&i[a].role==="model";)r.push(i[a]),c&&!mg(i[a])&&(c=!1),a++;c?t.push(...r):t.pop()}return t}class cT{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new dT(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class dT{constructor(t,o,a,r={},c=[]){this.apiClient=t,this.modelsModule=o,this.model=a,this.config=r,this.history=c,this.sendPromise=Promise.resolve(),uT(c)}async sendMessage(t){var o;await this.sendPromise;const a=mt(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var c,f,g;const y=await r,m=(f=(c=y.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content,v=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let E=[];v!=null&&(E=(g=v.slice(S))!==null&&g!==void 0?g:[]);const _=m?[m]:[];this.recordHistory(a,_,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var o;await this.sendPromise;const a=mt(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const c=await r;return this.processStreamResponse(c,a)}getHistory(t=!1){const o=t?Mm(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){return nn(this,arguments,function*(){var r,c,f,g,y,m;const v=[];try{for(var S=!0,E=on(t),_;_=yield xe(E.next()),r=_.done,!r;S=!0){g=_.value,S=!1;const w=g;if(rT(w)){const D=(m=(y=w.candidates)===null||y===void 0?void 0:y[0])===null||m===void 0?void 0:m.content;D!==void 0&&v.push(D)}yield yield xe(w)}}catch(w){c={error:w}}finally{try{!S&&!r&&(f=E.return)&&(yield xe(f.call(E)))}finally{if(c)throw c.error}}this.recordHistory(o,v)})}recordHistory(t,o,a){let r=[];o.length>0&&o.every(c=>c.role!==void 0)?r=o:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Mm(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cl extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Cl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fT(i){const t={},o=u(i,["file"]);return o!=null&&d(t,["file"],o),t}function pT(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&d(t,["sdkHttpResponse"],o),t}function hT(i){const t={},o=u(i,["name"]);return o!=null&&d(t,["_url","file"],rg(o)),t}function mT(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&d(t,["sdkHttpResponse"],o),t}function gT(i){const t={},o=u(i,["name"]);return o!=null&&d(t,["_url","file"],rg(o)),t}function vT(i){const t={},o=u(i,["uris"]);return o!=null&&d(t,["uris"],o),t}function yT(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&d(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&d(t,["_query","pageToken"],r),o}function xT(i){const t={},o=u(i,["config"]);return o!=null&&yT(o,t),t}function ST(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&d(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>f)),d(t,["files"],c)}return t}function TT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const a=u(i,["files"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),d(t,["files"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ET extends Dn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Ii(Mn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var o,a;let r,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=xT(t);return c=ue("files",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=ST(y),v=new bx;return Object.assign(v,m),v})}}async createInternal(t){var o,a;let r,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=fT(t);return c=ue("upload/v1beta/files",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=pT(y),v=new _x;return Object.assign(v,m),v})}}async get(t){var o,a;let r,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=gT(t);return c=ue("files/{file}",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=hT(t);return c=ue("files/{file}",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=mT(y),v=new Cx;return Object.assign(v,m),v})}}async registerFilesInternal(t){var o,a;let r,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=vT(t);return c=ue("files:register",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=TT(y),v=new Ax;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ja(i){const t={},o=u(i,["data"]);if(o!=null&&d(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function bT(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>HT(c))),d(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&d(t,["role"],a),t}function _T(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&d(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function CT(i){const t={},o=u(i,["id"]);o!=null&&d(t,["id"],o);const a=u(i,["args"]);a!=null&&d(t,["args"],a);const r=u(i,["name"]);if(r!=null&&d(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function AT(i){const t={},o=u(i,["description"]);o!=null&&d(t,["description"],o);const a=u(i,["name"]);a!=null&&d(t,["name"],a);const r=u(i,["parameters"]);r!=null&&d(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&d(t,["parametersJsonSchema"],c);const f=u(i,["response"]);f!=null&&d(t,["response"],f);const g=u(i,["responseJsonSchema"]);if(g!=null&&d(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function wT(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&d(t,["modelConfig"],o);const a=u(i,["responseJsonSchema"]);a!=null&&d(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&d(t,["audioTimestamp"],r);const c=u(i,["candidateCount"]);c!=null&&d(t,["candidateCount"],c);const f=u(i,["enableAffectiveDialog"]);f!=null&&d(t,["enableAffectiveDialog"],f);const g=u(i,["frequencyPenalty"]);g!=null&&d(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&d(t,["logprobs"],y);const m=u(i,["maxOutputTokens"]);m!=null&&d(t,["maxOutputTokens"],m);const v=u(i,["mediaResolution"]);v!=null&&d(t,["mediaResolution"],v);const S=u(i,["presencePenalty"]);S!=null&&d(t,["presencePenalty"],S);const E=u(i,["responseLogprobs"]);E!=null&&d(t,["responseLogprobs"],E);const _=u(i,["responseMimeType"]);_!=null&&d(t,["responseMimeType"],_);const w=u(i,["responseModalities"]);w!=null&&d(t,["responseModalities"],w);const D=u(i,["responseSchema"]);D!=null&&d(t,["responseSchema"],D);const N=u(i,["routingConfig"]);N!=null&&d(t,["routingConfig"],N);const B=u(i,["seed"]);B!=null&&d(t,["seed"],B);const F=u(i,["speechConfig"]);F!=null&&d(t,["speechConfig"],F);const P=u(i,["stopSequences"]);P!=null&&d(t,["stopSequences"],P);const X=u(i,["temperature"]);X!=null&&d(t,["temperature"],X);const j=u(i,["thinkingConfig"]);j!=null&&d(t,["thinkingConfig"],j);const q=u(i,["topK"]);q!=null&&d(t,["topK"],q);const Z=u(i,["topP"]);if(Z!=null&&d(t,["topP"],Z),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function NT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&d(t,["enableWidget"],o),t}function RT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&d(t,["timeRangeFilter"],o),t}function IT(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&d(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&d(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&d(t,["setup","generationConfig","temperature"],c);const f=u(i,["topP"]);t!==void 0&&f!=null&&d(t,["setup","generationConfig","topP"],f);const g=u(i,["topK"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&d(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&d(t,["setup","generationConfig","mediaResolution"],m);const v=u(i,["seed"]);t!==void 0&&v!=null&&d(t,["setup","generationConfig","seed"],v);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","speechConfig"],lc(S));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&d(t,["setup","generationConfig","thinkingConfig"],E);const _=u(i,["enableAffectiveDialog"]);t!==void 0&&_!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],_);const w=u(i,["systemInstruction"]);t!==void 0&&w!=null&&d(t,["setup","systemInstruction"],bT(mt(w)));const D=u(i,["tools"]);if(t!==void 0&&D!=null){let q=Ao(D);Array.isArray(q)&&(q=q.map(Z=>zT(Co(Z)))),d(t,["setup","tools"],q)}const N=u(i,["sessionResumption"]);t!==void 0&&N!=null&&d(t,["setup","sessionResumption"],VT(N));const B=u(i,["inputAudioTranscription"]);t!==void 0&&B!=null&&d(t,["setup","inputAudioTranscription"],B);const F=u(i,["outputAudioTranscription"]);t!==void 0&&F!=null&&d(t,["setup","outputAudioTranscription"],F);const P=u(i,["realtimeInputConfig"]);t!==void 0&&P!=null&&d(t,["setup","realtimeInputConfig"],P);const X=u(i,["contextWindowCompression"]);t!==void 0&&X!=null&&d(t,["setup","contextWindowCompression"],X);const j=u(i,["proactivity"]);if(t!==void 0&&j!=null&&d(t,["setup","proactivity"],j),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function MT(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&d(t,["setup","generationConfig"],wT(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&d(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&d(t,["setup","generationConfig","temperature"],c);const f=u(i,["topP"]);t!==void 0&&f!=null&&d(t,["setup","generationConfig","topP"],f);const g=u(i,["topK"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&d(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&d(t,["setup","generationConfig","mediaResolution"],m);const v=u(i,["seed"]);t!==void 0&&v!=null&&d(t,["setup","generationConfig","seed"],v);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","speechConfig"],lc(S));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&d(t,["setup","generationConfig","thinkingConfig"],E);const _=u(i,["enableAffectiveDialog"]);t!==void 0&&_!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],_);const w=u(i,["systemInstruction"]);t!==void 0&&w!=null&&d(t,["setup","systemInstruction"],mt(w));const D=u(i,["tools"]);if(t!==void 0&&D!=null){let Z=Ao(D);Array.isArray(Z)&&(Z=Z.map(ce=>qT(Co(ce)))),d(t,["setup","tools"],Z)}const N=u(i,["sessionResumption"]);t!==void 0&&N!=null&&d(t,["setup","sessionResumption"],N);const B=u(i,["inputAudioTranscription"]);t!==void 0&&B!=null&&d(t,["setup","inputAudioTranscription"],B);const F=u(i,["outputAudioTranscription"]);t!==void 0&&F!=null&&d(t,["setup","outputAudioTranscription"],F);const P=u(i,["realtimeInputConfig"]);t!==void 0&&P!=null&&d(t,["setup","realtimeInputConfig"],P);const X=u(i,["contextWindowCompression"]);t!==void 0&&X!=null&&d(t,["setup","contextWindowCompression"],X);const j=u(i,["proactivity"]);t!==void 0&&j!=null&&d(t,["setup","proactivity"],j);const q=u(i,["explicitVadSignal"]);return t!==void 0&&q!=null&&d(t,["setup","explicitVadSignal"],q),o}function DT(i,t){const o={},a=u(t,["model"]);a!=null&&d(o,["setup","model"],De(i,a));const r=u(t,["config"]);return r!=null&&d(o,["config"],IT(r,o)),o}function UT(i,t){const o={},a=u(t,["model"]);a!=null&&d(o,["setup","model"],De(i,a));const r=u(t,["config"]);return r!=null&&d(o,["config"],MT(r,o)),o}function kT(i){const t={},o=u(i,["musicGenerationConfig"]);return o!=null&&d(t,["musicGenerationConfig"],o),t}function LT(i){const t={},o=u(i,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),d(t,["weightedPrompts"],a)}return t}function GT(i){const t={},o=u(i,["media"]);if(o!=null){let m=ig(o);Array.isArray(m)&&(m=m.map(v=>ja(v))),d(t,["mediaChunks"],m)}const a=u(i,["audio"]);a!=null&&d(t,["audio"],ja(lg(a)));const r=u(i,["audioStreamEnd"]);r!=null&&d(t,["audioStreamEnd"],r);const c=u(i,["video"]);c!=null&&d(t,["video"],ja(og(c)));const f=u(i,["text"]);f!=null&&d(t,["text"],f);const g=u(i,["activityStart"]);g!=null&&d(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&d(t,["activityEnd"],y),t}function PT(i){const t={},o=u(i,["media"]);if(o!=null){let m=ig(o);Array.isArray(m)&&(m=m.map(v=>v)),d(t,["mediaChunks"],m)}const a=u(i,["audio"]);a!=null&&d(t,["audio"],lg(a));const r=u(i,["audioStreamEnd"]);r!=null&&d(t,["audioStreamEnd"],r);const c=u(i,["video"]);c!=null&&d(t,["video"],og(c));const f=u(i,["text"]);f!=null&&d(t,["text"],f);const g=u(i,["activityStart"]);g!=null&&d(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&d(t,["activityEnd"],y),t}function OT(i){const t={},o=u(i,["setupComplete"]);o!=null&&d(t,["setupComplete"],o);const a=u(i,["serverContent"]);a!=null&&d(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&d(t,["toolCall"],r);const c=u(i,["toolCallCancellation"]);c!=null&&d(t,["toolCallCancellation"],c);const f=u(i,["usageMetadata"]);f!=null&&d(t,["usageMetadata"],BT(f));const g=u(i,["goAway"]);g!=null&&d(t,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&d(t,["sessionResumptionUpdate"],y);const m=u(i,["voiceActivityDetectionSignal"]);m!=null&&d(t,["voiceActivityDetectionSignal"],m);const v=u(i,["voiceActivity"]);return v!=null&&d(t,["voiceActivity"],FT(v)),t}function HT(i){const t={},o=u(i,["mediaResolution"]);o!=null&&d(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&d(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&d(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&d(t,["fileData"],_T(c));const f=u(i,["functionCall"]);f!=null&&d(t,["functionCall"],CT(f));const g=u(i,["functionResponse"]);g!=null&&d(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&d(t,["inlineData"],ja(y));const m=u(i,["text"]);m!=null&&d(t,["text"],m);const v=u(i,["thought"]);v!=null&&d(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&d(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&d(t,["videoMetadata"],E),t}function VT(i){const t={},o=u(i,["handle"]);if(o!=null&&d(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function zT(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&d(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&d(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&d(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(S=>S)),d(t,["functionDeclarations"],v)}const f=u(i,["googleMaps"]);f!=null&&d(t,["googleMaps"],NT(f));const g=u(i,["googleSearch"]);g!=null&&d(t,["googleSearch"],RT(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&d(t,["googleSearchRetrieval"],y);const m=u(i,["urlContext"]);return m!=null&&d(t,["urlContext"],m),t}function qT(i){const t={},o=u(i,["retrieval"]);o!=null&&d(t,["retrieval"],o);const a=u(i,["computerUse"]);if(a!=null&&d(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&d(t,["codeExecution"],r);const c=u(i,["enterpriseWebSearch"]);c!=null&&d(t,["enterpriseWebSearch"],c);const f=u(i,["functionDeclarations"]);if(f!=null){let S=f;Array.isArray(S)&&(S=S.map(E=>AT(E))),d(t,["functionDeclarations"],S)}const g=u(i,["googleMaps"]);g!=null&&d(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&d(t,["googleSearch"],y);const m=u(i,["googleSearchRetrieval"]);m!=null&&d(t,["googleSearchRetrieval"],m);const v=u(i,["urlContext"]);return v!=null&&d(t,["urlContext"],v),t}function BT(i){const t={},o=u(i,["promptTokenCount"]);o!=null&&d(t,["promptTokenCount"],o);const a=u(i,["cachedContentTokenCount"]);a!=null&&d(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&d(t,["responseTokenCount"],r);const c=u(i,["toolUsePromptTokenCount"]);c!=null&&d(t,["toolUsePromptTokenCount"],c);const f=u(i,["thoughtsTokenCount"]);f!=null&&d(t,["thoughtsTokenCount"],f);const g=u(i,["totalTokenCount"]);g!=null&&d(t,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(w=>w)),d(t,["promptTokensDetails"],_)}const m=u(i,["cacheTokensDetails"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(w=>w)),d(t,["cacheTokensDetails"],_)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(w=>w)),d(t,["responseTokensDetails"],_)}const S=u(i,["toolUsePromptTokensDetails"]);if(S!=null){let _=S;Array.isArray(_)&&(_=_.map(w=>w)),d(t,["toolUsePromptTokensDetails"],_)}const E=u(i,["trafficType"]);return E!=null&&d(t,["trafficType"],E),t}function FT(i){const t={},o=u(i,["type"]);return o!=null&&d(t,["voiceActivityType"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YT(i,t){const o={},a=u(i,["data"]);if(a!=null&&d(o,["data"],a),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(i,["mimeType"]);return r!=null&&d(o,["mimeType"],r),o}function JT(i,t){const o={},a=u(i,["content"]);a!=null&&d(o,["content"],a);const r=u(i,["citationMetadata"]);r!=null&&d(o,["citationMetadata"],KT(r));const c=u(i,["tokenCount"]);c!=null&&d(o,["tokenCount"],c);const f=u(i,["finishReason"]);f!=null&&d(o,["finishReason"],f);const g=u(i,["avgLogprobs"]);g!=null&&d(o,["avgLogprobs"],g);const y=u(i,["groundingMetadata"]);y!=null&&d(o,["groundingMetadata"],y);const m=u(i,["index"]);m!=null&&d(o,["index"],m);const v=u(i,["logprobsResult"]);v!=null&&d(o,["logprobsResult"],v);const S=u(i,["safetyRatings"]);if(S!=null){let _=S;Array.isArray(_)&&(_=_.map(w=>w)),d(o,["safetyRatings"],_)}const E=u(i,["urlContextMetadata"]);return E!=null&&d(o,["urlContextMetadata"],E),o}function KT(i,t){const o={},a=u(i,["citationSources"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),d(o,["citations"],r)}return o}function XT(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],De(i,r));const c=u(t,["contents"]);if(c!=null){let f=Qt(c);Array.isArray(f)&&(f=f.map(g=>g)),d(a,["contents"],f)}return a}function QT(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["tokensInfo"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>f)),d(o,["tokensInfo"],c)}return o}function $T(i,t){const o={},a=u(i,["values"]);a!=null&&d(o,["values"],a);const r=u(i,["statistics"]);return r!=null&&d(o,["statistics"],jT(r)),o}function jT(i,t){const o={},a=u(i,["truncated"]);a!=null&&d(o,["truncated"],a);const r=u(i,["token_count"]);return r!=null&&d(o,["tokenCount"],r),o}function as(i,t){const o={},a=u(i,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>ab(f))),d(o,["parts"],c)}const r=u(i,["role"]);return r!=null&&d(o,["role"],r),o}function ZT(i,t){const o={},a=u(i,["controlType"]);a!=null&&d(o,["controlType"],a);const r=u(i,["enableControlImageComputation"]);return r!=null&&d(o,["computeControl"],r),o}function WT(i,t){const o={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return o}function eE(i,t,o){const a={},r=u(i,["systemInstruction"]);t!==void 0&&r!=null&&d(t,["systemInstruction"],mt(r));const c=u(i,["tools"]);if(t!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>xg(y))),d(t,["tools"],g)}const f=u(i,["generationConfig"]);return t!==void 0&&f!=null&&d(t,["generationConfig"],YE(f)),a}function tE(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],De(i,r));const c=u(t,["contents"]);if(c!=null){let g=Qt(c);Array.isArray(g)&&(g=g.map(y=>as(y))),d(a,["contents"],g)}const f=u(t,["config"]);return f!=null&&WT(f),a}function nE(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],De(i,r));const c=u(t,["contents"]);if(c!=null){let g=Qt(c);Array.isArray(g)&&(g=g.map(y=>y)),d(a,["contents"],g)}const f=u(t,["config"]);return f!=null&&eE(f,a),a}function iE(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["totalTokens"]);r!=null&&d(o,["totalTokens"],r);const c=u(i,["cachedContentTokenCount"]);return c!=null&&d(o,["cachedContentTokenCount"],c),o}function oE(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["totalTokens"]);return r!=null&&d(o,["totalTokens"],r),o}function lE(i,t,o){const a={},r=u(t,["model"]);return r!=null&&d(a,["_url","name"],De(i,r)),a}function aE(i,t,o){const a={},r=u(t,["model"]);return r!=null&&d(a,["_url","name"],De(i,r)),a}function sE(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&d(o,["sdkHttpResponse"],a),o}function rE(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&d(o,["sdkHttpResponse"],a),o}function uE(i,t,o){const a={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&d(t,["parameters","storageUri"],r);const c=u(i,["negativePrompt"]);t!==void 0&&c!=null&&d(t,["parameters","negativePrompt"],c);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&d(t,["parameters","sampleCount"],f);const g=u(i,["aspectRatio"]);t!==void 0&&g!=null&&d(t,["parameters","aspectRatio"],g);const y=u(i,["guidanceScale"]);t!==void 0&&y!=null&&d(t,["parameters","guidanceScale"],y);const m=u(i,["seed"]);t!==void 0&&m!=null&&d(t,["parameters","seed"],m);const v=u(i,["safetyFilterLevel"]);t!==void 0&&v!=null&&d(t,["parameters","safetySetting"],v);const S=u(i,["personGeneration"]);t!==void 0&&S!=null&&d(t,["parameters","personGeneration"],S);const E=u(i,["includeSafetyAttributes"]);t!==void 0&&E!=null&&d(t,["parameters","includeSafetyAttributes"],E);const _=u(i,["includeRaiReason"]);t!==void 0&&_!=null&&d(t,["parameters","includeRaiReason"],_);const w=u(i,["language"]);t!==void 0&&w!=null&&d(t,["parameters","language"],w);const D=u(i,["outputMimeType"]);t!==void 0&&D!=null&&d(t,["parameters","outputOptions","mimeType"],D);const N=u(i,["outputCompressionQuality"]);t!==void 0&&N!=null&&d(t,["parameters","outputOptions","compressionQuality"],N);const B=u(i,["addWatermark"]);t!==void 0&&B!=null&&d(t,["parameters","addWatermark"],B);const F=u(i,["labels"]);t!==void 0&&F!=null&&d(t,["labels"],F);const P=u(i,["editMode"]);t!==void 0&&P!=null&&d(t,["parameters","editMode"],P);const X=u(i,["baseSteps"]);return t!==void 0&&X!=null&&d(t,["parameters","editConfig","baseSteps"],X),a}function cE(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],De(i,r));const c=u(t,["prompt"]);c!=null&&d(a,["instances[0]","prompt"],c);const f=u(t,["referenceImages"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(m=>fb(m))),d(a,["instances[0]","referenceImages"],y)}const g=u(t,["config"]);return g!=null&&uE(g,a),a}function dE(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>ss(f))),d(o,["generatedImages"],c)}return o}function fE(i,t,o){const a={},r=u(i,["taskType"]);t!==void 0&&r!=null&&d(t,["requests[]","taskType"],r);const c=u(i,["title"]);t!==void 0&&c!=null&&d(t,["requests[]","title"],c);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&d(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return a}function pE(i,t,o){const a={},r=u(i,["taskType"]);t!==void 0&&r!=null&&d(t,["instances[]","task_type"],r);const c=u(i,["title"]);t!==void 0&&c!=null&&d(t,["instances[]","title"],c);const f=u(i,["outputDimensionality"]);t!==void 0&&f!=null&&d(t,["parameters","outputDimensionality"],f);const g=u(i,["mimeType"]);t!==void 0&&g!=null&&d(t,["instances[]","mimeType"],g);const y=u(i,["autoTruncate"]);return t!==void 0&&y!=null&&d(t,["parameters","autoTruncate"],y),a}function hE(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],De(i,r));const c=u(t,["contents"]);if(c!=null){let y=nc(i,c);Array.isArray(y)&&(y=y.map(m=>m)),d(a,["requests[]","content"],y)}const f=u(t,["config"]);f!=null&&fE(f,a);const g=u(t,["model"]);return g!==void 0&&d(a,["requests[]","model"],De(i,g)),a}function mE(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],De(i,r));const c=u(t,["contents"]);if(c!=null){let g=nc(i,c);Array.isArray(g)&&(g=g.map(y=>y)),d(a,["instances[]","content"],g)}const f=u(t,["config"]);return f!=null&&pE(f,a),a}function gE(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["embeddings"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(g=>g)),d(o,["embeddings"],f)}const c=u(i,["metadata"]);return c!=null&&d(o,["metadata"],c),o}function vE(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["predictions[]","embeddings"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(g=>$T(g))),d(o,["embeddings"],f)}const c=u(i,["metadata"]);return c!=null&&d(o,["metadata"],c),o}function yE(i,t){const o={},a=u(i,["endpoint"]);a!=null&&d(o,["name"],a);const r=u(i,["deployedModelId"]);return r!=null&&d(o,["deployedModelId"],r),o}function xE(i,t){const o={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["fileUri"]);a!=null&&d(o,["fileUri"],a);const r=u(i,["mimeType"]);return r!=null&&d(o,["mimeType"],r),o}function SE(i,t){const o={},a=u(i,["id"]);a!=null&&d(o,["id"],a);const r=u(i,["args"]);r!=null&&d(o,["args"],r);const c=u(i,["name"]);if(c!=null&&d(o,["name"],c),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return o}function TE(i,t){const o={},a=u(i,["allowedFunctionNames"]);a!=null&&d(o,["allowedFunctionNames"],a);const r=u(i,["mode"]);if(r!=null&&d(o,["mode"],r),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return o}function EE(i,t){const o={},a=u(i,["description"]);a!=null&&d(o,["description"],a);const r=u(i,["name"]);r!=null&&d(o,["name"],r);const c=u(i,["parameters"]);c!=null&&d(o,["parameters"],c);const f=u(i,["parametersJsonSchema"]);f!=null&&d(o,["parametersJsonSchema"],f);const g=u(i,["response"]);g!=null&&d(o,["response"],g);const y=u(i,["responseJsonSchema"]);if(y!=null&&d(o,["responseJsonSchema"],y),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return o}function bE(i,t,o,a){const r={},c=u(t,["systemInstruction"]);o!==void 0&&c!=null&&d(o,["systemInstruction"],as(mt(c)));const f=u(t,["temperature"]);f!=null&&d(r,["temperature"],f);const g=u(t,["topP"]);g!=null&&d(r,["topP"],g);const y=u(t,["topK"]);y!=null&&d(r,["topK"],y);const m=u(t,["candidateCount"]);m!=null&&d(r,["candidateCount"],m);const v=u(t,["maxOutputTokens"]);v!=null&&d(r,["maxOutputTokens"],v);const S=u(t,["stopSequences"]);S!=null&&d(r,["stopSequences"],S);const E=u(t,["responseLogprobs"]);E!=null&&d(r,["responseLogprobs"],E);const _=u(t,["logprobs"]);_!=null&&d(r,["logprobs"],_);const w=u(t,["presencePenalty"]);w!=null&&d(r,["presencePenalty"],w);const D=u(t,["frequencyPenalty"]);D!=null&&d(r,["frequencyPenalty"],D);const N=u(t,["seed"]);N!=null&&d(r,["seed"],N);const B=u(t,["responseMimeType"]);B!=null&&d(r,["responseMimeType"],B);const F=u(t,["responseSchema"]);F!=null&&d(r,["responseSchema"],ic(F));const P=u(t,["responseJsonSchema"]);if(P!=null&&d(r,["responseJsonSchema"],P),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const X=u(t,["safetySettings"]);if(o!==void 0&&X!=null){let te=X;Array.isArray(te)&&(te=te.map(me=>pb(me))),d(o,["safetySettings"],te)}const j=u(t,["tools"]);if(o!==void 0&&j!=null){let te=Ao(j);Array.isArray(te)&&(te=te.map(me=>Sb(Co(me)))),d(o,["tools"],te)}const q=u(t,["toolConfig"]);if(o!==void 0&&q!=null&&d(o,["toolConfig"],xb(q)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Z=u(t,["cachedContent"]);o!==void 0&&Z!=null&&d(o,["cachedContent"],Un(i,Z));const ce=u(t,["responseModalities"]);ce!=null&&d(r,["responseModalities"],ce);const se=u(t,["mediaResolution"]);se!=null&&d(r,["mediaResolution"],se);const ae=u(t,["speechConfig"]);if(ae!=null&&d(r,["speechConfig"],oc(ae)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const fe=u(t,["thinkingConfig"]);fe!=null&&d(r,["thinkingConfig"],fe);const pe=u(t,["imageConfig"]);pe!=null&&d(r,["imageConfig"],$E(pe));const ee=u(t,["enableEnhancedCivicAnswers"]);if(ee!=null&&d(r,["enableEnhancedCivicAnswers"],ee),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function _E(i,t,o,a){const r={},c=u(t,["systemInstruction"]);o!==void 0&&c!=null&&d(o,["systemInstruction"],mt(c));const f=u(t,["temperature"]);f!=null&&d(r,["temperature"],f);const g=u(t,["topP"]);g!=null&&d(r,["topP"],g);const y=u(t,["topK"]);y!=null&&d(r,["topK"],y);const m=u(t,["candidateCount"]);m!=null&&d(r,["candidateCount"],m);const v=u(t,["maxOutputTokens"]);v!=null&&d(r,["maxOutputTokens"],v);const S=u(t,["stopSequences"]);S!=null&&d(r,["stopSequences"],S);const E=u(t,["responseLogprobs"]);E!=null&&d(r,["responseLogprobs"],E);const _=u(t,["logprobs"]);_!=null&&d(r,["logprobs"],_);const w=u(t,["presencePenalty"]);w!=null&&d(r,["presencePenalty"],w);const D=u(t,["frequencyPenalty"]);D!=null&&d(r,["frequencyPenalty"],D);const N=u(t,["seed"]);N!=null&&d(r,["seed"],N);const B=u(t,["responseMimeType"]);B!=null&&d(r,["responseMimeType"],B);const F=u(t,["responseSchema"]);F!=null&&d(r,["responseSchema"],ic(F));const P=u(t,["responseJsonSchema"]);P!=null&&d(r,["responseJsonSchema"],P);const X=u(t,["routingConfig"]);X!=null&&d(r,["routingConfig"],X);const j=u(t,["modelSelectionConfig"]);j!=null&&d(r,["modelConfig"],j);const q=u(t,["safetySettings"]);if(o!==void 0&&q!=null){let oe=q;Array.isArray(oe)&&(oe=oe.map(ne=>ne)),d(o,["safetySettings"],oe)}const Z=u(t,["tools"]);if(o!==void 0&&Z!=null){let oe=Ao(Z);Array.isArray(oe)&&(oe=oe.map(ne=>xg(Co(ne)))),d(o,["tools"],oe)}const ce=u(t,["toolConfig"]);o!==void 0&&ce!=null&&d(o,["toolConfig"],ce);const se=u(t,["labels"]);o!==void 0&&se!=null&&d(o,["labels"],se);const ae=u(t,["cachedContent"]);o!==void 0&&ae!=null&&d(o,["cachedContent"],Un(i,ae));const fe=u(t,["responseModalities"]);fe!=null&&d(r,["responseModalities"],fe);const pe=u(t,["mediaResolution"]);pe!=null&&d(r,["mediaResolution"],pe);const ee=u(t,["speechConfig"]);ee!=null&&d(r,["speechConfig"],oc(ee));const te=u(t,["audioTimestamp"]);te!=null&&d(r,["audioTimestamp"],te);const me=u(t,["thinkingConfig"]);me!=null&&d(r,["thinkingConfig"],me);const U=u(t,["imageConfig"]);if(U!=null&&d(r,["imageConfig"],jE(U)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const G=u(t,["modelArmorConfig"]);return o!==void 0&&G!=null&&d(o,["modelArmorConfig"],G),r}function Dm(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],De(i,r));const c=u(t,["contents"]);if(c!=null){let g=Qt(c);Array.isArray(g)&&(g=g.map(y=>as(y))),d(a,["contents"],g)}const f=u(t,["config"]);return f!=null&&d(a,["generationConfig"],bE(i,f,a)),a}function Um(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],De(i,r));const c=u(t,["contents"]);if(c!=null){let g=Qt(c);Array.isArray(g)&&(g=g.map(y=>y)),d(a,["contents"],g)}const f=u(t,["config"]);return f!=null&&d(a,["generationConfig"],_E(i,f,a)),a}function km(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["candidates"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(v=>JT(v))),d(o,["candidates"],m)}const c=u(i,["modelVersion"]);c!=null&&d(o,["modelVersion"],c);const f=u(i,["promptFeedback"]);f!=null&&d(o,["promptFeedback"],f);const g=u(i,["responseId"]);g!=null&&d(o,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&d(o,["usageMetadata"],y),o}function Lm(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["candidates"]);if(r!=null){let v=r;Array.isArray(v)&&(v=v.map(S=>S)),d(o,["candidates"],v)}const c=u(i,["createTime"]);c!=null&&d(o,["createTime"],c);const f=u(i,["modelVersion"]);f!=null&&d(o,["modelVersion"],f);const g=u(i,["promptFeedback"]);g!=null&&d(o,["promptFeedback"],g);const y=u(i,["responseId"]);y!=null&&d(o,["responseId"],y);const m=u(i,["usageMetadata"]);return m!=null&&d(o,["usageMetadata"],m),o}function CE(i,t,o){const a={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=u(i,["numberOfImages"]);t!==void 0&&r!=null&&d(t,["parameters","sampleCount"],r);const c=u(i,["aspectRatio"]);t!==void 0&&c!=null&&d(t,["parameters","aspectRatio"],c);const f=u(i,["guidanceScale"]);if(t!==void 0&&f!=null&&d(t,["parameters","guidanceScale"],f),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&d(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&d(t,["parameters","personGeneration"],y);const m=u(i,["includeSafetyAttributes"]);t!==void 0&&m!=null&&d(t,["parameters","includeSafetyAttributes"],m);const v=u(i,["includeRaiReason"]);t!==void 0&&v!=null&&d(t,["parameters","includeRaiReason"],v);const S=u(i,["language"]);t!==void 0&&S!=null&&d(t,["parameters","language"],S);const E=u(i,["outputMimeType"]);t!==void 0&&E!=null&&d(t,["parameters","outputOptions","mimeType"],E);const _=u(i,["outputCompressionQuality"]);if(t!==void 0&&_!=null&&d(t,["parameters","outputOptions","compressionQuality"],_),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=u(i,["imageSize"]);if(t!==void 0&&w!=null&&d(t,["parameters","sampleImageSize"],w),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return a}function AE(i,t,o){const a={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&d(t,["parameters","storageUri"],r);const c=u(i,["negativePrompt"]);t!==void 0&&c!=null&&d(t,["parameters","negativePrompt"],c);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&d(t,["parameters","sampleCount"],f);const g=u(i,["aspectRatio"]);t!==void 0&&g!=null&&d(t,["parameters","aspectRatio"],g);const y=u(i,["guidanceScale"]);t!==void 0&&y!=null&&d(t,["parameters","guidanceScale"],y);const m=u(i,["seed"]);t!==void 0&&m!=null&&d(t,["parameters","seed"],m);const v=u(i,["safetyFilterLevel"]);t!==void 0&&v!=null&&d(t,["parameters","safetySetting"],v);const S=u(i,["personGeneration"]);t!==void 0&&S!=null&&d(t,["parameters","personGeneration"],S);const E=u(i,["includeSafetyAttributes"]);t!==void 0&&E!=null&&d(t,["parameters","includeSafetyAttributes"],E);const _=u(i,["includeRaiReason"]);t!==void 0&&_!=null&&d(t,["parameters","includeRaiReason"],_);const w=u(i,["language"]);t!==void 0&&w!=null&&d(t,["parameters","language"],w);const D=u(i,["outputMimeType"]);t!==void 0&&D!=null&&d(t,["parameters","outputOptions","mimeType"],D);const N=u(i,["outputCompressionQuality"]);t!==void 0&&N!=null&&d(t,["parameters","outputOptions","compressionQuality"],N);const B=u(i,["addWatermark"]);t!==void 0&&B!=null&&d(t,["parameters","addWatermark"],B);const F=u(i,["labels"]);t!==void 0&&F!=null&&d(t,["labels"],F);const P=u(i,["imageSize"]);t!==void 0&&P!=null&&d(t,["parameters","sampleImageSize"],P);const X=u(i,["enhancePrompt"]);return t!==void 0&&X!=null&&d(t,["parameters","enhancePrompt"],X),a}function wE(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],De(i,r));const c=u(t,["prompt"]);c!=null&&d(a,["instances[0]","prompt"],c);const f=u(t,["config"]);return f!=null&&CE(f,a),a}function NE(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],De(i,r));const c=u(t,["prompt"]);c!=null&&d(a,["instances[0]","prompt"],c);const f=u(t,["config"]);return f!=null&&AE(f,a),a}function RE(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(g=>zE(g))),d(o,["generatedImages"],f)}const c=u(i,["positivePromptSafetyAttributes"]);return c!=null&&d(o,["positivePromptSafetyAttributes"],vg(c)),o}function IE(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(g=>ss(g))),d(o,["generatedImages"],f)}const c=u(i,["positivePromptSafetyAttributes"]);return c!=null&&d(o,["positivePromptSafetyAttributes"],yg(c)),o}function ME(i,t,o){const a={},r=u(i,["numberOfVideos"]);if(t!==void 0&&r!=null&&d(t,["parameters","sampleCount"],r),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=u(i,["durationSeconds"]);if(t!==void 0&&c!=null&&d(t,["parameters","durationSeconds"],c),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(i,["aspectRatio"]);t!==void 0&&f!=null&&d(t,["parameters","aspectRatio"],f);const g=u(i,["resolution"]);t!==void 0&&g!=null&&d(t,["parameters","resolution"],g);const y=u(i,["personGeneration"]);if(t!==void 0&&y!=null&&d(t,["parameters","personGeneration"],y),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=u(i,["negativePrompt"]);t!==void 0&&m!=null&&d(t,["parameters","negativePrompt"],m);const v=u(i,["enhancePrompt"]);if(t!==void 0&&v!=null&&d(t,["parameters","enhancePrompt"],v),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const S=u(i,["lastFrame"]);t!==void 0&&S!=null&&d(t,["instances[0]","lastFrame"],rs(S));const E=u(i,["referenceImages"]);if(t!==void 0&&E!=null){let _=E;Array.isArray(_)&&(_=_.map(w=>Ub(w))),d(t,["instances[0]","referenceImages"],_)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return a}function DE(i,t,o){const a={},r=u(i,["numberOfVideos"]);t!==void 0&&r!=null&&d(t,["parameters","sampleCount"],r);const c=u(i,["outputGcsUri"]);t!==void 0&&c!=null&&d(t,["parameters","storageUri"],c);const f=u(i,["fps"]);t!==void 0&&f!=null&&d(t,["parameters","fps"],f);const g=u(i,["durationSeconds"]);t!==void 0&&g!=null&&d(t,["parameters","durationSeconds"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&d(t,["parameters","seed"],y);const m=u(i,["aspectRatio"]);t!==void 0&&m!=null&&d(t,["parameters","aspectRatio"],m);const v=u(i,["resolution"]);t!==void 0&&v!=null&&d(t,["parameters","resolution"],v);const S=u(i,["personGeneration"]);t!==void 0&&S!=null&&d(t,["parameters","personGeneration"],S);const E=u(i,["pubsubTopic"]);t!==void 0&&E!=null&&d(t,["parameters","pubsubTopic"],E);const _=u(i,["negativePrompt"]);t!==void 0&&_!=null&&d(t,["parameters","negativePrompt"],_);const w=u(i,["enhancePrompt"]);t!==void 0&&w!=null&&d(t,["parameters","enhancePrompt"],w);const D=u(i,["generateAudio"]);t!==void 0&&D!=null&&d(t,["parameters","generateAudio"],D);const N=u(i,["lastFrame"]);t!==void 0&&N!=null&&d(t,["instances[0]","lastFrame"],ln(N));const B=u(i,["referenceImages"]);if(t!==void 0&&B!=null){let X=B;Array.isArray(X)&&(X=X.map(j=>kb(j))),d(t,["instances[0]","referenceImages"],X)}const F=u(i,["mask"]);t!==void 0&&F!=null&&d(t,["instances[0]","mask"],Db(F));const P=u(i,["compressionQuality"]);return t!==void 0&&P!=null&&d(t,["parameters","compressionQuality"],P),a}function UE(i,t){const o={},a=u(i,["name"]);a!=null&&d(o,["name"],a);const r=u(i,["metadata"]);r!=null&&d(o,["metadata"],r);const c=u(i,["done"]);c!=null&&d(o,["done"],c);const f=u(i,["error"]);f!=null&&d(o,["error"],f);const g=u(i,["response","generateVideoResponse"]);return g!=null&&d(o,["response"],PE(g)),o}function kE(i,t){const o={},a=u(i,["name"]);a!=null&&d(o,["name"],a);const r=u(i,["metadata"]);r!=null&&d(o,["metadata"],r);const c=u(i,["done"]);c!=null&&d(o,["done"],c);const f=u(i,["error"]);f!=null&&d(o,["error"],f);const g=u(i,["response"]);return g!=null&&d(o,["response"],OE(g)),o}function LE(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],De(i,r));const c=u(t,["prompt"]);c!=null&&d(a,["instances[0]","prompt"],c);const f=u(t,["image"]);f!=null&&d(a,["instances[0]","image"],rs(f));const g=u(t,["video"]);g!=null&&d(a,["instances[0]","video"],Sg(g));const y=u(t,["source"]);y!=null&&HE(y,a);const m=u(t,["config"]);return m!=null&&ME(m,a),a}function GE(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],De(i,r));const c=u(t,["prompt"]);c!=null&&d(a,["instances[0]","prompt"],c);const f=u(t,["image"]);f!=null&&d(a,["instances[0]","image"],ln(f));const g=u(t,["video"]);g!=null&&d(a,["instances[0]","video"],Tg(g));const y=u(t,["source"]);y!=null&&VE(y,a);const m=u(t,["config"]);return m!=null&&DE(m,a),a}function PE(i,t){const o={},a=u(i,["generatedSamples"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(g=>BE(g))),d(o,["generatedVideos"],f)}const r=u(i,["raiMediaFilteredCount"]);r!=null&&d(o,["raiMediaFilteredCount"],r);const c=u(i,["raiMediaFilteredReasons"]);return c!=null&&d(o,["raiMediaFilteredReasons"],c),o}function OE(i,t){const o={},a=u(i,["videos"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(g=>FE(g))),d(o,["generatedVideos"],f)}const r=u(i,["raiMediaFilteredCount"]);r!=null&&d(o,["raiMediaFilteredCount"],r);const c=u(i,["raiMediaFilteredReasons"]);return c!=null&&d(o,["raiMediaFilteredReasons"],c),o}function HE(i,t,o){const a={},r=u(i,["prompt"]);t!==void 0&&r!=null&&d(t,["instances[0]","prompt"],r);const c=u(i,["image"]);t!==void 0&&c!=null&&d(t,["instances[0]","image"],rs(c));const f=u(i,["video"]);return t!==void 0&&f!=null&&d(t,["instances[0]","video"],Sg(f)),a}function VE(i,t,o){const a={},r=u(i,["prompt"]);t!==void 0&&r!=null&&d(t,["instances[0]","prompt"],r);const c=u(i,["image"]);t!==void 0&&c!=null&&d(t,["instances[0]","image"],ln(c));const f=u(i,["video"]);return t!==void 0&&f!=null&&d(t,["instances[0]","video"],Tg(f)),a}function zE(i,t){const o={},a=u(i,["_self"]);a!=null&&d(o,["image"],ZE(a));const r=u(i,["raiFilteredReason"]);r!=null&&d(o,["raiFilteredReason"],r);const c=u(i,["_self"]);return c!=null&&d(o,["safetyAttributes"],vg(c)),o}function ss(i,t){const o={},a=u(i,["_self"]);a!=null&&d(o,["image"],gg(a));const r=u(i,["raiFilteredReason"]);r!=null&&d(o,["raiFilteredReason"],r);const c=u(i,["_self"]);c!=null&&d(o,["safetyAttributes"],yg(c));const f=u(i,["prompt"]);return f!=null&&d(o,["enhancedPrompt"],f),o}function qE(i,t){const o={},a=u(i,["_self"]);a!=null&&d(o,["mask"],gg(a));const r=u(i,["labels"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>f)),d(o,["labels"],c)}return o}function BE(i,t){const o={},a=u(i,["video"]);return a!=null&&d(o,["video"],Ib(a)),o}function FE(i,t){const o={},a=u(i,["_self"]);return a!=null&&d(o,["video"],Mb(a)),o}function YE(i,t){const o={},a=u(i,["modelSelectionConfig"]);a!=null&&d(o,["modelConfig"],a);const r=u(i,["responseJsonSchema"]);r!=null&&d(o,["responseJsonSchema"],r);const c=u(i,["audioTimestamp"]);c!=null&&d(o,["audioTimestamp"],c);const f=u(i,["candidateCount"]);f!=null&&d(o,["candidateCount"],f);const g=u(i,["enableAffectiveDialog"]);g!=null&&d(o,["enableAffectiveDialog"],g);const y=u(i,["frequencyPenalty"]);y!=null&&d(o,["frequencyPenalty"],y);const m=u(i,["logprobs"]);m!=null&&d(o,["logprobs"],m);const v=u(i,["maxOutputTokens"]);v!=null&&d(o,["maxOutputTokens"],v);const S=u(i,["mediaResolution"]);S!=null&&d(o,["mediaResolution"],S);const E=u(i,["presencePenalty"]);E!=null&&d(o,["presencePenalty"],E);const _=u(i,["responseLogprobs"]);_!=null&&d(o,["responseLogprobs"],_);const w=u(i,["responseMimeType"]);w!=null&&d(o,["responseMimeType"],w);const D=u(i,["responseModalities"]);D!=null&&d(o,["responseModalities"],D);const N=u(i,["responseSchema"]);N!=null&&d(o,["responseSchema"],N);const B=u(i,["routingConfig"]);B!=null&&d(o,["routingConfig"],B);const F=u(i,["seed"]);F!=null&&d(o,["seed"],F);const P=u(i,["speechConfig"]);P!=null&&d(o,["speechConfig"],P);const X=u(i,["stopSequences"]);X!=null&&d(o,["stopSequences"],X);const j=u(i,["temperature"]);j!=null&&d(o,["temperature"],j);const q=u(i,["thinkingConfig"]);q!=null&&d(o,["thinkingConfig"],q);const Z=u(i,["topK"]);Z!=null&&d(o,["topK"],Z);const ce=u(i,["topP"]);if(ce!=null&&d(o,["topP"],ce),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function JE(i,t,o){const a={},r=u(t,["model"]);return r!=null&&d(a,["_url","name"],De(i,r)),a}function KE(i,t,o){const a={},r=u(t,["model"]);return r!=null&&d(a,["_url","name"],De(i,r)),a}function XE(i,t){const o={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const a=u(i,["enableWidget"]);return a!=null&&d(o,["enableWidget"],a),o}function QE(i,t){const o={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const a=u(i,["timeRangeFilter"]);return a!=null&&d(o,["timeRangeFilter"],a),o}function $E(i,t){const o={},a=u(i,["aspectRatio"]);a!=null&&d(o,["aspectRatio"],a);const r=u(i,["imageSize"]);if(r!=null&&d(o,["imageSize"],r),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return o}function jE(i,t){const o={},a=u(i,["aspectRatio"]);a!=null&&d(o,["aspectRatio"],a);const r=u(i,["imageSize"]);r!=null&&d(o,["imageSize"],r);const c=u(i,["personGeneration"]);c!=null&&d(o,["personGeneration"],c);const f=u(i,["outputMimeType"]);f!=null&&d(o,["imageOutputOptions","mimeType"],f);const g=u(i,["outputCompressionQuality"]);return g!=null&&d(o,["imageOutputOptions","compressionQuality"],g),o}function ZE(i,t){const o={},a=u(i,["bytesBase64Encoded"]);a!=null&&d(o,["imageBytes"],ui(a));const r=u(i,["mimeType"]);return r!=null&&d(o,["mimeType"],r),o}function gg(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&d(o,["gcsUri"],a);const r=u(i,["bytesBase64Encoded"]);r!=null&&d(o,["imageBytes"],ui(r));const c=u(i,["mimeType"]);return c!=null&&d(o,["mimeType"],c),o}function rs(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=u(i,["imageBytes"]);a!=null&&d(o,["bytesBase64Encoded"],ui(a));const r=u(i,["mimeType"]);return r!=null&&d(o,["mimeType"],r),o}function ln(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&d(o,["gcsUri"],a);const r=u(i,["imageBytes"]);r!=null&&d(o,["bytesBase64Encoded"],ui(r));const c=u(i,["mimeType"]);return c!=null&&d(o,["mimeType"],c),o}function WE(i,t,o,a){const r={},c=u(t,["pageSize"]);o!==void 0&&c!=null&&d(o,["_query","pageSize"],c);const f=u(t,["pageToken"]);o!==void 0&&f!=null&&d(o,["_query","pageToken"],f);const g=u(t,["filter"]);o!==void 0&&g!=null&&d(o,["_query","filter"],g);const y=u(t,["queryBase"]);return o!==void 0&&y!=null&&d(o,["_url","models_url"],ug(i,y)),r}function eb(i,t,o,a){const r={},c=u(t,["pageSize"]);o!==void 0&&c!=null&&d(o,["_query","pageSize"],c);const f=u(t,["pageToken"]);o!==void 0&&f!=null&&d(o,["_query","pageToken"],f);const g=u(t,["filter"]);o!==void 0&&g!=null&&d(o,["_query","filter"],g);const y=u(t,["queryBase"]);return o!==void 0&&y!=null&&d(o,["_url","models_url"],ug(i,y)),r}function tb(i,t,o){const a={},r=u(t,["config"]);return r!=null&&WE(i,r,a),a}function nb(i,t,o){const a={},r=u(t,["config"]);return r!=null&&eb(i,r,a),a}function ib(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&d(o,["nextPageToken"],r);const c=u(i,["_self"]);if(c!=null){let f=cg(c);Array.isArray(f)&&(f=f.map(g=>zu(g))),d(o,["models"],f)}return o}function ob(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&d(o,["nextPageToken"],r);const c=u(i,["_self"]);if(c!=null){let f=cg(c);Array.isArray(f)&&(f=f.map(g=>qu(g))),d(o,["models"],f)}return o}function lb(i,t){const o={},a=u(i,["maskMode"]);a!=null&&d(o,["maskMode"],a);const r=u(i,["segmentationClasses"]);r!=null&&d(o,["maskClasses"],r);const c=u(i,["maskDilation"]);return c!=null&&d(o,["dilation"],c),o}function zu(i,t){const o={},a=u(i,["name"]);a!=null&&d(o,["name"],a);const r=u(i,["displayName"]);r!=null&&d(o,["displayName"],r);const c=u(i,["description"]);c!=null&&d(o,["description"],c);const f=u(i,["version"]);f!=null&&d(o,["version"],f);const g=u(i,["_self"]);g!=null&&d(o,["tunedModelInfo"],Tb(g));const y=u(i,["inputTokenLimit"]);y!=null&&d(o,["inputTokenLimit"],y);const m=u(i,["outputTokenLimit"]);m!=null&&d(o,["outputTokenLimit"],m);const v=u(i,["supportedGenerationMethods"]);v!=null&&d(o,["supportedActions"],v);const S=u(i,["temperature"]);S!=null&&d(o,["temperature"],S);const E=u(i,["maxTemperature"]);E!=null&&d(o,["maxTemperature"],E);const _=u(i,["topP"]);_!=null&&d(o,["topP"],_);const w=u(i,["topK"]);w!=null&&d(o,["topK"],w);const D=u(i,["thinking"]);return D!=null&&d(o,["thinking"],D),o}function qu(i,t){const o={},a=u(i,["name"]);a!=null&&d(o,["name"],a);const r=u(i,["displayName"]);r!=null&&d(o,["displayName"],r);const c=u(i,["description"]);c!=null&&d(o,["description"],c);const f=u(i,["versionId"]);f!=null&&d(o,["version"],f);const g=u(i,["deployedModels"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(_=>yE(_))),d(o,["endpoints"],E)}const y=u(i,["labels"]);y!=null&&d(o,["labels"],y);const m=u(i,["_self"]);m!=null&&d(o,["tunedModelInfo"],Eb(m));const v=u(i,["defaultCheckpointId"]);v!=null&&d(o,["defaultCheckpointId"],v);const S=u(i,["checkpoints"]);if(S!=null){let E=S;Array.isArray(E)&&(E=E.map(_=>_)),d(o,["checkpoints"],E)}return o}function ab(i,t){const o={},a=u(i,["mediaResolution"]);a!=null&&d(o,["mediaResolution"],a);const r=u(i,["codeExecutionResult"]);r!=null&&d(o,["codeExecutionResult"],r);const c=u(i,["executableCode"]);c!=null&&d(o,["executableCode"],c);const f=u(i,["fileData"]);f!=null&&d(o,["fileData"],xE(f));const g=u(i,["functionCall"]);g!=null&&d(o,["functionCall"],SE(g));const y=u(i,["functionResponse"]);y!=null&&d(o,["functionResponse"],y);const m=u(i,["inlineData"]);m!=null&&d(o,["inlineData"],YT(m));const v=u(i,["text"]);v!=null&&d(o,["text"],v);const S=u(i,["thought"]);S!=null&&d(o,["thought"],S);const E=u(i,["thoughtSignature"]);E!=null&&d(o,["thoughtSignature"],E);const _=u(i,["videoMetadata"]);return _!=null&&d(o,["videoMetadata"],_),o}function sb(i,t){const o={},a=u(i,["productImage"]);return a!=null&&d(o,["image"],ln(a)),o}function rb(i,t,o){const a={},r=u(i,["numberOfImages"]);t!==void 0&&r!=null&&d(t,["parameters","sampleCount"],r);const c=u(i,["baseSteps"]);t!==void 0&&c!=null&&d(t,["parameters","baseSteps"],c);const f=u(i,["outputGcsUri"]);t!==void 0&&f!=null&&d(t,["parameters","storageUri"],f);const g=u(i,["seed"]);t!==void 0&&g!=null&&d(t,["parameters","seed"],g);const y=u(i,["safetyFilterLevel"]);t!==void 0&&y!=null&&d(t,["parameters","safetySetting"],y);const m=u(i,["personGeneration"]);t!==void 0&&m!=null&&d(t,["parameters","personGeneration"],m);const v=u(i,["addWatermark"]);t!==void 0&&v!=null&&d(t,["parameters","addWatermark"],v);const S=u(i,["outputMimeType"]);t!==void 0&&S!=null&&d(t,["parameters","outputOptions","mimeType"],S);const E=u(i,["outputCompressionQuality"]);t!==void 0&&E!=null&&d(t,["parameters","outputOptions","compressionQuality"],E);const _=u(i,["enhancePrompt"]);t!==void 0&&_!=null&&d(t,["parameters","enhancePrompt"],_);const w=u(i,["labels"]);return t!==void 0&&w!=null&&d(t,["labels"],w),a}function ub(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],De(i,r));const c=u(t,["source"]);c!=null&&db(c,a);const f=u(t,["config"]);return f!=null&&rb(f,a),a}function cb(i,t){const o={},a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>ss(c))),d(o,["generatedImages"],r)}return o}function db(i,t,o){const a={},r=u(i,["prompt"]);t!==void 0&&r!=null&&d(t,["instances[0]","prompt"],r);const c=u(i,["personImage"]);t!==void 0&&c!=null&&d(t,["instances[0]","personImage","image"],ln(c));const f=u(i,["productImages"]);if(t!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>sb(y))),d(t,["instances[0]","productImages"],g)}return a}function fb(i,t){const o={},a=u(i,["referenceImage"]);a!=null&&d(o,["referenceImage"],ln(a));const r=u(i,["referenceId"]);r!=null&&d(o,["referenceId"],r);const c=u(i,["referenceType"]);c!=null&&d(o,["referenceType"],c);const f=u(i,["maskImageConfig"]);f!=null&&d(o,["maskImageConfig"],lb(f));const g=u(i,["controlImageConfig"]);g!=null&&d(o,["controlImageConfig"],ZT(g));const y=u(i,["styleImageConfig"]);y!=null&&d(o,["styleImageConfig"],y);const m=u(i,["subjectImageConfig"]);return m!=null&&d(o,["subjectImageConfig"],m),o}function vg(i,t){const o={},a=u(i,["safetyAttributes","categories"]);a!=null&&d(o,["categories"],a);const r=u(i,["safetyAttributes","scores"]);r!=null&&d(o,["scores"],r);const c=u(i,["contentType"]);return c!=null&&d(o,["contentType"],c),o}function yg(i,t){const o={},a=u(i,["safetyAttributes","categories"]);a!=null&&d(o,["categories"],a);const r=u(i,["safetyAttributes","scores"]);r!=null&&d(o,["scores"],r);const c=u(i,["contentType"]);return c!=null&&d(o,["contentType"],c),o}function pb(i,t){const o={},a=u(i,["category"]);if(a!=null&&d(o,["category"],a),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=u(i,["threshold"]);return r!=null&&d(o,["threshold"],r),o}function hb(i,t){const o={},a=u(i,["image"]);return a!=null&&d(o,["image"],ln(a)),o}function mb(i,t,o){const a={},r=u(i,["mode"]);t!==void 0&&r!=null&&d(t,["parameters","mode"],r);const c=u(i,["maxPredictions"]);t!==void 0&&c!=null&&d(t,["parameters","maxPredictions"],c);const f=u(i,["confidenceThreshold"]);t!==void 0&&f!=null&&d(t,["parameters","confidenceThreshold"],f);const g=u(i,["maskDilation"]);t!==void 0&&g!=null&&d(t,["parameters","maskDilation"],g);const y=u(i,["binaryColorThreshold"]);t!==void 0&&y!=null&&d(t,["parameters","binaryColorThreshold"],y);const m=u(i,["labels"]);return t!==void 0&&m!=null&&d(t,["labels"],m),a}function gb(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],De(i,r));const c=u(t,["source"]);c!=null&&yb(c,a);const f=u(t,["config"]);return f!=null&&mb(f,a),a}function vb(i,t){const o={},a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>qE(c))),d(o,["generatedMasks"],r)}return o}function yb(i,t,o){const a={},r=u(i,["prompt"]);t!==void 0&&r!=null&&d(t,["instances[0]","prompt"],r);const c=u(i,["image"]);t!==void 0&&c!=null&&d(t,["instances[0]","image"],ln(c));const f=u(i,["scribbleImage"]);return t!==void 0&&f!=null&&d(t,["instances[0]","scribble"],hb(f)),a}function xb(i,t){const o={},a=u(i,["retrievalConfig"]);a!=null&&d(o,["retrievalConfig"],a);const r=u(i,["functionCallingConfig"]);return r!=null&&d(o,["functionCallingConfig"],TE(r)),o}function Sb(i,t){const o={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["computerUse"]);a!=null&&d(o,["computerUse"],a);const r=u(i,["fileSearch"]);r!=null&&d(o,["fileSearch"],r);const c=u(i,["codeExecution"]);if(c!=null&&d(o,["codeExecution"],c),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let S=f;Array.isArray(S)&&(S=S.map(E=>E)),d(o,["functionDeclarations"],S)}const g=u(i,["googleMaps"]);g!=null&&d(o,["googleMaps"],XE(g));const y=u(i,["googleSearch"]);y!=null&&d(o,["googleSearch"],QE(y));const m=u(i,["googleSearchRetrieval"]);m!=null&&d(o,["googleSearchRetrieval"],m);const v=u(i,["urlContext"]);return v!=null&&d(o,["urlContext"],v),o}function xg(i,t){const o={},a=u(i,["retrieval"]);a!=null&&d(o,["retrieval"],a);const r=u(i,["computerUse"]);if(r!=null&&d(o,["computerUse"],r),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=u(i,["codeExecution"]);c!=null&&d(o,["codeExecution"],c);const f=u(i,["enterpriseWebSearch"]);f!=null&&d(o,["enterpriseWebSearch"],f);const g=u(i,["functionDeclarations"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(_=>EE(_))),d(o,["functionDeclarations"],E)}const y=u(i,["googleMaps"]);y!=null&&d(o,["googleMaps"],y);const m=u(i,["googleSearch"]);m!=null&&d(o,["googleSearch"],m);const v=u(i,["googleSearchRetrieval"]);v!=null&&d(o,["googleSearchRetrieval"],v);const S=u(i,["urlContext"]);return S!=null&&d(o,["urlContext"],S),o}function Tb(i,t){const o={},a=u(i,["baseModel"]);a!=null&&d(o,["baseModel"],a);const r=u(i,["createTime"]);r!=null&&d(o,["createTime"],r);const c=u(i,["updateTime"]);return c!=null&&d(o,["updateTime"],c),o}function Eb(i,t){const o={},a=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);a!=null&&d(o,["baseModel"],a);const r=u(i,["createTime"]);r!=null&&d(o,["createTime"],r);const c=u(i,["updateTime"]);return c!=null&&d(o,["updateTime"],c),o}function bb(i,t,o){const a={},r=u(i,["displayName"]);t!==void 0&&r!=null&&d(t,["displayName"],r);const c=u(i,["description"]);t!==void 0&&c!=null&&d(t,["description"],c);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&d(t,["defaultCheckpointId"],f),a}function _b(i,t,o){const a={},r=u(i,["displayName"]);t!==void 0&&r!=null&&d(t,["displayName"],r);const c=u(i,["description"]);t!==void 0&&c!=null&&d(t,["description"],c);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&d(t,["defaultCheckpointId"],f),a}function Cb(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","name"],De(i,r));const c=u(t,["config"]);return c!=null&&bb(c,a),a}function Ab(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],De(i,r));const c=u(t,["config"]);return c!=null&&_b(c,a),a}function wb(i,t,o){const a={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&d(t,["parameters","storageUri"],r);const c=u(i,["safetyFilterLevel"]);t!==void 0&&c!=null&&d(t,["parameters","safetySetting"],c);const f=u(i,["personGeneration"]);t!==void 0&&f!=null&&d(t,["parameters","personGeneration"],f);const g=u(i,["includeRaiReason"]);t!==void 0&&g!=null&&d(t,["parameters","includeRaiReason"],g);const y=u(i,["outputMimeType"]);t!==void 0&&y!=null&&d(t,["parameters","outputOptions","mimeType"],y);const m=u(i,["outputCompressionQuality"]);t!==void 0&&m!=null&&d(t,["parameters","outputOptions","compressionQuality"],m);const v=u(i,["enhanceInputImage"]);t!==void 0&&v!=null&&d(t,["parameters","upscaleConfig","enhanceInputImage"],v);const S=u(i,["imagePreservationFactor"]);t!==void 0&&S!=null&&d(t,["parameters","upscaleConfig","imagePreservationFactor"],S);const E=u(i,["labels"]);t!==void 0&&E!=null&&d(t,["labels"],E);const _=u(i,["numberOfImages"]);t!==void 0&&_!=null&&d(t,["parameters","sampleCount"],_);const w=u(i,["mode"]);return t!==void 0&&w!=null&&d(t,["parameters","mode"],w),a}function Nb(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],De(i,r));const c=u(t,["image"]);c!=null&&d(a,["instances[0]","image"],ln(c));const f=u(t,["upscaleFactor"]);f!=null&&d(a,["parameters","upscaleConfig","upscaleFactor"],f);const g=u(t,["config"]);return g!=null&&wb(g,a),a}function Rb(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>ss(f))),d(o,["generatedImages"],c)}return o}function Ib(i,t){const o={},a=u(i,["uri"]);a!=null&&d(o,["uri"],a);const r=u(i,["encodedVideo"]);r!=null&&d(o,["videoBytes"],ui(r));const c=u(i,["encoding"]);return c!=null&&d(o,["mimeType"],c),o}function Mb(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&d(o,["uri"],a);const r=u(i,["bytesBase64Encoded"]);r!=null&&d(o,["videoBytes"],ui(r));const c=u(i,["mimeType"]);return c!=null&&d(o,["mimeType"],c),o}function Db(i,t){const o={},a=u(i,["image"]);a!=null&&d(o,["_self"],ln(a));const r=u(i,["maskMode"]);return r!=null&&d(o,["maskMode"],r),o}function Ub(i,t){const o={},a=u(i,["image"]);a!=null&&d(o,["image"],rs(a));const r=u(i,["referenceType"]);return r!=null&&d(o,["referenceType"],r),o}function kb(i,t){const o={},a=u(i,["image"]);a!=null&&d(o,["image"],ln(a));const r=u(i,["referenceType"]);return r!=null&&d(o,["referenceType"],r),o}function Sg(i,t){const o={},a=u(i,["uri"]);a!=null&&d(o,["uri"],a);const r=u(i,["videoBytes"]);r!=null&&d(o,["encodedVideo"],ui(r));const c=u(i,["mimeType"]);return c!=null&&d(o,["encoding"],c),o}function Tg(i,t){const o={},a=u(i,["uri"]);a!=null&&d(o,["gcsUri"],a);const r=u(i,["videoBytes"]);r!=null&&d(o,["bytesBase64Encoded"],ui(r));const c=u(i,["mimeType"]);return c!=null&&d(o,["mimeType"],c),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lb(i,t){const o={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&d(t,["displayName"],a),o}function Gb(i){const t={},o=u(i,["config"]);return o!=null&&Lb(o,t),t}function Pb(i,t){const o={},a=u(i,["force"]);return t!==void 0&&a!=null&&d(t,["_query","force"],a),o}function Ob(i){const t={},o=u(i,["name"]);o!=null&&d(t,["_url","name"],o);const a=u(i,["config"]);return a!=null&&Pb(a,t),t}function Hb(i){const t={},o=u(i,["name"]);return o!=null&&d(t,["_url","name"],o),t}function Vb(i,t){const o={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>f)),d(t,["customMetadata"],c)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&d(t,["chunkingConfig"],r),o}function zb(i){const t={},o=u(i,["name"]);o!=null&&d(t,["name"],o);const a=u(i,["metadata"]);a!=null&&d(t,["metadata"],a);const r=u(i,["done"]);r!=null&&d(t,["done"],r);const c=u(i,["error"]);c!=null&&d(t,["error"],c);const f=u(i,["response"]);return f!=null&&d(t,["response"],Bb(f)),t}function qb(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&d(t,["_url","file_search_store_name"],o);const a=u(i,["fileName"]);a!=null&&d(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&Vb(r,t),t}function Bb(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&d(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&d(t,["documentName"],r),t}function Fb(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&d(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&d(t,["_query","pageToken"],r),o}function Yb(i){const t={},o=u(i,["config"]);return o!=null&&Fb(o,t),t}function Jb(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&d(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>f)),d(t,["fileSearchStores"],c)}return t}function Eg(i,t){const o={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&d(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&d(t,["displayName"],r);const c=u(i,["customMetadata"]);if(t!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>y)),d(t,["customMetadata"],g)}const f=u(i,["chunkingConfig"]);return t!==void 0&&f!=null&&d(t,["chunkingConfig"],f),o}function Kb(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&d(t,["_url","file_search_store_name"],o);const a=u(i,["config"]);return a!=null&&Eg(a,t),t}function Xb(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&d(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qb="Content-Type",$b="X-Server-Timeout",jb="User-Agent",Bu="x-goog-api-client",Zb="1.41.0",Wb=`google-genai-sdk/${Zb}`,e_="v1beta1",t_="v1beta",n_=5,i_=[408,429,500,502,503,504];class o_{constructor(t){var o,a,r;this.clientOptions=Object.assign({},t),this.customBaseUrl=(o=t.httpOptions)===null||o===void 0?void 0:o.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const c={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const g=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!g?(c.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?c.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(c.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),c.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:e_}else{if(!this.clientOptions.apiKey)throw new Cl({message:"API key must be set when using the Gemini API.",status:403});c.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:t_,c.baseUrl="https://generativelanguage.googleapis.com/"}c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,a){const r=[this.getRequestUrlInternal(o)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t,o){return!(o.baseUrl&&o.baseUrlResourceScope===Pu.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t,o),r=this.constructUrl(t.path,o,a);if(t.queryParams)for(const[f,g]of Object.entries(t.queryParams))r.searchParams.append(f,String(g));let c={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=t.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,o,r.toString(),t.abortSignal),this.unaryApiCall(r,c,t.httpMethod)}patchHttpOptions(t,o){const a=JSON.parse(JSON.stringify(t));for(const[r,c]of Object.entries(o))typeof c=="object"?a[r]=Object.assign(Object.assign({},a[r]),c):c!==void 0&&(a[r]=c);return a}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t,o),r=this.constructUrl(t.path,o,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let c={};return c.body=t.body,c=await this.includeExtraHttpOptionsToRequestInit(c,o,r.toString(),t.abortSignal),this.streamApiCall(r,c,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,a,r){if(o&&o.timeout||r){const c=new AbortController,f=c.signal;if(o.timeout&&o?.timeout>0){const g=setTimeout(()=>c.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{c.abort()}),t.signal=f}return o&&o.extraBody!==null&&l_(t,o.extraBody),t.headers=await this.getHeadersInternal(o,a),t}async unaryApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await Gm(r),new Ou(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await Gm(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return nn(this,arguments,function*(){var a;const r=(a=t?.body)===null||a===void 0?void 0:a.getReader(),c=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let f="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:v}=yield xe(r.read());if(m){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const S=c.decode(v,{stream:!0});try{const w=JSON.parse(S);if("error"in w){const D=JSON.parse(JSON.stringify(w.error)),N=D.status,B=D.code,F=`got status: ${N}. ${JSON.stringify(w)}`;if(B>=400&&B<600)throw new Cl({message:F,status:B})}}catch(w){if(w.name==="ApiError")throw w}f+=S;let E=-1,_=0;for(;;){E=-1,_=0;for(const N of y){const B=f.indexOf(N);B!==-1&&(E===-1||B<E)&&(E=B,_=N.length)}if(E===-1)break;const w=f.substring(0,E);f=f.substring(E+_);const D=w.trim();if(D.startsWith(g)){const N=D.substring(g.length).trim();try{const B=new Response(N,{headers:t?.headers,status:t?.status,statusText:t?.statusText});yield yield xe(new Ou(B))}catch(B){throw new Error(`exception parsing stream chunk ${N}. ${B}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,o){var a;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(t,o);const r=this.clientOptions.httpOptions.retryOptions;return Xy(async()=>{const f=await fetch(t,o);if(f.ok)return f;throw i_.includes(f.status)?new Error(`Retryable HTTP Error: ${f.statusText}`):new eg(`Non-retryable exception ${f.statusText} sending request`)},{retries:((a=r.attempts)!==null&&a!==void 0?a:n_)-1})}getDefaultHeaders(){const t={},o=Wb+" "+this.clientOptions.userAgentExtra;return t[jb]=o,t[Bu]=o,t[Qb]="application/json",t}async getHeadersInternal(t,o){const a=new Headers;if(t&&t.headers){for(const[r,c]of Object.entries(t.headers))a.append(r,c);t.timeout&&t.timeout>0&&a.append($b,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,o),a}getFileName(t){var o;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(o=a.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),a}async uploadFile(t,o){var a;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const c=this.clientOptions.uploader,f=await c.stat(t);r.sizeBytes=String(f.size);const g=(a=o?.mimeType)!==null&&a!==void 0?a:f.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},m=this.getFileName(t),v=ue("upload/v1beta/files",y._url),S=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,m,y,o?.httpOptions);return c.upload(t,S,this)}async uploadFileToFileSearchStore(t,o,a){var r;const c=this.clientOptions.uploader,f=await c.stat(o),g=String(f.size),y=(r=a?.mimeType)!==null&&r!==void 0?r:f.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(o),S={};a!=null&&Eg(a,S);const E=await this.fetchUploadUrl(m,g,y,v,S,a?.httpOptions);return c.uploadToFileSearchStore(o,E,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,a,r,c,f){var g;let y={};f?y=f:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const m=await this.request({path:t,body:JSON.stringify(c),httpMethod:"POST",httpOptions:y});if(!m||!m?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=m?.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Gm(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw o>=400&&o<600?new Cl({message:r,status:o}):new Error(r)}}function l_(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const c=JSON.parse(i.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))o=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(c,f){const g=Object.assign({},c);for(const y in f)if(Object.prototype.hasOwnProperty.call(f,y)){const m=f[y],v=g[y];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),g[y]=m)}return g}const r=a(o,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const a_="mcp_used/unknown";let s_=!1;function bg(i){for(const t of i)if(r_(t)||typeof t=="object"&&"inputSchema"in t)return!0;return s_}function _g(i){var t;const o=(t=i[Bu])!==null&&t!==void 0?t:"";i[Bu]=(o+` ${a_}`).trimStart()}function r_(i){return i!==null&&typeof i=="object"&&i instanceof ac}function u_(i){return nn(this,arguments,function*(o,a=100){let r,c=0;for(;c<a;){const f=yield xe(o.listTools({cursor:r}));for(const g of f.tools)yield yield xe(g),c++;if(!f.nextCursor)break;r=f.nextCursor}})}class ac{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new ac(t,o)}async initialize(){var t,o,a,r;if(this.mcpTools.length>0)return;const c={},f=[];for(const v of this.mcpClients)try{for(var g=!0,y=(o=void 0,on(u_(v))),m;m=await y.next(),t=m.done,!t;g=!0){r=m.value,g=!1;const S=r;f.push(S);const E=S.name;if(c[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);c[E]=v}}catch(S){o={error:S}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}this.mcpTools=f,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),Gx(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const f=await r.callTool({name:a.name,arguments:a.args},void 0,c);o.push({functionResponse:{name:a.name,response:f.isError?{error:f}:f}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function c_(i,t,o){const a=new Nx;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(a,r),t(a)}class d_{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a}async connect(t){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),f=h_(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${g}`;let m=()=>{};const v=new Promise(P=>{m=P}),S=t.callbacks,E=function(){m({})},_=this.apiClient,w={onopen:E,onmessage:P=>{c_(_,S.onmessage,P)},onerror:(o=S?.onerror)!==null&&o!==void 0?o:function(P){},onclose:(a=S?.onclose)!==null&&a!==void 0?a:function(P){}},D=this.webSocketFactory.create(y,p_(f),w);D.connect(),await v;const F={setup:{model:De(this.apiClient,t.model)}};return D.send(JSON.stringify(F)),new f_(D,this.apiClient)}}class f_{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=LT(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=kT(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(xo.PLAY)}pause(){this.sendPlaybackControl(xo.PAUSE)}stop(){this.sendPlaybackControl(xo.STOP)}resetContext(){this.sendPlaybackControl(xo.RESET_CONTEXT)}close(){this.conn.close()}}function p_(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function h_(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const m_="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function g_(i,t,o){const a=new wx;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const c=JSON.parse(r);if(i.isVertexAI()){const f=OT(c);Object.assign(a,f)}else Object.assign(a,c);t(a)}class v_{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a,this.music=new d_(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,a,r,c,f,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const S=this.apiClient.getHeaders();t.config&&t.config.tools&&bg(t.config.tools)&&_g(S);const E=T_(S);if(this.apiClient.isVertexAI()){const se=this.apiClient.getProject(),ae=this.apiClient.getLocation(),fe=this.apiClient.getApiKey(),pe=!!se&&!!ae||!!fe;this.apiClient.getCustomBaseUrl()&&!pe?v=y:(v=`${y}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,v))}else{const se=this.apiClient.getApiKey();let ae="BidiGenerateContent",fe="key";se?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ae="BidiGenerateContentConstrained",fe="access_token"),v=`${y}/ws/google.ai.generativelanguage.${m}.GenerativeService.${ae}?${fe}=${se}`}let _=()=>{};const w=new Promise(se=>{_=se}),D=t.callbacks,N=function(){var se;(se=D?.onopen)===null||se===void 0||se.call(D),_({})},B=this.apiClient,F={onopen:N,onmessage:se=>{g_(B,D.onmessage,se)},onerror:(o=D?.onerror)!==null&&o!==void 0?o:function(se){},onclose:(a=D?.onclose)!==null&&a!==void 0?a:function(se){}},P=this.webSocketFactory.create(v,S_(E),F);P.connect(),await w;let X=De(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&X.startsWith("publishers/")){const se=this.apiClient.getProject(),ae=this.apiClient.getLocation();se&&ae&&(X=`projects/${se}/locations/${ae}/`+X)}let j={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Wa.AUDIO]}:t.config.responseModalities=[Wa.AUDIO]),!((c=t.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const q=(g=(f=t.config)===null||f===void 0?void 0:f.tools)!==null&&g!==void 0?g:[],Z=[];for(const se of q)if(this.isCallableTool(se)){const ae=se;Z.push(await ae.tool())}else Z.push(se);Z.length>0&&(t.config.tools=Z);const ce={model:X,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?j=UT(this.apiClient,ce):j=DT(this.apiClient,ce),delete j.config,P.send(JSON.stringify(j)),new x_(P,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const y_={turnComplete:!0};class x_{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=Qt(o.turns),t.isVertexAI()||(a=a.map(r=>as(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const c of a){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!t.isVertexAI()&&!("id"in c))throw new Error(m_)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},y_),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:PT(t)}:o={realtimeInput:GT(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function S_(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function T_(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pm=10;function Om(i){var t,o,a;if(!((t=i?.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const f of(o=i?.tools)!==null&&o!==void 0?o:[])if(Eo(f)){r=!0;break}if(!r)return!0;const c=(a=i?.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function Eo(i){return"callTool"in i&&typeof i.callTool=="function"}function E_(i){var t,o,a;return(a=(o=(t=i.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(r=>Eo(r)))!==null&&a!==void 0?a:!1}function Hm(i){var t;const o=[];return!((t=i?.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(Eo(a))return;const c=a;c.functionDeclarations&&c.functionDeclarations.length>0&&o.push(r)}),o}function Vm(i){var t;return!(!((t=i?.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class b_ extends Dn{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var a,r,c,f,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!E_(o)||Om(o.config))return await this.generateContentInternal(y);const m=Hm(o);if(m.length>0){const D=m.map(N=>`tools[${N}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${D}.`)}let v,S;const E=Qt(y.contents),_=(c=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&c!==void 0?c:Pm;let w=0;for(;w<_&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const D=v.candidates[0].content,N=[];for(const B of(g=(f=o.config)===null||f===void 0?void 0:f.tools)!==null&&g!==void 0?g:[])if(Eo(B)){const P=await B.callTool(v.functionCalls);N.push(...P)}w++,S={role:"user",parts:N},y.contents=Qt(y.contents),y.contents.push(D),y.contents.push(S),Vm(y.config)&&(E.push(D),E.push(S))}return Vm(y.config)&&(v.automaticFunctionCallingHistory=E),v},this.generateContentStream=async o=>{var a,r,c,f,g;if(this.maybeMoveToResponseJsonSchem(o),Om(o.config)){const S=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(S)}const y=Hm(o);if(y.length>0){const S=y.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(c=(r=(a=o?.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,v=(g=(f=o?.config)===null||f===void 0?void 0:f.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var r;let c;const f=[];if(a?.generatedImages)for(const y of a.generatedImages)y&&y?.safetyAttributes&&((r=y?.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?c=y?.safetyAttributes:f.push(y);let g;return c?g={generatedImages:f,positivePromptSafetyAttributes:c,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:f,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async o=>{var a;const f={config:Object.assign(Object.assign({},{queryBase:!0}),o?.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((a=f.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new Ii(Mn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(f),f)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var a,r,c,f,g,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=o.video)===null||a===void 0)&&a.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((f=(c=o.source)===null||c===void 0?void 0:c.video)===null||f===void 0)&&f.uri&&(!((y=(g=o.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,a,r;const c=(o=t.config)===null||o===void 0?void 0:o.tools;if(!c)return t;const f=await Promise.all(c.map(async y=>Eo(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:f})};if(g.config.tools=f,t.config&&t.config.tools&&bg(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let m=Object.assign({},y);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),_g(m),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:m})}return g}async initAfcToolsMap(t){var o,a,r;const c=new Map;for(const f of(a=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(Eo(f)){const g=f,y=await g.tool();for(const m of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!m.name)throw new Error("Function declaration name is required.");if(c.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);c.set(m.name,g)}}return c}async processAfcStream(t){var o,a,r;const c=(r=(a=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:Pm;let f=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(m,v,S){return nn(this,arguments,function*(){for(var E,_,w,D,N,B;g<c;){f&&(g++,f=!1);const j=yield xe(m.processParamsMaybeAddMcpUsage(S)),q=yield xe(m.generateContentStreamInternal(j)),Z=[],ce=[];try{for(var F=!0,P=(_=void 0,on(q)),X;X=yield xe(P.next()),E=X.done,!E;F=!0){D=X.value,F=!1;const se=D;if(yield yield xe(se),se.candidates&&(!((N=se.candidates[0])===null||N===void 0)&&N.content)){ce.push(se.candidates[0].content);for(const ae of(B=se.candidates[0].content.parts)!==null&&B!==void 0?B:[])if(g<c&&ae.functionCall){if(!ae.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ae.functionCall.name)){const fe=yield xe(v.get(ae.functionCall.name).callTool([ae.functionCall]));Z.push(...fe)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ae.functionCall.name}`)}}}}catch(se){_={error:se}}finally{try{!F&&!E&&(w=P.return)&&(yield xe(w.call(P)))}finally{if(_)throw _.error}}if(Z.length>0){f=!0;const se=new El;se.candidates=[{content:{role:"user",parts:Z}}],yield yield xe(se);const ae=[];ae.push(...ce),ae.push({role:"user",parts:Z});const fe=Qt(S.contents).concat(ae);S.contents=fe}else break}})})(this,y,t)}async generateContentInternal(t){var o,a,r,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const m=Um(this.apiClient,t);return g=ue("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),f.then(v=>{const S=Lm(v),E=new El;return Object.assign(E,S),E})}else{const m=Dm(this.apiClient,t);return g=ue("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),f.then(v=>{const S=km(v),E=new El;return Object.assign(E,S),E})}}async generateContentStreamInternal(t){var o,a,r,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const m=Um(this.apiClient,t);return g=ue("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),f.then(function(S){return nn(this,arguments,function*(){var E,_,w,D;try{for(var N=!0,B=on(S),F;F=yield xe(B.next()),E=F.done,!E;N=!0){D=F.value,N=!1;const P=D,X=Lm(yield xe(P.json()),t);X.sdkHttpResponse={headers:P.headers};const j=new El;Object.assign(j,X),yield yield xe(j)}}catch(P){_={error:P}}finally{try{!N&&!E&&(w=B.return)&&(yield xe(w.call(B)))}finally{if(_)throw _.error}}})})}else{const m=Dm(this.apiClient,t);return g=ue("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}),f.then(function(S){return nn(this,arguments,function*(){var E,_,w,D;try{for(var N=!0,B=on(S),F;F=yield xe(B.next()),E=F.done,!E;N=!0){D=F.value,N=!1;const P=D,X=km(yield xe(P.json()),t);X.sdkHttpResponse={headers:P.headers};const j=new El;Object.assign(j,X),yield yield xe(j)}}catch(P){_={error:P}}finally{try{!N&&!E&&(w=B.return)&&(yield xe(w.call(B)))}finally{if(_)throw _.error}}})})}}async embedContent(t){var o,a,r,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const m=mE(this.apiClient,t);return g=ue("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),f.then(v=>{const S=vE(v),E=new mm;return Object.assign(E,S),E})}else{const m=hE(this.apiClient,t);return g=ue("{model}:batchEmbedContents",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),f.then(v=>{const S=gE(v),E=new mm;return Object.assign(E,S),E})}}async generateImagesInternal(t){var o,a,r,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const m=NE(this.apiClient,t);return g=ue("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),f.then(v=>{const S=IE(v),E=new gm;return Object.assign(E,S),E})}else{const m=wE(this.apiClient,t);return g=ue("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),f.then(v=>{const S=RE(v),E=new gm;return Object.assign(E,S),E})}}async editImageInternal(t){var o,a;let r,c="",f={};if(this.apiClient.isVertexAI()){const g=cE(this.apiClient,t);return c=ue("{model}:predict",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=dE(y),v=new mx;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,a;let r,c="",f={};if(this.apiClient.isVertexAI()){const g=Nb(this.apiClient,t);return c=ue("{model}:predict",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=Rb(y),v=new gx;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,a;let r,c="",f={};if(this.apiClient.isVertexAI()){const g=ub(this.apiClient,t);return c=ue("{model}:predict",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=cb(y),v=new vx;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,a;let r,c="",f={};if(this.apiClient.isVertexAI()){const g=gb(this.apiClient,t);return c=ue("{model}:predict",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=vb(y),v=new yx;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,a,r,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const m=KE(this.apiClient,t);return g=ue("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),f.then(v=>qu(v))}else{const m=JE(this.apiClient,t);return g=ue("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>zu(v))}}async listInternal(t){var o,a,r,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const m=nb(this.apiClient,t);return g=ue("{models_url}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),f.then(v=>{const S=ob(v),E=new vm;return Object.assign(E,S),E})}else{const m=tb(this.apiClient,t);return g=ue("{models_url}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),f.then(v=>{const S=ib(v),E=new vm;return Object.assign(E,S),E})}}async update(t){var o,a,r,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const m=Ab(this.apiClient,t);return g=ue("{model}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),f.then(v=>qu(v))}else{const m=Cb(this.apiClient,t);return g=ue("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>zu(v))}}async delete(t){var o,a,r,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const m=aE(this.apiClient,t);return g=ue("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),f.then(v=>{const S=rE(v),E=new ym;return Object.assign(E,S),E})}else{const m=lE(this.apiClient,t);return g=ue("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),f.then(v=>{const S=sE(v),E=new ym;return Object.assign(E,S),E})}}async countTokens(t){var o,a,r,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const m=nE(this.apiClient,t);return g=ue("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),f.then(v=>{const S=oE(v),E=new xm;return Object.assign(E,S),E})}else{const m=tE(this.apiClient,t);return g=ue("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),f.then(v=>{const S=iE(v),E=new xm;return Object.assign(E,S),E})}}async computeTokens(t){var o,a;let r,c="",f={};if(this.apiClient.isVertexAI()){const g=XT(this.apiClient,t);return c=ue("{model}:computeTokens",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=QT(y),v=new xx;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,a,r,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const m=GE(this.apiClient,t);return g=ue("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),f.then(v=>{const S=kE(v),E=new es;return Object.assign(E,S),E})}else{const m=LE(this.apiClient,t);return g=ue("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>{const S=UE(v),E=new es;return Object.assign(E,S),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class __ extends Dn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,a,r,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const m=ux(t);return g=ue("{operationName}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),f}else{const m=rx(t);return g=ue("{operationName}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f}}async fetchPredictVideosOperationInternal(t){var o,a;let r,c="",f={};if(this.apiClient.isVertexAI()){const g=tx(t);return c=ue("{resourceName}:fetchPredictOperation",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function C_(i){const t={},o=u(i,["data"]);if(o!=null&&d(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function A_(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>L_(c))),d(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&d(t,["role"],a),t}function w_(i,t,o){const a={},r=u(t,["expireTime"]);o!==void 0&&r!=null&&d(o,["expireTime"],r);const c=u(t,["newSessionExpireTime"]);o!==void 0&&c!=null&&d(o,["newSessionExpireTime"],c);const f=u(t,["uses"]);o!==void 0&&f!=null&&d(o,["uses"],f);const g=u(t,["liveConnectConstraints"]);o!==void 0&&g!=null&&d(o,["bidiGenerateContentSetup"],k_(i,g));const y=u(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&d(o,["fieldMask"],y),a}function N_(i,t){const o={},a=u(t,["config"]);return a!=null&&d(o,["config"],w_(i,a,o)),o}function R_(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&d(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function I_(i){const t={},o=u(i,["id"]);o!=null&&d(t,["id"],o);const a=u(i,["args"]);a!=null&&d(t,["args"],a);const r=u(i,["name"]);if(r!=null&&d(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function M_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&d(t,["enableWidget"],o),t}function D_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&d(t,["timeRangeFilter"],o),t}function U_(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&d(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&d(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&d(t,["setup","generationConfig","temperature"],c);const f=u(i,["topP"]);t!==void 0&&f!=null&&d(t,["setup","generationConfig","topP"],f);const g=u(i,["topK"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&d(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&d(t,["setup","generationConfig","mediaResolution"],m);const v=u(i,["seed"]);t!==void 0&&v!=null&&d(t,["setup","generationConfig","seed"],v);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","speechConfig"],lc(S));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&d(t,["setup","generationConfig","thinkingConfig"],E);const _=u(i,["enableAffectiveDialog"]);t!==void 0&&_!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],_);const w=u(i,["systemInstruction"]);t!==void 0&&w!=null&&d(t,["setup","systemInstruction"],A_(mt(w)));const D=u(i,["tools"]);if(t!==void 0&&D!=null){let q=Ao(D);Array.isArray(q)&&(q=q.map(Z=>P_(Co(Z)))),d(t,["setup","tools"],q)}const N=u(i,["sessionResumption"]);t!==void 0&&N!=null&&d(t,["setup","sessionResumption"],G_(N));const B=u(i,["inputAudioTranscription"]);t!==void 0&&B!=null&&d(t,["setup","inputAudioTranscription"],B);const F=u(i,["outputAudioTranscription"]);t!==void 0&&F!=null&&d(t,["setup","outputAudioTranscription"],F);const P=u(i,["realtimeInputConfig"]);t!==void 0&&P!=null&&d(t,["setup","realtimeInputConfig"],P);const X=u(i,["contextWindowCompression"]);t!==void 0&&X!=null&&d(t,["setup","contextWindowCompression"],X);const j=u(i,["proactivity"]);if(t!==void 0&&j!=null&&d(t,["setup","proactivity"],j),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function k_(i,t){const o={},a=u(t,["model"]);a!=null&&d(o,["setup","model"],De(i,a));const r=u(t,["config"]);return r!=null&&d(o,["config"],U_(r,o)),o}function L_(i){const t={},o=u(i,["mediaResolution"]);o!=null&&d(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&d(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&d(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&d(t,["fileData"],R_(c));const f=u(i,["functionCall"]);f!=null&&d(t,["functionCall"],I_(f));const g=u(i,["functionResponse"]);g!=null&&d(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&d(t,["inlineData"],C_(y));const m=u(i,["text"]);m!=null&&d(t,["text"],m);const v=u(i,["thought"]);v!=null&&d(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&d(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&d(t,["videoMetadata"],E),t}function G_(i){const t={},o=u(i,["handle"]);if(o!=null&&d(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function P_(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&d(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&d(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&d(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(S=>S)),d(t,["functionDeclarations"],v)}const f=u(i,["googleMaps"]);f!=null&&d(t,["googleMaps"],M_(f));const g=u(i,["googleSearch"]);g!=null&&d(t,["googleSearch"],D_(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&d(t,["googleSearchRetrieval"],y);const m=u(i,["urlContext"]);return m!=null&&d(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function O_(i){const t=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const a=i[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(c=>`${o}.${c}`);t.push(...r)}else t.push(o)}return t.join(",")}function H_(i,t){let o=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const c=a.setup;typeof c=="object"&&c!==null?(i.bidiGenerateContentSetup=c,o=c):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(o){const c=O_(o);if(Array.isArray(t?.lockAdditionalFields)&&t?.lockAdditionalFields.length===0)c?i.fieldMask=c:delete i.fieldMask;else if(t?.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const f=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(m=>f.includes(m)?`generationConfig.${m}`:m));const y=[];c&&y.push(c),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class V_ extends Dn{constructor(t){super(),this.apiClient=t}async create(t){var o,a;let r,c="",f={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=N_(this.apiClient,t);c=ue("auth_tokens",g._url),f=g._query,delete g.config,delete g._url,delete g._query;const y=H_(g,t.config);return r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),r.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z_(i,t){const o={},a=u(i,["force"]);return t!==void 0&&a!=null&&d(t,["_query","force"],a),o}function q_(i){const t={},o=u(i,["name"]);o!=null&&d(t,["_url","name"],o);const a=u(i,["config"]);return a!=null&&z_(a,t),t}function B_(i){const t={},o=u(i,["name"]);return o!=null&&d(t,["_url","name"],o),t}function F_(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&d(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&d(t,["_query","pageToken"],r),o}function Y_(i){const t={},o=u(i,["parent"]);o!=null&&d(t,["_url","parent"],o);const a=u(i,["config"]);return a!=null&&F_(a,t),t}function J_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&d(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>f)),d(t,["documents"],c)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K_ extends Dn{constructor(t){super(),this.apiClient=t,this.list=async o=>new Ii(Mn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:o.parent,config:a.config}),await this.listInternal(o),o)}async get(t){var o,a;let r,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=B_(t);return c=ue("{name}",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=q_(t);r=ue("{name}",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Y_(t);return c=ue("{parent}/documents",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=J_(y),v=new Sx;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class X_ extends Dn{constructor(t,o=new K_(t)){super(),this.apiClient=t,this.documents=o,this.list=async(a={})=>new Ii(Mn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,a;let r,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Gb(t);return c=ue("fileSearchStores",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var o,a;let r,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Hb(t);return c=ue("{name}",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Ob(t);r=ue("{name}",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Yb(t);return c=ue("fileSearchStores",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=Jb(y),v=new Tx;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(t){var o,a;let r,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Kb(t);return c=ue("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=Xb(y),v=new Ex;return Object.assign(v,m),v})}}async importFile(t){var o,a;let r,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=qb(t);return c=ue("{file_search_store_name}:importFile",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=zb(y),v=new ec;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Cg=function(){const{crypto:i}=globalThis;if(i?.randomUUID)return Cg=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),o=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^o()&15>>+a/4).toString(16))};const Q_=()=>Cg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fu(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Yu=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $t extends Error{}class St extends $t{constructor(t,o,a,r){super(`${St.makeMessage(t,o,a)}`),this.status=t,this.headers=r,this.error=o}static makeMessage(t,o,a){const r=o?.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,o,a,r){if(!t||!r)return new us({message:a,cause:Yu(o)});const c=o;return t===400?new wg(t,c,a,r):t===401?new Ng(t,c,a,r):t===403?new Rg(t,c,a,r):t===404?new Ig(t,c,a,r):t===409?new Mg(t,c,a,r):t===422?new Dg(t,c,a,r):t===429?new Ug(t,c,a,r):t>=500?new kg(t,c,a,r):new St(t,c,a,r)}}class Ju extends St{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class us extends St{constructor({message:t,cause:o}){super(void 0,void 0,t||"Connection error.",void 0),o&&(this.cause=o)}}class Ag extends us{constructor({message:t}={}){super({message:t??"Request timed out."})}}class wg extends St{}class Ng extends St{}class Rg extends St{}class Ig extends St{}class Mg extends St{}class Dg extends St{}class Ug extends St{}class kg extends St{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $_=/^[a-z][a-z0-9+.-]*:/i,j_=i=>$_.test(i);let Ku=i=>(Ku=Array.isArray,Ku(i));const Z_=Ku;let W_=Z_;const zm=W_;function eC(i){if(!i)return!0;for(const t in i)return!1;return!0}function tC(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const nC=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new $t(`${i} must be an integer`);if(t<0)throw new $t(`${i} must be a positive integer`);return t},iC=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oC=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lC(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const aC=()=>{var i,t,o,a,r;const c=lC();if(c==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vo,"X-Stainless-OS":Bm(Deno.build.os),"X-Stainless-Arch":qm(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(c==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vo,"X-Stainless-OS":Bm((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":qm((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const f=sC();return f?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${f.browser}`,"X-Stainless-Runtime-Version":f.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function sC(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:o}of i){const a=o.exec(navigator.userAgent);if(a){const r=a[1]||0,c=a[2]||0,f=a[3]||0;return{browser:t,version:`${r}.${c}.${f}`}}}return null}const qm=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Bm=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Ya;const rC=()=>Ya??(Ya=aC());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uC(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Lg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function cC(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return Lg({start(){},async pull(o){const{done:a,value:r}=await t.next();a?o.close():o.enqueue(r)},async cancel(){var o;await((o=t.return)===null||o===void 0?void 0:o.call(t))}})}function Gg(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const o=await t.read();return o?.done&&t.releaseLock(),o}catch(o){throw t.releaseLock(),o}},async return(){const o=t.cancel();return t.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function dC(i){var t,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(t=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(t));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fC=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pg=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,o=typeof((i=t?.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Iu(i,t,o){return Pg(),new File(i,t??"unknown_file",o)}function pC(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const hC=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Og=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",mC=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Og(i),gC=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function vC(i,t,o){if(Pg(),i=await i,mC(i))return i instanceof File?i:Iu([await i.arrayBuffer()],i.name);if(gC(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),Iu(await Xu(r),t,o)}const a=await Xu(i);if(t||(t=pC(i)),!o?.type){const r=a.find(c=>typeof c=="object"&&"type"in c&&c.type);typeof r=="string"&&(o=Object.assign(Object.assign({},o),{type:r}))}return Iu(a,t,o)}async function Xu(i){var t,o,a,r,c;let f=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)f.push(i);else if(Og(i))f.push(i instanceof Blob?i:await i.arrayBuffer());else if(hC(i))try{for(var g=!0,y=on(i),m;m=await y.next(),t=m.done,!t;g=!0){r=m.value,g=!1;const v=r;f.push(...await Xu(v))}}catch(v){o={error:v}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}else{const v=(c=i?.constructor)===null||c===void 0?void 0:c.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${yC(i)}`)}return f}function yC(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hg{constructor(t){this._client=t}}Hg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Fm=Object.freeze(Object.create(null)),xC=(i=Vg)=>(function(o,...a){if(o.length===1)return o[0];let r=!1;const c=[],f=o.reduce((v,S,E)=>{var _,w,D;/[?#]/.test(S)&&(r=!0);const N=a[E];let B=(r?encodeURIComponent:i)(""+N);return E!==a.length&&(N==null||typeof N=="object"&&N.toString===((D=Object.getPrototypeOf((w=Object.getPrototypeOf((_=N.hasOwnProperty)!==null&&_!==void 0?_:Fm))!==null&&w!==void 0?w:Fm))===null||D===void 0?void 0:D.toString))&&(B=N+"",c.push({start:v.length+S.length,length:B.length,error:`Value of type ${Object.prototype.toString.call(N).slice(8,-1)} is not a valid path parameter`})),v+S+(E===a.length?"":B)},""),g=f.split(/[?#]/,1)[0],y=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi;let m;for(;(m=y.exec(g))!==null;)c.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(c.sort((v,S)=>v.start-S.start),c.length>0){let v=0;const S=c.reduce((E,_)=>{const w=" ".repeat(_.start-v),D="^".repeat(_.length);return v=_.start+_.length,E+w+D},"");throw new $t(`Path parameters result in path with invalid segments:
${c.map(E=>E.error).join(`
`)}
${f}
${S}`)}return f}),Ja=xC(Vg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zg extends Hg{create(t,o){var a;const{api_version:r=this._client.apiVersion}=t,c=ns(t,["api_version"]);if("model"in c&&"agent_config"in c)throw new $t("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in c&&"generation_config"in c)throw new $t("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ja`/${r}/interactions`,Object.assign(Object.assign({body:c},o),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.delete(Ja`/${r}/interactions/${t}`,a)}cancel(t,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.post(Ja`/${r}/interactions/${t}/cancel`,a)}get(t,o={},a){var r;const c=o??{},{api_version:f=this._client.apiVersion}=c,g=ns(c,["api_version"]);return this._client.get(Ja`/${f}/interactions/${t}`,Object.assign(Object.assign({query:g},a),{stream:(r=o?.stream)!==null&&r!==void 0?r:!1}))}}zg._key=Object.freeze(["interactions"]);class qg extends zg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SC(i){let t=0;for(const r of i)t+=r.length;const o=new Uint8Array(t);let a=0;for(const r of i)o.set(r,a),a+=r.length;return o}let Ka;function sc(i){let t;return(Ka??(t=new globalThis.TextEncoder,Ka=t.encode.bind(t)))(i)}let Xa;function Ym(i){let t;return(Xa??(t=new globalThis.TextDecoder,Xa=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cs{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?sc(t):t;this.buffer=SC([this.buffer,o]);const a=[];let r;for(;(r=TC(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(Ym(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const c=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,f=Ym(this.buffer.subarray(0,c));a.push(f),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}cs.NEWLINE_CHARS=new Set([`
`,"\r"]);cs.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function TC(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function EC(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const is={off:0,error:200,warn:300,info:400,debug:500},Jm=(i,t,o)=>{if(i){if(tC(is,i))return i;xt(o).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(is))}`)}};function _l(){}function Qa(i,t,o){return!t||is[i]>is[o]?_l:t[i].bind(t)}const bC={error:_l,warn:_l,info:_l,debug:_l};let Km=new WeakMap;function xt(i){var t;const o=i.logger,a=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!o)return bC;const r=Km.get(o);if(r&&r[0]===a)return r[1];const c={error:Qa("error",o,a),warn:Qa("warn",o,a),info:Qa("info",o,a),debug:Qa("debug",o,a)};return Km.set(o,[a,c]),c}const Ri=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,o])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class So{constructor(t,o,a){this.iterator=t,this.controller=o,this.client=a}static fromSSEResponse(t,o,a){let r=!1;const c=a?xt(a):console;function f(){return nn(this,arguments,function*(){var y,m,v,S;if(r)throw new $t("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var _=!0,w=on(_C(t,o)),D;D=yield xe(w.next()),y=D.done,!y;_=!0){S=D.value,_=!1;const N=S;if(!E)if(N.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield xe(JSON.parse(N.data))}catch(B){throw c.error("Could not parse message into JSON:",N.data),c.error("From chunk:",N.raw),B}}}catch(N){m={error:N}}finally{try{!_&&!y&&(v=w.return)&&(yield xe(v.call(w)))}finally{if(m)throw m.error}}E=!0}catch(N){if(Fu(N))return yield xe(void 0);throw N}finally{E||o.abort()}})}return new So(f,o,a)}static fromReadableStream(t,o,a){let r=!1;function c(){return nn(this,arguments,function*(){var y,m,v,S;const E=new cs,_=Gg(t);try{for(var w=!0,D=on(_),N;N=yield xe(D.next()),y=N.done,!y;w=!0){S=N.value,w=!1;const B=S;for(const F of E.decode(B))yield yield xe(F)}}catch(B){m={error:B}}finally{try{!w&&!y&&(v=D.return)&&(yield xe(v.call(D)))}finally{if(m)throw m.error}}for(const B of E.flush())yield yield xe(B)})}function f(){return nn(this,arguments,function*(){var y,m,v,S;if(r)throw new $t("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var _=!0,w=on(c()),D;D=yield xe(w.next()),y=D.done,!y;_=!0){S=D.value,_=!1;const N=S;E||N&&(yield yield xe(JSON.parse(N)))}}catch(N){m={error:N}}finally{try{!_&&!y&&(v=w.return)&&(yield xe(v.call(w)))}finally{if(m)throw m.error}}E=!0}catch(N){if(Fu(N))return yield xe(void 0);throw N}finally{E||o.abort()}})}return new So(f,o,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],o=[],a=this.iterator(),r=c=>({next:()=>{if(c.length===0){const f=a.next();t.push(f),o.push(f)}return c.shift()}});return[new So(()=>r(t),this.controller,this.client),new So(()=>r(o),this.controller,this.client)]}toReadableStream(){const t=this;let o;return Lg({async start(){o=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:c}=await o.next();if(c)return a.close();const f=sc(JSON.stringify(r)+`
`);a.enqueue(f)}catch(r){a.error(r)}},async cancel(){var a;await((a=o.return)===null||a===void 0?void 0:a.call(o))}})}}function _C(i,t){return nn(this,arguments,function*(){var a,r,c,f;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new $t("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new $t("Attempted to iterate over a response with no body");const g=new AC,y=new cs,m=Gg(i.body);try{for(var v=!0,S=on(CC(m)),E;E=yield xe(S.next()),a=E.done,!a;v=!0){f=E.value,v=!1;const _=f;for(const w of y.decode(_)){const D=g.decode(w);D&&(yield yield xe(D))}}}catch(_){r={error:_}}finally{try{!v&&!a&&(c=S.return)&&(yield xe(c.call(S)))}finally{if(r)throw r.error}}for(const _ of y.flush()){const w=g.decode(_);w&&(yield yield xe(w))}})}function CC(i){return nn(this,arguments,function*(){var o,a,r,c;let f=new Uint8Array;try{for(var g=!0,y=on(i),m;m=yield xe(y.next()),o=m.done,!o;g=!0){c=m.value,g=!1;const v=c;if(v==null)continue;const S=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?sc(v):v;let E=new Uint8Array(f.length+S.length);E.set(f),E.set(S,f.length),f=E;let _;for(;(_=EC(f))!==-1;)yield yield xe(f.slice(0,_)),f=f.slice(_)}}catch(v){a={error:v}}finally{try{!g&&!o&&(r=y.return)&&(yield xe(r.call(y)))}finally{if(a)throw a.error}}f.length>0&&(yield yield xe(f))})}class AC{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const c={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],c}if(this.chunks.push(t),t.startsWith(":"))return null;let[o,a,r]=wC(t,":");return r.startsWith(" ")&&(r=r.substring(1)),o==="event"?this.event=r:o==="data"&&this.data.push(r),null}}function wC(i,t){const o=i.indexOf(t);return o!==-1?[i.substring(0,o),t,i.substring(o+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function NC(i,t){const{response:o,requestLogID:a,retryOfRequestLogID:r,startTime:c}=t,f=await(async()=>{var g;if(t.options.stream)return xt(i).debug("response",o.status,o.url,o.headers,o.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(o,t.controller,i):So.fromSSEResponse(o,t.controller,i);if(o.status===204)return null;if(t.options.__binaryResponse)return o;const y=o.headers.get("content-type"),m=(g=y?.split(";")[0])===null||g===void 0?void 0:g.trim();return m?.includes("application/json")||m?.endsWith("+json")?o.headers.get("content-length")==="0"?void 0:await o.json():await o.text()})();return xt(i).debug(`[${a}] response parsed`,Ri({retryOfRequestLogID:r,url:o.url,status:o.status,body:f,durationMs:Date.now()-c})),f}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rc extends Promise{constructor(t,o,a=NC){super(r=>{r(null)}),this.responsePromise=o,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new rc(this.client,this.responsePromise,async(o,a)=>t(await this.parseResponse(o,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,o){return this.parse().then(t,o)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bg=Symbol("brand.privateNullableHeaders");function*RC(i){if(!i)return;if(Bg in i){const{values:a,nulls:r}=i;yield*a.entries();for(const c of r)yield[c,null];return}let t=!1,o;i instanceof Headers?o=i.entries():zm(i)?o=i:(t=!0,o=Object.entries(i??{}));for(let a of o){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const c=zm(a[1])?a[1]:[a[1]];let f=!1;for(const g of c)g!==void 0&&(t&&!f&&(f=!0,yield[r,null]),yield[r,g])}}const bl=i=>{const t=new Headers,o=new Set;for(const a of i){const r=new Set;for(const[c,f]of RC(a)){const g=c.toLowerCase();r.has(g)||(t.delete(c),r.add(g)),f===null?(t.delete(c),o.add(g)):(t.append(c,f),o.delete(g))}}return{[Bg]:!0,values:t,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mu=i=>{var t,o,a,r,c,f;if(typeof globalThis.process<"u")return(a=(o=(t=Qy)===null||t===void 0?void 0:t[i])===null||o===void 0?void 0:o.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(f=(c=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||c===void 0?void 0:c.call(r,i))===null||f===void 0?void 0:f.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Fg;class ds{constructor(t){var o,a,r,c,f,g,y,{baseURL:m=Mu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(o=Mu("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:S="v1beta"}=t,E=ns(t,["baseURL","apiKey","apiVersion"]);const _=Object.assign(Object.assign({apiKey:v,apiVersion:S},E),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=_.baseURL,this.timeout=(a=_.timeout)!==null&&a!==void 0?a:ds.DEFAULT_TIMEOUT,this.logger=(r=_.logger)!==null&&r!==void 0?r:console;const w="warn";this.logLevel=w,this.logLevel=(f=(c=Jm(_.logLevel,"ClientOptions.logLevel",this))!==null&&c!==void 0?c:Jm(Mu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&f!==void 0?f:w,this.fetchOptions=_.fetchOptions,this.maxRetries=(g=_.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=_.fetch)!==null&&y!==void 0?y:uC(),this.encoder=fC,this._options=_,this.apiKey=v,this.apiVersion=S,this.clientAdapter=_.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:o}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const o=bl([t.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return bl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return bl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([o,a])=>typeof a<"u").map(([o,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(o)}=`;throw new $t(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${vo}`}defaultIdempotencyKey(){return`stainless-node-retry-${Q_()}`}makeStatusError(t,o,a,r){return St.generate(t,o,a,r)}buildURL(t,o,a){const r=!this.baseURLOverridden()&&a||this.baseURL,c=j_(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),f=this.defaultQuery();return eC(f)||(o=Object.assign(Object.assign({},f),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(c.search=this.stringifyQuery(o)),c.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const o=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(t,{url:o,options:a}){}get(t,o){return this.methodRequest("get",t,o)}post(t,o){return this.methodRequest("post",t,o)}patch(t,o){return this.methodRequest("patch",t,o)}put(t,o){return this.methodRequest("put",t,o)}delete(t,o){return this.methodRequest("delete",t,o)}methodRequest(t,o,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:o},r)))}request(t,o=null){return new rc(this,this.makeRequest(t,o,void 0))}async makeRequest(t,o,a){var r,c,f;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;o==null&&(o=y),await this.prepareOptions(g);const{req:m,url:v,timeout:S}=await this.buildRequest(g,{retryCount:y-o});await this.prepareRequest(m,{url:v,options:g});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),_=a===void 0?"":`, retryOf: ${a}`,w=Date.now();if(xt(this).debug(`[${E}] sending request`,Ri({retryOfRequestLogID:a,method:g.method,url:v,options:g,headers:m.headers})),!((c=g.signal)===null||c===void 0)&&c.aborted)throw new Ju;const D=new AbortController,N=await this.fetchWithTimeout(v,m,S,D).catch(Yu),B=Date.now();if(N instanceof globalThis.Error){const P=`retrying, ${o} attempts remaining`;if(!((f=g.signal)===null||f===void 0)&&f.aborted)throw new Ju;const X=Fu(N)||/timed? ?out/i.test(String(N)+("cause"in N?String(N.cause):""));if(o)return xt(this).info(`[${E}] connection ${X?"timed out":"failed"} - ${P}`),xt(this).debug(`[${E}] connection ${X?"timed out":"failed"} (${P})`,Ri({retryOfRequestLogID:a,url:v,durationMs:B-w,message:N.message})),this.retryRequest(g,o,a??E);throw xt(this).info(`[${E}] connection ${X?"timed out":"failed"} - error; no more retries left`),xt(this).debug(`[${E}] connection ${X?"timed out":"failed"} (error; no more retries left)`,Ri({retryOfRequestLogID:a,url:v,durationMs:B-w,message:N.message})),X?new Ag:new us({cause:N})}const F=`[${E}${_}] ${m.method} ${v} ${N.ok?"succeeded":"failed"} with status ${N.status} in ${B-w}ms`;if(!N.ok){const P=await this.shouldRetry(N);if(o&&P){const se=`retrying, ${o} attempts remaining`;return await dC(N.body),xt(this).info(`${F} - ${se}`),xt(this).debug(`[${E}] response error (${se})`,Ri({retryOfRequestLogID:a,url:N.url,status:N.status,headers:N.headers,durationMs:B-w})),this.retryRequest(g,o,a??E,N.headers)}const X=P?"error; no more retries left":"error; not retryable";xt(this).info(`${F} - ${X}`);const j=await N.text().catch(se=>Yu(se).message),q=iC(j),Z=q?void 0:j;throw xt(this).debug(`[${E}] response error (${X})`,Ri({retryOfRequestLogID:a,url:N.url,status:N.status,headers:N.headers,message:Z,durationMs:Date.now()-w})),this.makeStatusError(N.status,q,Z,N.headers)}return xt(this).info(F),xt(this).debug(`[${E}] response start`,Ri({retryOfRequestLogID:a,url:N.url,status:N.status,headers:N.headers,durationMs:B-w})),{response:N,options:g,controller:D,requestLogID:E,retryOfRequestLogID:a,startTime:w}}async fetchWithTimeout(t,o,a,r){const c=o||{},{signal:f,method:g}=c,y=ns(c,["signal","method"]),m=this._makeAbort(r);f&&f.addEventListener("abort",m,{once:!0});const v=setTimeout(m,a),S=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,E=Object.assign(Object.assign(Object.assign({signal:r.signal},S?{duplex:"half"}:{}),{method:"GET"}),y);g&&(E.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,E)}finally{clearTimeout(v)}}async shouldRetry(t){const o=t.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,o,a,r){var c;let f;const g=r?.get("retry-after-ms");if(g){const m=parseFloat(g);Number.isNaN(m)||(f=m)}const y=r?.get("retry-after");if(y&&!f){const m=parseFloat(y);Number.isNaN(m)?f=Date.parse(y)-Date.now():f=m*1e3}if(!(f&&0<=f&&f<60*1e3)){const m=(c=t.maxRetries)!==null&&c!==void 0?c:this.maxRetries;f=this.calculateDefaultRetryTimeoutMillis(o,m)}return await oC(f),this.makeRequest(t,o-1,a)}calculateDefaultRetryTimeoutMillis(t,o){const c=o-t,f=Math.min(.5*Math.pow(2,c),8),g=1-Math.random()*.25;return f*g*1e3}async buildRequest(t,{retryCount:o=0}={}){var a,r,c;const f=Object.assign({},t),{method:g,path:y,query:m,defaultBaseURL:v}=f,S=this.buildURL(y,m,v);"timeout"in f&&nC("timeout",f.timeout),f.timeout=(a=f.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:E,body:_}=this.buildBody({options:f}),w=await this.buildHeaders({options:t,method:g,bodyHeaders:E,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:w},f.signal&&{signal:f.signal}),globalThis.ReadableStream&&_ instanceof globalThis.ReadableStream&&{duplex:"half"}),_&&{body:_}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(c=f.fetchOptions)!==null&&c!==void 0?c:{}),url:S,timeout:f.timeout}}async buildHeaders({options:t,method:o,bodyHeaders:a,retryCount:r}){let c={};this.idempotencyHeader&&o!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=t.idempotencyKey);const f=await this.authHeaders(t);let g=bl([c,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),rC()),this._options.defaultHeaders,a,t.headers,f]);return this.validateHeaders(g),g.values}_makeAbort(t){return()=>t.abort()}buildBody({options:{body:t,headers:o}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=bl([o]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:cC(t)}:this.encoder({body:t,headers:a})}}ds.DEFAULT_TIMEOUT=6e4;class lt extends ds{constructor(){super(...arguments),this.interactions=new qg(this)}}Fg=lt;lt.GeminiNextGenAPIClient=Fg;lt.GeminiNextGenAPIClientError=$t;lt.APIError=St;lt.APIConnectionError=us;lt.APIConnectionTimeoutError=Ag;lt.APIUserAbortError=Ju;lt.NotFoundError=Ig;lt.ConflictError=Mg;lt.RateLimitError=Ug;lt.BadRequestError=wg;lt.AuthenticationError=Ng;lt.InternalServerError=kg;lt.PermissionDeniedError=Rg;lt.UnprocessableEntityError=Dg;lt.toFile=vC;lt.Interactions=qg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IC(i,t){const o={},a=u(i,["name"]);return a!=null&&d(o,["_url","name"],a),o}function MC(i,t){const o={},a=u(i,["name"]);return a!=null&&d(o,["_url","name"],a),o}function DC(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&d(o,["sdkHttpResponse"],a),o}function UC(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&d(o,["sdkHttpResponse"],a),o}function kC(i,t,o){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&d(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=u(i,["epochCount"]);t!==void 0&&c!=null&&d(t,["tuningTask","hyperparameters","epochCount"],c);const f=u(i,["learningRateMultiplier"]);if(f!=null&&d(a,["tuningTask","hyperparameters","learningRateMultiplier"],f),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(u(i,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(u(i,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&d(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&d(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(u(i,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(u(i,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(u(i,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(u(i,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(u(i,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return a}function LC(i,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const q=u(i,["validationDataset"]);t!==void 0&&q!=null&&d(t,["supervisedTuningSpec"],Du(q))}else if(r==="PREFERENCE_TUNING"){const q=u(i,["validationDataset"]);t!==void 0&&q!=null&&d(t,["preferenceOptimizationSpec"],Du(q))}else if(r==="DISTILLATION"){const q=u(i,["validationDataset"]);t!==void 0&&q!=null&&d(t,["distillationSpec"],Du(q))}const c=u(i,["tunedModelDisplayName"]);t!==void 0&&c!=null&&d(t,["tunedModelDisplayName"],c);const f=u(i,["description"]);t!==void 0&&f!=null&&d(t,["description"],f);let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const q=u(i,["epochCount"]);t!==void 0&&q!=null&&d(t,["supervisedTuningSpec","hyperParameters","epochCount"],q)}else if(g==="PREFERENCE_TUNING"){const q=u(i,["epochCount"]);t!==void 0&&q!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],q)}else if(g==="DISTILLATION"){const q=u(i,["epochCount"]);t!==void 0&&q!=null&&d(t,["distillationSpec","hyperParameters","epochCount"],q)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const q=u(i,["learningRateMultiplier"]);t!==void 0&&q!=null&&d(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],q)}else if(y==="PREFERENCE_TUNING"){const q=u(i,["learningRateMultiplier"]);t!==void 0&&q!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],q)}else if(y==="DISTILLATION"){const q=u(i,["learningRateMultiplier"]);t!==void 0&&q!=null&&d(t,["distillationSpec","hyperParameters","learningRateMultiplier"],q)}let m=u(o,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const q=u(i,["exportLastCheckpointOnly"]);t!==void 0&&q!=null&&d(t,["supervisedTuningSpec","exportLastCheckpointOnly"],q)}else if(m==="PREFERENCE_TUNING"){const q=u(i,["exportLastCheckpointOnly"]);t!==void 0&&q!=null&&d(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],q)}else if(m==="DISTILLATION"){const q=u(i,["exportLastCheckpointOnly"]);t!==void 0&&q!=null&&d(t,["distillationSpec","exportLastCheckpointOnly"],q)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const q=u(i,["adapterSize"]);t!==void 0&&q!=null&&d(t,["supervisedTuningSpec","hyperParameters","adapterSize"],q)}else if(v==="PREFERENCE_TUNING"){const q=u(i,["adapterSize"]);t!==void 0&&q!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],q)}else if(v==="DISTILLATION"){const q=u(i,["adapterSize"]);t!==void 0&&q!=null&&d(t,["distillationSpec","hyperParameters","adapterSize"],q)}let S=u(o,["config","method"]);if(S===void 0&&(S="SUPERVISED_FINE_TUNING"),S==="SUPERVISED_FINE_TUNING"){const q=u(i,["tuningMode"]);t!==void 0&&q!=null&&d(t,["supervisedTuningSpec","tuningMode"],q)}const E=u(i,["customBaseModel"]);t!==void 0&&E!=null&&d(t,["customBaseModel"],E);let _=u(o,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const q=u(i,["batchSize"]);t!==void 0&&q!=null&&d(t,["supervisedTuningSpec","hyperParameters","batchSize"],q)}let w=u(o,["config","method"]);if(w===void 0&&(w="SUPERVISED_FINE_TUNING"),w==="SUPERVISED_FINE_TUNING"){const q=u(i,["learningRate"]);t!==void 0&&q!=null&&d(t,["supervisedTuningSpec","hyperParameters","learningRate"],q)}const D=u(i,["labels"]);t!==void 0&&D!=null&&d(t,["labels"],D);const N=u(i,["beta"]);t!==void 0&&N!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","beta"],N);const B=u(i,["baseTeacherModel"]);t!==void 0&&B!=null&&d(t,["distillationSpec","baseTeacherModel"],B);const F=u(i,["tunedTeacherModelSource"]);t!==void 0&&F!=null&&d(t,["distillationSpec","tunedTeacherModelSource"],F);const P=u(i,["sftLossWeightMultiplier"]);t!==void 0&&P!=null&&d(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],P);const X=u(i,["outputUri"]);t!==void 0&&X!=null&&d(t,["outputUri"],X);const j=u(i,["encryptionSpec"]);return t!==void 0&&j!=null&&d(t,["encryptionSpec"],j),a}function GC(i,t){const o={},a=u(i,["baseModel"]);a!=null&&d(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&d(o,["preTunedModel"],r);const c=u(i,["trainingDataset"]);c!=null&&KC(c);const f=u(i,["config"]);return f!=null&&kC(f,o),o}function PC(i,t){const o={},a=u(i,["baseModel"]);a!=null&&d(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&d(o,["preTunedModel"],r);const c=u(i,["trainingDataset"]);c!=null&&XC(c,o,t);const f=u(i,["config"]);return f!=null&&LC(f,o,t),o}function OC(i,t){const o={},a=u(i,["name"]);return a!=null&&d(o,["_url","name"],a),o}function HC(i,t){const o={},a=u(i,["name"]);return a!=null&&d(o,["_url","name"],a),o}function VC(i,t,o){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&d(t,["_query","pageSize"],r);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&d(t,["_query","pageToken"],c);const f=u(i,["filter"]);return t!==void 0&&f!=null&&d(t,["_query","filter"],f),a}function zC(i,t,o){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&d(t,["_query","pageSize"],r);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&d(t,["_query","pageToken"],c);const f=u(i,["filter"]);return t!==void 0&&f!=null&&d(t,["_query","filter"],f),a}function qC(i,t){const o={},a=u(i,["config"]);return a!=null&&VC(a,o),o}function BC(i,t){const o={},a=u(i,["config"]);return a!=null&&zC(a,o),o}function FC(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&d(o,["nextPageToken"],r);const c=u(i,["tunedModels"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(g=>Yg(g))),d(o,["tuningJobs"],f)}return o}function YC(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&d(o,["nextPageToken"],r);const c=u(i,["tuningJobs"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(g=>Qu(g))),d(o,["tuningJobs"],f)}return o}function JC(i,t){const o={},a=u(i,["name"]);a!=null&&d(o,["model"],a);const r=u(i,["name"]);return r!=null&&d(o,["endpoint"],r),o}function KC(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),d(o,["examples","examples"],r)}return o}function XC(i,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const f=u(i,["gcsUri"]);t!==void 0&&f!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(r==="PREFERENCE_TUNING"){const f=u(i,["gcsUri"]);t!==void 0&&f!=null&&d(t,["preferenceOptimizationSpec","trainingDatasetUri"],f)}else if(r==="DISTILLATION"){const f=u(i,["gcsUri"]);t!==void 0&&f!=null&&d(t,["distillationSpec","promptDatasetUri"],f)}let c=u(o,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const f=u(i,["vertexDatasetResource"]);t!==void 0&&f!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(c==="PREFERENCE_TUNING"){const f=u(i,["vertexDatasetResource"]);t!==void 0&&f!=null&&d(t,["preferenceOptimizationSpec","trainingDatasetUri"],f)}else if(c==="DISTILLATION"){const f=u(i,["vertexDatasetResource"]);t!==void 0&&f!=null&&d(t,["distillationSpec","promptDatasetUri"],f)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Yg(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&d(o,["name"],r);const c=u(i,["state"]);c!=null&&d(o,["state"],sg(c));const f=u(i,["createTime"]);f!=null&&d(o,["createTime"],f);const g=u(i,["tuningTask","startTime"]);g!=null&&d(o,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&d(o,["endTime"],y);const m=u(i,["updateTime"]);m!=null&&d(o,["updateTime"],m);const v=u(i,["description"]);v!=null&&d(o,["description"],v);const S=u(i,["baseModel"]);S!=null&&d(o,["baseModel"],S);const E=u(i,["_self"]);return E!=null&&d(o,["tunedModel"],JC(E)),o}function Qu(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&d(o,["name"],r);const c=u(i,["state"]);c!=null&&d(o,["state"],sg(c));const f=u(i,["createTime"]);f!=null&&d(o,["createTime"],f);const g=u(i,["startTime"]);g!=null&&d(o,["startTime"],g);const y=u(i,["endTime"]);y!=null&&d(o,["endTime"],y);const m=u(i,["updateTime"]);m!=null&&d(o,["updateTime"],m);const v=u(i,["error"]);v!=null&&d(o,["error"],v);const S=u(i,["description"]);S!=null&&d(o,["description"],S);const E=u(i,["baseModel"]);E!=null&&d(o,["baseModel"],E);const _=u(i,["tunedModel"]);_!=null&&d(o,["tunedModel"],_);const w=u(i,["preTunedModel"]);w!=null&&d(o,["preTunedModel"],w);const D=u(i,["supervisedTuningSpec"]);D!=null&&d(o,["supervisedTuningSpec"],D);const N=u(i,["preferenceOptimizationSpec"]);N!=null&&d(o,["preferenceOptimizationSpec"],N);const B=u(i,["distillationSpec"]);B!=null&&d(o,["distillationSpec"],B);const F=u(i,["tuningDataStats"]);F!=null&&d(o,["tuningDataStats"],F);const P=u(i,["encryptionSpec"]);P!=null&&d(o,["encryptionSpec"],P);const X=u(i,["partnerModelTuningSpec"]);X!=null&&d(o,["partnerModelTuningSpec"],X);const j=u(i,["customBaseModel"]);j!=null&&d(o,["customBaseModel"],j);const q=u(i,["experiment"]);q!=null&&d(o,["experiment"],q);const Z=u(i,["labels"]);Z!=null&&d(o,["labels"],Z);const ce=u(i,["outputUri"]);ce!=null&&d(o,["outputUri"],ce);const se=u(i,["pipelineJob"]);se!=null&&d(o,["pipelineJob"],se);const ae=u(i,["serviceAccount"]);ae!=null&&d(o,["serviceAccount"],ae);const fe=u(i,["tunedModelDisplayName"]);fe!=null&&d(o,["tunedModelDisplayName"],fe);const pe=u(i,["veoTuningSpec"]);return pe!=null&&d(o,["veoTuningSpec"],pe),o}function QC(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&d(o,["name"],r);const c=u(i,["metadata"]);c!=null&&d(o,["metadata"],c);const f=u(i,["done"]);f!=null&&d(o,["done"],f);const g=u(i,["error"]);return g!=null&&d(o,["error"],g),o}function Du(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&d(o,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&d(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $C extends Dn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Ii(Mn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},o),{preTunedModel:r});return c.baseModel=void 0,await this.tuneInternal(c)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),c=await this.tuneMldevInternal(r);let f="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?f=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(f=c.name.split("/operations/")[0]),{name:f,state:Gu.JOB_STATE_QUEUED}}}}async getInternal(t){var o,a,r,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const m=HC(t);return g=ue("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),f.then(v=>Qu(v))}else{const m=OC(t);return g=ue("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),f.then(v=>Yg(v))}}async listInternal(t){var o,a,r,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const m=BC(t);return g=ue("tuningJobs",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),f.then(v=>{const S=YC(v),E=new Sm;return Object.assign(E,S),E})}else{const m=qC(t);return g=ue("tunedModels",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),f.then(v=>{const S=FC(v),E=new Sm;return Object.assign(E,S),E})}}async cancel(t){var o,a,r,c;let f,g="",y={};if(this.apiClient.isVertexAI()){const m=MC(t);return g=ue("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),f.then(v=>{const S=UC(v),E=new Tm;return Object.assign(E,S),E})}else{const m=IC(t);return g=ue("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),f.then(v=>{const S=DC(v),E=new Tm;return Object.assign(E,S),E})}}async tuneInternal(t){var o,a;let r,c="",f={};if(this.apiClient.isVertexAI()){const g=PC(t,t);return c=ue("tuningJobs",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>Qu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,a;let r,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=GC(t);return c=ue("tunedModels",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>QC(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jC{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const ZC=1024*1024*8,WC=3,eA=1e3,tA=2,os="x-goog-upload-status";async function nA(i,t,o){var a;const r=await Jg(i,t,o),c=await r?.json();if(((a=r?.headers)===null||a===void 0?void 0:a[os])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function iA(i,t,o){var a;const r=await Jg(i,t,o),c=await r?.json();if(((a=r?.headers)===null||a===void 0?void 0:a[os])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const f=tg(c),g=new tc;return Object.assign(g,f),g}async function Jg(i,t,o){var a,r;let c=0,f=0,g=new Ou(new Response),y="upload";for(c=i.size;f<c;){const m=Math.min(ZC,c-f),v=i.slice(f,f+m);f+m>=c&&(y+=", finalize");let S=0,E=eA;for(;S<WC&&(g=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(f),"Content-Length":String(m)}}}),!(!((a=g?.headers)===null||a===void 0)&&a[os]));)S++,await lA(E),E=E*tA;if(f+=m,((r=g?.headers)===null||r===void 0?void 0:r[os])!=="active")break;if(c<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function oA(i){return{size:i.size,type:i.type}}function lA(i){return new Promise(t=>setTimeout(t,i))}class aA{async upload(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await nA(t,o,a)}async uploadToFileSearchStore(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await iA(t,o,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await oA(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sA{create(t,o,a){return new rA(t,o,a)}}class rA{constructor(t,o,a){this.url=t,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xm="x-goog-api-key";class uA{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(Xm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Xm,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cA="gl-node/";class dA{get interactions(){var t;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const o=this.httpOptions;o?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const a=new lt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:o?.timeout,maxRetries:(t=o?.retryOptions)===null||t===void 0?void 0:t.attempts});return this._interactions=a.interactions,this._interactions}constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const a=Wy(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new uA(this.apiKey);this.apiClient=new o_({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:cA+"web",uploader:new aA,downloader:new jC}),this.models=new b_(this.apiClient),this.live=new v_(this.apiClient,r,new sA),this.batches=new RS(this.apiClient),this.chats=new cT(this.models,this.apiClient),this.caches=new sT(this.apiClient),this.files=new ET(this.apiClient),this.operations=new __(this.apiClient),this.authTokens=new V_(this.apiClient),this.tunings=new $C(this.apiClient),this.fileSearchStores=new X_(this.apiClient)}}const fA=async(i,t=512)=>new Promise((o,a)=>{const r=new Image;r.onload=()=>{const c=document.createElement("canvas");c.width=t,c.height=t;const f=c.getContext("2d");if(!f)return a("No Canvas Context");f.clearRect(0,0,t,t);const g=r.width/r.height;let y=t,m=t,v=0,S=0;r.width>r.height?(y=t,m=y/g,S=(t-m)/2):(m=t,y=m*g,v=(t-y)/2),f.drawImage(r,v,S,y,m);const E=c.toDataURL("image/png");o({image:E,mask:null,cropInfo:{x:v,y:S,w:y,h:m}})},r.onerror=a,r.src=i}),pA=async(i,t)=>new Promise((o,a)=>{const r=new Image;r.onload=()=>{const c=document.createElement("canvas");c.width=t.w,c.height=t.h;const f=c.getContext("2d");if(!f)return a("No Context");f.drawImage(r,t.x,t.y,t.w,t.h,0,0,t.w,t.h),o(c.toDataURL("image/png"))},r.onerror=a,r.src=i}),Kg=async(i,t,o="9:16",a=!1)=>{try{const r=t.prompt,c=localStorage.getItem("pb_settings");let f="gemini-2.5-flash-image",g="wrapped";if(c){const F=JSON.parse(c);F.selectedModel&&(f=F.selectedModel),F.promptMode&&(g=F.promptMode)}if(a?(f="gemini-3-pro-image-preview",console.log("Using gemini-3-pro-image-preview (Ultra Quality)")):f==="auto"&&(f="gemini-2.5-flash-image",console.log("Auto Mode: Using Gemini 2.5 Flash")),f.startsWith("seedream-")&&!a){console.log(`Using Seedream (BytePlus) | Model: ${f}`);let F=r;g==="wrapped"&&(F=`Consistent character, high quality, photorealistic. ${r}`);try{const P=await fetch("/api/image/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:f,prompt:F,imageBase64:i,refImageBase64:t.refImage||null})});if(!P.ok){const j=await P.json();throw new Error(j.error||"Seedream Generation Failed")}return(await P.json()).imageBase64}catch(P){console.warn("Seedream Failed. Falling back to Gemini 2.5.",P),f="gemini-2.5-flash-image"}}if((f==="gpt-image-1.5"||f.startsWith("gpt-"))&&!a){console.log("Using OpenAI Provider | Size: 512px");try{const{image:P,mask:X,cropInfo:j}=await fA(i,512);let q=r;g==="wrapped"&&(q=`Strictly preserve the exact pose, facial structure, and composition. ${r} . Photorealistic, high fidelity, do not crop, do not zoom.`);const Z=await fetch("/api/image/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-image-1.5",prompt:q,imageBase64:P,maskBase64:X,size:512})});if(!Z.ok){const ae=await Z.json();throw new Error(ae.error||"OpenAI Generation Failed")}const se=(await Z.json()).imageBase64;return await pA(se,j)}catch(P){console.warn("OpenAI Failed. Falling back to Gemini 2.5.",P),f="gemini-2.5-flash-image"}}const y=new dA({apiKey:"AIzaSyDMipIu0LX5Xl6LJS5rQY-DeagkE19fojA"}),m=i.startsWith("data:image/png")?"image/png":"image/jpeg",v=i.split(",")[1];let S="9:16";o==="16:9"&&(S="16:9"),o==="9:16"&&(S="9:16"),o==="3:2"&&(S="4:3"),o==="2:3"&&(S="3:4");const E=async(F,P)=>{const X={aspectRatio:S};P&&(X.imageSize="1K");let j=r;g==="wrapped"&&(j=`Edit the provided photo.
Rules:
- Detect ALL people in the photo and keep the SAME number of people.
- Preserve each persons identity (face, skin tone, age, gender, expression).
- Do not remove, merge, replace, or add any person.
Instruction: ${r}`);const q=[{inlineData:{data:v,mimeType:m}}];if(t.refImage&&t.refImage.trim()!==""){console.log("Adding Reference Image to Prompt Context");const Z=t.refImage.includes(",")?t.refImage.split(",")[1]:t.refImage;q.push({inlineData:{data:Z,mimeType:"image/png"}}),j+=`

[IMPORTANT]: The SECOND image provided is a VISUAL REFERENCE for the style, background, or clothing. Combine the person from the FIRST image with the style/aesthetics of the SECOND image.`}return q.push({text:j}),console.log(`Generating with ${F}... Mode: ${g.toUpperCase()} | RefImage: ${!!t.refImage}`),await y.models.generateContent({model:F,contents:{parts:q},config:{imageConfig:X}})};let _;const w=a?9e4:6e4,D=new AbortController,N=setTimeout(()=>D.abort(),w);try{const F=f.includes("pro")||f==="gemini-3-pro-image-preview";_=await E(F?"gemini-3-pro-image-preview":"gemini-2.5-flash-image",F)}catch(F){if(F.name==="AbortError")throw new Error(`Request timeout (${w}ms). Model ${f} took too long.`);if(console.warn(`Model ${f} failed. Reason:`,F.message),f.includes("pro")||a)console.log("Falling back to gemini-2.5-flash-image..."),_=await E("gemini-2.5-flash-image",!1);else throw F}finally{clearTimeout(N)}const B=_.candidates;if(B&&B.length>0){const F=B[0];if(F.content&&F.content.parts){for(const P of F.content.parts)if(P.inlineData)return`data:${P.inlineData.mimeType||"image/png"};base64,${P.inlineData.data}`;for(const P of F.content.parts)if(P.text)throw console.warn("Gemini returned text only:",P.text),new Error(`AI Generation Refused: ${P.text}`)}if(F.finishReason&&F.finishReason!=="STOP")throw new Error(`Generation blocked. Reason: ${F.finishReason}`)}throw new Error("No image data returned from Gemini (Empty Response)")}catch(r){throw console.error("Gemini Generation Final Error:",r),r}},hA=i=>{if(!i)return"";if(i.startsWith("data:"))return i;const t=i.match(/id=([a-zA-Z0-9_-]+)/)||i.match(/\/d\/([a-zA-Z0-9_-]+)/);return t&&t[1]?`https://lh3.googleusercontent.com/d/${t[1]}`:i};class mA{cache=null;currentUrl=null;pendingPromise=null;async preloadOverlay(t){if(!t||t.trim()==="")return this.clearCache(),null;const o=hA(t);return this.currentUrl===o&&this.cache?(console.log(`[OVERLAY] Cache HIT: ${o.substring(0,30)}...`),this.cache):this.currentUrl===o&&this.pendingPromise?(console.log("[OVERLAY] Awaiting pending load..."),this.pendingPromise):(console.log(`[OVERLAY] Preload START: ${o.substring(0,30)}...`),this.currentUrl=o,this.pendingPromise=new Promise(async(a,r)=>{try{const c=await fetch(o);if(!c.ok)throw new Error(`Failed to fetch overlay: ${c.statusText}`);const f=await c.blob();this.cache&&this.cache instanceof ImageBitmap&&this.cache.close(),this.cache=null;let g;"createImageBitmap"in window?g=await createImageBitmap(f):g=await this.loadImageElement(f),this.cache=g,console.log(`[OVERLAY] Preload DONE. Type: ${g instanceof ImageBitmap?"ImageBitmap":"img element"}`),a(g)}catch(c){console.error("[OVERLAY] Load Error:",c),this.currentUrl=null,this.cache=null,r(c)}finally{this.pendingPromise=null}}),this.pendingPromise)}loadImageElement(t){return new Promise((o,a)=>{const r=new Image,c=URL.createObjectURL(t);r.onload=()=>{URL.revokeObjectURL(c),o(r)},r.onerror=()=>{URL.revokeObjectURL(c),a(new Error("Image element load failed"))},r.src=c})}getOverlay(){return this.cache}clearCache(){this.cache&&this.cache instanceof ImageBitmap&&this.cache.close(),this.cache=null,this.currentUrl=null,this.pendingPromise=null}}const ls=new mA,$u=i=>{if(!i)return"";if(i.startsWith("data:"))return i;const t=i.match(/id=([a-zA-Z0-9_-]+)/)||i.match(/\/d\/([a-zA-Z0-9_-]+)/);return t&&t[1]?`https://lh3.googleusercontent.com/d/${t[1]}`:i},Xg=async(i,t,o,a)=>{const r=document.createElement("canvas");r.width=o,r.height=a;const c=r.getContext("2d");if(!c)throw new Error("Canvas context unavailable");const f=g=>new Promise((y,m)=>{const v=new Image;v.onload=()=>y(v),v.onerror=()=>m(new Error("Base image load error")),v.src=g});try{const g=await f(i),y=Math.max(o/g.width,a/g.height),m=o/2-g.width/2*y,v=a/2-g.height/2*y;if(c.drawImage(g,m,v,g.width*y,g.height*y),t&&t.trim()!=="")try{const S=await ls.preloadOverlay(t);S&&c.drawImage(S,0,0,o,a)}catch(S){console.warn("Failed to apply overlay from cache:",S)}return r.toDataURL("image/jpeg",.95)}catch(g){return console.error("Canvas composition error:",g),i}};var Uu={exports:{}},Qm;function gA(){return Qm||(Qm=1,(function(i){var t=Object.prototype.hasOwnProperty,o="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(o=!1));function r(y,m,v){this.fn=y,this.context=m,this.once=v||!1}function c(y,m,v,S,E){if(typeof v!="function")throw new TypeError("The listener must be a function");var _=new r(v,S||y,E),w=o?o+m:m;return y._events[w]?y._events[w].fn?y._events[w]=[y._events[w],_]:y._events[w].push(_):(y._events[w]=_,y._eventsCount++),y}function f(y,m){--y._eventsCount===0?y._events=new a:delete y._events[m]}function g(){this._events=new a,this._eventsCount=0}g.prototype.eventNames=function(){var m=[],v,S;if(this._eventsCount===0)return m;for(S in v=this._events)t.call(v,S)&&m.push(o?S.slice(1):S);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(v)):m},g.prototype.listeners=function(m){var v=o?o+m:m,S=this._events[v];if(!S)return[];if(S.fn)return[S.fn];for(var E=0,_=S.length,w=new Array(_);E<_;E++)w[E]=S[E].fn;return w},g.prototype.listenerCount=function(m){var v=o?o+m:m,S=this._events[v];return S?S.fn?1:S.length:0},g.prototype.emit=function(m,v,S,E,_,w){var D=o?o+m:m;if(!this._events[D])return!1;var N=this._events[D],B=arguments.length,F,P;if(N.fn){switch(N.once&&this.removeListener(m,N.fn,void 0,!0),B){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,v),!0;case 3:return N.fn.call(N.context,v,S),!0;case 4:return N.fn.call(N.context,v,S,E),!0;case 5:return N.fn.call(N.context,v,S,E,_),!0;case 6:return N.fn.call(N.context,v,S,E,_,w),!0}for(P=1,F=new Array(B-1);P<B;P++)F[P-1]=arguments[P];N.fn.apply(N.context,F)}else{var X=N.length,j;for(P=0;P<X;P++)switch(N[P].once&&this.removeListener(m,N[P].fn,void 0,!0),B){case 1:N[P].fn.call(N[P].context);break;case 2:N[P].fn.call(N[P].context,v);break;case 3:N[P].fn.call(N[P].context,v,S);break;case 4:N[P].fn.call(N[P].context,v,S,E);break;default:if(!F)for(j=1,F=new Array(B-1);j<B;j++)F[j-1]=arguments[j];N[P].fn.apply(N[P].context,F)}}return!0},g.prototype.on=function(m,v,S){return c(this,m,v,S,!1)},g.prototype.once=function(m,v,S){return c(this,m,v,S,!0)},g.prototype.removeListener=function(m,v,S,E){var _=o?o+m:m;if(!this._events[_])return this;if(!v)return f(this,_),this;var w=this._events[_];if(w.fn)w.fn===v&&(!E||w.once)&&(!S||w.context===S)&&f(this,_);else{for(var D=0,N=[],B=w.length;D<B;D++)(w[D].fn!==v||E&&!w[D].once||S&&w[D].context!==S)&&N.push(w[D]);N.length?this._events[_]=N.length===1?N[0]:N:f(this,_)}return this},g.prototype.removeAllListeners=function(m){var v;return m?(v=o?o+m:m,this._events[v]&&f(this,v)):(this._events=new a,this._eventsCount=0),this},g.prototype.off=g.prototype.removeListener,g.prototype.addListener=g.prototype.on,g.prefixed=o,g.EventEmitter=g,i.exports=g})(Uu)),Uu.exports}var vA=gA();const yA=ju(vA);class Qg extends Error{constructor(t){super(t),this.name="TimeoutError"}}class xA extends Error{constructor(t){super(),this.name="AbortError",this.message=t}}const $m=i=>globalThis.DOMException===void 0?new xA(i):new DOMException(i),jm=i=>{const t=i.reason===void 0?$m("This operation was aborted."):i.reason;return t instanceof Error?t:$m(t)};function SA(i,t){const{milliseconds:o,fallback:a,message:r,customTimers:c={setTimeout,clearTimeout}}=t;let f,g;const m=new Promise((v,S)=>{if(typeof o!="number"||Math.sign(o)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${o}\``);if(t.signal){const{signal:_}=t;_.aborted&&S(jm(_)),g=()=>{S(jm(_))},_.addEventListener("abort",g,{once:!0})}if(o===Number.POSITIVE_INFINITY){i.then(v,S);return}const E=new Qg;f=c.setTimeout.call(void 0,()=>{if(a){try{v(a())}catch(_){S(_)}return}typeof i.cancel=="function"&&i.cancel(),r===!1?v():r instanceof Error?S(r):(E.message=r??`Promise timed out after ${o} milliseconds`,S(E))},o),(async()=>{try{v(await i)}catch(_){S(_)}})()}).finally(()=>{m.clear(),g&&t.signal&&t.signal.removeEventListener("abort",g)});return m.clear=()=>{c.clearTimeout.call(void 0,f),f=void 0},m}function TA(i,t,o){let a=0,r=i.length;for(;r>0;){const c=Math.trunc(r/2);let f=a+c;o(i[f],t)<=0?(a=++f,r-=c+1):r=c}return a}class EA{#e=[];enqueue(t,o){o={priority:0,...o};const a={priority:o.priority,id:o.id,run:t};if(this.size===0||this.#e[this.size-1].priority>=o.priority){this.#e.push(a);return}const r=TA(this.#e,a,(c,f)=>f.priority-c.priority);this.#e.splice(r,0,a)}setPriority(t,o){const a=this.#e.findIndex(c=>c.id===t);if(a===-1)throw new ReferenceError(`No promise function with the id "${t}" exists in the queue.`);const[r]=this.#e.splice(a,1);this.enqueue(r.run,{priority:o,id:t})}dequeue(){return this.#e.shift()?.run}filter(t){return this.#e.filter(o=>o.priority===t.priority).map(o=>o.run)}get size(){return this.#e.length}}class bA extends yA{#e;#a;#l=0;#p;#s;#h=0;#n;#r;#t;#m;#i=0;#u;#o;#g;#x=1n;timeout;constructor(t){if(super(),t={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:EA,...t},!(typeof t.intervalCap=="number"&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${t.intervalCap?.toString()??""}\` (${typeof t.intervalCap})`);if(t.interval===void 0||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${t.interval?.toString()??""}\` (${typeof t.interval})`);this.#e=t.carryoverConcurrencyCount,this.#a=t.intervalCap===Number.POSITIVE_INFINITY||t.interval===0,this.#p=t.intervalCap,this.#s=t.interval,this.#t=new t.queueClass,this.#m=t.queueClass,this.concurrency=t.concurrency,this.timeout=t.timeout,this.#g=t.throwOnTimeout===!0,this.#o=t.autoStart===!1}get#S(){return this.#a||this.#l<this.#p}get#T(){return this.#i<this.#u}#E(){this.#i--,this.#c(),this.emit("next")}#b(){this.#y(),this.#v(),this.#r=void 0}get#_(){const t=Date.now();if(this.#n===void 0){const o=this.#h-t;if(o<0)this.#l=this.#e?this.#i:0;else return this.#r===void 0&&(this.#r=setTimeout(()=>{this.#b()},o)),!0}return!1}#c(){if(this.#t.size===0)return this.#n&&clearInterval(this.#n),this.#n=void 0,this.emit("empty"),this.#i===0&&this.emit("idle"),!1;if(!this.#o){const t=!this.#_;if(this.#S&&this.#T){const o=this.#t.dequeue();return o?(this.emit("active"),o(),t&&this.#v(),!0):!1}}return!1}#v(){this.#a||this.#n!==void 0||(this.#n=setInterval(()=>{this.#y()},this.#s),this.#h=Date.now()+this.#s)}#y(){this.#l===0&&this.#i===0&&this.#n&&(clearInterval(this.#n),this.#n=void 0),this.#l=this.#e?this.#i:0,this.#d()}#d(){for(;this.#c(););}get concurrency(){return this.#u}set concurrency(t){if(!(typeof t=="number"&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);this.#u=t,this.#d()}async#C(t){return new Promise((o,a)=>{t.addEventListener("abort",()=>{a(t.reason)},{once:!0})})}setPriority(t,o){this.#t.setPriority(t,o)}async add(t,o={}){return o.id??=(this.#x++).toString(),o={timeout:this.timeout,throwOnTimeout:this.#g,...o},new Promise((a,r)=>{this.#t.enqueue(async()=>{this.#i++;try{o.signal?.throwIfAborted(),this.#l++;let c=t({signal:o.signal});o.timeout&&(c=SA(Promise.resolve(c),{milliseconds:o.timeout})),o.signal&&(c=Promise.race([c,this.#C(o.signal)]));const f=await c;a(f),this.emit("completed",f)}catch(c){if(c instanceof Qg&&!o.throwOnTimeout){a();return}r(c),this.emit("error",c)}finally{this.#E()}},o),this.emit("add"),this.#c()})}async addAll(t,o){return Promise.all(t.map(async a=>this.add(a,o)))}start(){return this.#o?(this.#o=!1,this.#d(),this):this}pause(){this.#o=!0}clear(){this.#t=new this.#m}async onEmpty(){this.#t.size!==0&&await this.#f("empty")}async onSizeLessThan(t){this.#t.size<t||await this.#f("next",()=>this.#t.size<t)}async onIdle(){this.#i===0&&this.#t.size===0||await this.#f("idle")}async#f(t,o){return new Promise(a=>{const r=()=>{o&&!o()||(this.off(t,r),a())};this.on(t,r)})}get size(){return this.#t.size}sizeBy(t){return this.#t.filter(t).length}get pending(){return this.#i}get isPaused(){return this.#o}}const bo=new bA({concurrency:2,interval:6e4,intervalCap:8,carryoverConcurrencyCount:!0});bo.on("active",()=>{console.log(`[Queue Status] Processing: ${bo.pending} | Waiting: ${bo.size}`)});bo.on("next",()=>{console.log(`[Queue Status] Job Completed. Remaining: ${bo.size}`)});const _A="CoroAI_Photobooth_DB",_o="app_data",CA=1,$g=()=>new Promise((i,t)=>{if(!("indexedDB"in window)){t(new Error("Browser does not support IndexedDB"));return}const o=indexedDB.open(_A,CA);o.onupgradeneeded=a=>{const r=a.target.result;r.objectStoreNames.contains(_o)||r.createObjectStore(_o)},o.onsuccess=()=>i(o.result),o.onerror=()=>t(o.error)}),ku=async(i,t)=>{try{const o=await $g();return new Promise((a,r)=>{const c=o.transaction(_o,"readwrite"),g=c.objectStore(_o).put(t,i);g.onsuccess=()=>a(),g.onerror=()=>r(g.error),c.oncomplete=()=>o.close()})}catch(o){console.error(`[IndexedDB] Save Failed for ${i}:`,o)}},AA=async i=>{try{const t=await $g();return new Promise((o,a)=>{const r=t.transaction(_o,"readonly"),f=r.objectStore(_o).get(i);f.onsuccess=()=>o(f.result),f.onerror=()=>a(f.error),r.oncomplete=()=>t.close()})}catch(t){return console.error(`[IndexedDB] Load Failed for ${i}:`,t),null}},Zm=({onStart:i,onGallery:t,onAdmin:o,settings:a,notifications:r=[]})=>{const c=()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen().catch(f=>{console.log(`Error attempting to enable full-screen mode: ${f.message}`)})};return x.jsxs("div",{className:"flex flex-col items-center justify-center w-full min-h-screen relative p-6 md:p-10 text-center overflow-hidden",children:[x.jsxs("div",{className:"absolute top-6 right-6 z-50 flex items-center gap-6",children:[x.jsx("button",{onClick:c,className:"text-gray-500 hover:text-white transition-colors uppercase text-[10px] md:text-sm tracking-widest",children:"FULL SCREEN"}),x.jsx("button",{onClick:o,className:"text-gray-500 hover:text-white transition-colors uppercase text-[10px] md:text-sm tracking-widest",children:"ADMIN"})]}),x.jsxs("div",{className:"relative z-10 mb-12 md:mb-16 animate-pulse px-4",children:[x.jsx("h1",{className:"text-4xl md:text-7xl font-heading font-black neon-text text-white tracking-tighter italic leading-tight mb-4 uppercase",children:a.eventName}),x.jsx("h2",{className:"text-sm md:text-xl tracking-[0.3em] md:tracking-[0.5em] text-purple-400 font-bold uppercase",children:a.eventDescription})]}),x.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row gap-4 md:gap-8 w-full max-w-md md:max-w-none justify-center",children:[x.jsxs("button",{onClick:i,className:"group relative px-8 md:px-12 py-5 md:py-6 bg-purple-600 hover:bg-purple-500 transition-all rounded-none font-heading text-lg md:text-2xl tracking-widest neon-border overflow-hidden",children:[x.jsx("span",{className:"relative z-10 italic",children:"LAUNCH"}),x.jsx("div",{className:"absolute inset-0 bg-white/10 translate-x-[-100%] group-hover:translate-x-0 transition-transform duration-500"})]}),x.jsx("button",{onClick:t,className:"group relative px-8 md:px-12 py-5 md:py-6 border-2 border-white/20 hover:border-white transition-all rounded-none font-heading text-lg md:text-2xl tracking-widest overflow-hidden",children:x.jsx("span",{className:"relative z-10 italic",children:"GALLERY"})})]}),x.jsxs("div",{className:"absolute bottom-0 left-0 w-full z-20 flex flex-col items-center pb-4 pointer-events-none",children:[r.map(f=>x.jsxs("div",{className:"mb-2 bg-black/80 backdrop-blur-md border border-white/10 px-4 py-2 rounded-full flex items-center gap-3 animate-[slideInUp_0.3s_ease-out]",children:[f.status==="processing"&&x.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500 animate-pulse"}),f.status==="completed"&&x.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),f.status==="failed"&&x.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),x.jsxs("span",{className:"text-[10px] font-mono uppercase text-gray-300",children:[f.conceptName," : ",x.jsx("span",{className:f.status==="completed"?"text-green-400":f.status==="failed"?"text-red-400":"text-yellow-400",children:f.status==="completed"?"READY IN GALLERY":f.status.toUpperCase()})]})]},f.id)),x.jsx("div",{className:"mt-2 text-[8px] md:text-xs text-gray-500 tracking-[0.4em] uppercase opacity-50 px-4 font-mono",children:"AI POWERED - COROAI.APP // 2025 GENERATIVE_SYSTEM"})]}),x.jsx("style",{children:`
        @keyframes slideInUp {
          from { transform: translateY(100%); opacity: 0; }
          to { transform: translateY(0); opacity: 1; }
        }
      `})]})},wA=({concepts:i,onSelect:t,onBack:o})=>x.jsxs("div",{className:"w-full min-h-screen flex flex-col items-center p-6 md:p-10 bg-transparent overflow-y-auto font-sans",children:[x.jsxs("div",{className:"flex justify-between items-center w-full mb-4 max-w-6xl shrink-0 z-20",children:[x.jsxs("button",{onClick:o,className:"text-white flex items-center gap-2 hover:text-purple-400 transition-colors uppercase font-bold tracking-widest text-xs md:text-base bg-black/20 px-4 py-2 rounded-full border border-white/10 backdrop-blur-md",children:[x.jsx("svg",{className:"w-5 h-5 md:w-6 md:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"BACK"]}),x.jsxs("div",{className:"text-center",children:[x.jsx("h2",{className:"text-xl md:text-3xl font-heading text-white neon-text italic uppercase bg-black/30 px-4 py-1 rounded-lg backdrop-blur-sm",children:"CHOOSE CONCEPT"}),x.jsx("p",{className:"text-[10px] text-purple-400 tracking-widest uppercase mt-1 drop-shadow-md",children:"Select your transformation"})]}),x.jsx("div",{className:"hidden md:block w-24"})," "]}),x.jsx("div",{className:"flex-1 w-full max-w-6xl flex items-center justify-center py-4",children:x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 w-full animate-[popIn_0.5s_ease-out]",children:i.map(a=>x.jsxs("div",{onClick:()=>t(a),className:"group relative h-[200px] md:h-[280px] cursor-pointer overflow-hidden rounded-xl border-2 border-white/10 hover:border-purple-500 transition-all duration-300 shadow-2xl hover:shadow-[0_0_30px_rgba(168,85,247,0.4)] hover:-translate-y-2 bg-black/40 backdrop-blur-sm",children:[x.jsx("img",{src:a.thumbnail,alt:a.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110 opacity-70 group-hover:opacity-100"}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/20 to-transparent opacity-90"}),x.jsxs("div",{className:"absolute bottom-0 left-0 p-4 w-full flex flex-col gap-1",children:[x.jsx("h3",{className:"text-sm md:text-lg font-heading text-white leading-tight tracking-tight uppercase italic group-hover:neon-text transition-all",children:a.name}),x.jsx("div",{className:"h-0.5 w-8 bg-purple-500 group-hover:w-full transition-all duration-500"}),x.jsx("p",{className:"text-[8px] text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-300 uppercase tracking-widest mt-1",children:"Click to Select"})]}),x.jsx("div",{className:"absolute inset-0 border-2 border-purple-500/0 group-hover:border-purple-500/100 rounded-xl transition-all duration-300"})]},a.id))})})]}),NA=({onCapture:i,onGenerate:t,onBack:o,capturedImage:a,orientation:r,cameraRotation:c=0,aspectRatio:f="9:16",settings:g,onUpdateSettings:y})=>{const m=W.useRef(null),v=W.useRef(null),S=W.useRef(null),E=W.useRef(null),[_,w]=W.useState(null),[D,N]=W.useState(null),[B,F]=W.useState(!1),[P,X]=W.useState(!0),j=W.useCallback(()=>{E.current&&(console.log("Stopping Camera Stream..."),E.current.getTracks().forEach(ne=>{ne.stop(),E.current?.removeTrack(ne)}),E.current=null),m.current&&(m.current.srcObject=null,m.current.load()),F(!1)},[]),q=W.useCallback(async()=>{E.current&&j(),N(null);try{console.log("Starting Camera...");const ne=/Android|iPhone|iPad|iPod/i.test(navigator.userAgent),le={audio:!1,video:{width:ne?{ideal:1080}:{ideal:1920},height:ne?{ideal:1920}:{ideal:1080},facingMode:"user"}},A=await navigator.mediaDevices.getUserMedia(le);E.current=A,m.current&&(m.current.srcObject=A,await m.current.play().catch(z=>console.warn("Autoplay blocked:",z))),F(!0)}catch(ne){console.error("Camera Setup Error:",ne);let le="Failed to access camera.";ne.name==="NotAllowedError"?le="Permission denied. Please allow camera access.":ne.name==="NotFoundError"?le="No camera device found.":ne.name==="NotReadableError"&&(le="Camera is busy."),N(le)}},[j]);W.useEffect(()=>{q();const ne=()=>{document.hidden?j():a||q()};return document.addEventListener("visibilitychange",ne),()=>{j(),document.removeEventListener("visibilitychange",ne)}},[q,j,a]);const ce=(ne=>{const[le,A]=ne.split(":").map(Number);return le/A})(f),se=W.useCallback(()=>{if(m.current&&v.current){const ne=m.current,le=v.current,A=ne.videoWidth,z=ne.videoHeight;if(A===0||z===0)return;const $=1024;let I,H;ce<1?(I=Math.round($*ce),H=$):(I=$,H=Math.round($/ce)),le.width=I,le.height=H;const Q=le.getContext("2d",{willReadFrequently:!1});if(!Q)return;Q.save(),Q.translate(I/2,H/2),Q.rotate(c*Math.PI/180),Q.scale(P?-1:1,1);const re=c%180!==0,ye=re?H:I,Se=re?I:H,ze=Math.max(ye/A,Se/z),qe=A*ze,at=z*ze,gt=-qe/2,vt=-at/2;Q.drawImage(ne,gt,vt,qe,at),Q.restore();const cn=le.toDataURL("image/jpeg",.85);j(),i(cn),t()}},[i,t,c,ce,j,P]),ae=ne=>{const le=ne.target.files?.[0];if(!le)return;j();const A=new FileReader;A.onload=z=>{const $=new Image;$.onload=()=>{if(v.current){const I=v.current,H=I.getContext("2d"),Q=$.width/$.height;let re=0,ye=0,Se=$.width,ze=$.height;Q>ce?(Se=$.height*ce,re=($.width-Se)/2):(ze=$.width/ce,ye=($.height-ze)/2);const qe=1536;let at,gt;if(ce<1?(at=Math.round(qe*ce),gt=qe):(at=qe,gt=Math.round(qe/ce)),I.width=at,I.height=gt,H){H.drawImage($,re,ye,Se,ze,0,0,at,gt);const vt=I.toDataURL("image/jpeg",.95);i(vt),t()}}},$.src=z.target?.result},A.readAsDataURL(le)},fe=()=>{!B&&!E.current?q().then(()=>pe()):pe()},pe=()=>{w(3);const ne=setInterval(()=>{w(le=>le===1?(clearInterval(ne),se(),null):le?le-1:null)},1e3)},ee=()=>{j(),o()},te=()=>{if(!g||!y)return;const le=g.selectedModel==="gemini-3-pro-image-preview"?"gemini-2.5-flash-image":"gemini-3-pro-image-preview";y({...g,selectedModel:le})},me=f.replace(":","/"),U=ce<1,G=g?.enableModelShortcut,oe=g?.selectedModel==="gemini-3-pro-image-preview";return x.jsxs("div",{className:"w-full h-screen flex flex-col items-center justify-center bg-transparent relative overflow-hidden",children:[x.jsxs("div",{className:"absolute top-0 left-0 right-0 p-6 flex justify-between items-center z-40 bg-gradient-to-b from-black/80 to-transparent",children:[x.jsx("button",{onClick:ee,className:"text-white hover:text-purple-400 font-bold tracking-widest uppercase text-xs md:text-base transition-colors bg-black/20 backdrop-blur-sm px-4 py-2 rounded-full border border-white/10",children:"BACK"}),x.jsx("h2",{className:"text-sm md:text-2xl font-heading text-white neon-text italic uppercase drop-shadow-lg",children:"Strike a Pose"}),x.jsx("button",{onClick:()=>X(ne=>!ne),className:"w-10 h-10 md:w-12 md:h-12 flex items-center justify-center rounded-full bg-black/20 backdrop-blur-sm border border-white/10 text-white hover:bg-white/10 hover:text-purple-400 transition-all shadow-lg",title:P?"Disable Mirror":"Enable Mirror",children:P?x.jsx("svg",{className:"w-5 h-5 md:w-6 md:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}):x.jsx("svg",{className:"w-5 h-5 md:w-6 md:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),x.jsxs("div",{className:"relative z-10 flex items-center justify-center w-full h-full max-h-screen p-4 md:p-8",style:{contain:"layout style paint"},children:[D&&!a&&x.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/80 p-6",children:x.jsxs("div",{className:"bg-red-900/20 border border-red-500/50 p-6 rounded-xl text-center max-w-sm backdrop-blur-md",children:[x.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center mx-auto mb-4",children:x.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),x.jsx("h3",{className:"text-white font-heading uppercase tracking-widest mb-2",children:"Camera Error"}),x.jsx("p",{className:"text-gray-300 text-xs font-mono mb-6",children:D}),x.jsx("button",{onClick:q,className:"px-6 py-2 bg-red-600 hover:bg-red-500 text-white font-bold uppercase text-xs rounded transition-colors",children:"Retry Camera"})]})}),a?x.jsx("div",{className:"relative overflow-hidden border-2 border-white/20 rounded-xl",style:{aspectRatio:me,height:U?"100%":"auto",width:U?"auto":"100%",maxHeight:"100%",maxWidth:"100%"},children:x.jsx("img",{src:a,alt:"Capture",className:"w-full h-full object-contain bg-black"})}):x.jsxs("div",{className:"relative overflow-hidden shadow-[0_0_50px_rgba(168,85,247,0.2)] border-2 border-purple-500/30 rounded-xl bg-gray-900 flex items-center justify-center",style:{aspectRatio:me,height:U?"100%":"auto",width:U?"auto":"100%",maxHeight:"100%",maxWidth:"100%",contain:"layout style paint",willChange:"contents"},children:[x.jsx("video",{ref:m,autoPlay:!0,playsInline:!0,muted:!0,onLoadedMetadata:ne=>{ne.target.play().catch(console.error)},className:"absolute inset-0 w-full h-full object-cover will-change-transform",style:{transform:`rotate(${c}deg) scaleX(${P?-1:1})`,transformOrigin:"center center",WebkitTransform:`rotate(${c}deg) scaleX(${P?-1:1})`}}),x.jsx("div",{className:"absolute inset-0 pointer-events-none z-20 flex items-center justify-center opacity-40",style:{contain:"layout style"},children:x.jsx("div",{className:"w-1/2 h-1/3 border border-white/30 rounded-lg flex items-center justify-center",children:x.jsx("div",{className:"w-2 h-2 bg-purple-500/50 rounded-full"})})}),_&&x.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-50 bg-black/60",style:{contain:"layout style"},children:x.jsx("span",{className:"text-[120px] md:text-[250px] font-heading text-white neon-text animate-ping italic",children:_})})]})]}),!_&&!a&&x.jsxs("div",{className:"absolute bottom-10 left-0 right-0 flex justify-center items-center z-50 px-6 gap-8 pointer-events-none",children:[x.jsx("div",{className:"w-16 h-16 md:flex items-center justify-center pointer-events-auto",children:G&&x.jsxs("button",{onClick:te,className:`group flex flex-col items-center justify-center w-14 h-14 md:w-16 md:h-16 rounded-full backdrop-blur-md border-2 transition-all shadow-lg ${oe?"bg-orange-900/40 border-orange-500 shadow-[0_0_15px_rgba(249,115,22,0.4)]":"bg-purple-900/40 border-purple-500 shadow-[0_0_15px_rgba(168,85,247,0.4)]"}`,children:[x.jsx("div",{className:`text-[8px] md:text-[9px] font-bold font-heading uppercase tracking-widest ${oe?"text-orange-200":"text-purple-200"}`,children:oe?"ULTRA":"NORMAL"}),x.jsx("div",{className:`text-[6px] md:text-[7px] font-mono opacity-70 ${oe?"text-orange-300":"text-purple-300"}`,children:oe?"GEN3":"GEN2.5"})]})}),x.jsxs("button",{onClick:fe,className:"group pointer-events-auto relative w-24 h-24 md:w-28 md:h-28 flex items-center justify-center outline-none transition-transform active:scale-95",disabled:!!D,children:[x.jsx("div",{className:`absolute inset-0 border-2 border-dashed ${D?"border-red-500/30":"border-purple-500/30"} rounded-full animate-[spin_10s_linear_infinite]`}),x.jsx("div",{className:`absolute inset-2 border-2 ${D?"border-red-500/20":"border-white/20"} rounded-full group-hover:border-purple-400/50 transition-colors duration-500`}),x.jsx("div",{className:"absolute inset-4 bg-white/5 backdrop-blur-md border border-white/20 rounded-full flex items-center justify-center group-hover:bg-purple-600/20 group-hover:border-purple-400 transition-all duration-300 shadow-[0_0_20px_rgba(255,255,255,0.05)]",children:x.jsx("span",{className:"text-[10px] md:text-xs font-heading font-black text-white tracking-[0.2em] italic group-hover:neon-text",children:"CAPTURE"})})]}),x.jsxs("div",{className:"pointer-events-auto w-16 h-16 md:flex items-center justify-center",children:[x.jsx("button",{onClick:()=>S.current?.click(),className:"w-12 h-12 md:w-16 md:h-16 rounded-full bg-black/40 border border-white/20 backdrop-blur-md flex items-center justify-center hover:bg-white/10 hover:border-purple-500 transition-all group/upload",title:"Upload Image",children:x.jsx("svg",{className:"w-5 h-5 md:w-6 md:h-6 text-white/70 group-hover/upload:text-purple-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),x.jsx("input",{type:"file",accept:"image/*",ref:S,className:"hidden",onChange:ae})]})]}),x.jsx("canvas",{ref:v,className:"hidden"})]})},jg=i=>{const t=document.createElement("iframe");t.style.position="fixed",t.style.right="0",t.style.bottom="0",t.style.width="0",t.style.height="0",t.style.border="0",document.body.appendChild(t);const o=t.contentWindow?.document;o&&(o.open(),o.write(`
            <!DOCTYPE html>
            <html>
            <head>
                <title>Print Photo</title>
                <style>
                    @page { 
                        size: auto; 
                        margin: 0mm; 
                    }
                    body { 
                        margin: 0; 
                        padding: 0; 
                        display: flex; 
                        justify-content: center; 
                        align-items: center; 
                        height: 100vh; 
                        width: 100vw;
                    }
                    img { 
                        max-width: 100%; 
                        max-height: 100%; 
                        object-fit: contain; 
                        display: block;
                    }
                </style>
            </head>
            <body>
                <img src="${i}" id="printImage" />
                <script>
                    const img = document.getElementById('printImage');
                    img.onload = function() {
                        // Tunggu sebentar untuk memastikan render
                        setTimeout(() => {
                            window.focus();
                            window.print();
                        }, 500);
                    };
                <\/script>
            </body>
            </html>
        `),o.close()),setTimeout(()=>{document.body.removeChild(t)},5e3)},RA=({capturedImage:i,concept:t,settings:o,concepts:a,onDone:r,onGallery:c,isUltraQuality:f=!1,existingSession:g})=>{const[y,m]=W.useState(t),[v,S]=W.useState(!0),[E,_]=W.useState(!1),[w,D]=W.useState(null),[N,B]=W.useState(g||null),[F,P]=W.useState(null),[X,j]=W.useState("result"),[q,Z]=W.useState(!1),[ce,se]=W.useState(null),[ae,fe]=W.useState(f),[pe,ee]=W.useState(!1),[te,me]=W.useState(null),[U,G]=W.useState("INITIATING..."),[oe,ne]=W.useState(0),le=W.useRef(null),[A,z]=W.useState(!1),[$,I]=W.useState(!1),[H,Q]=W.useState(null),[re,ye]=W.useState("PREPARING REQUEST...");let Se=1080,ze=1920,qe="9/16";const at=o.outputRatio||"9:16";switch(at){case"16:9":Se=1920,ze=1080,qe="16/9";break;case"9:16":Se=1080,ze=1920,qe="9/16";break;case"3:2":Se=1800,ze=1200,qe="3/2";break;case"2:3":Se=1200,ze=1800,qe="2/3";break}const gt=W.useCallback(async()=>{S(!0),_(!0),me(null),ne(0),D(null),P(null),le.current&&clearInterval(le.current),le.current=setInterval(()=>ne(ie=>ie+1),1e3);try{const ie=N?.id||g?.id,Ae=N?.url||g?.url,Xe=!!ie;let ft;ie&&Ae?ft=Promise.resolve({ok:!0,folderId:ie,folderUrl:Ae}):ft=Dy().then(Ln=>(Ln.ok&&Ln.folderId&&B({id:Ln.folderId,url:Ln.folderUrl}),Ln));const ci=!Xe&&o.originalFolderId?Za(i,{conceptName:"ORIGINAL_CAPTURE",eventName:o.eventName,eventId:o.activeEventId,folderId:o.originalFolderId,skipGallery:!0}):Promise.resolve({ok:!0,id:null}),dn=o.overlayImage?ls.preloadOverlay(o.overlayImage):Promise.resolve(null);G(ae?"GENERATING ULTRA QUALITY (SLOW)...":"GENERATING AI VISUALS...");const nt=await Kg(i,y,at,ae);G("APPLYING FINAL TOUCHES..."),await dn;const Mi=await Xg(nt,o.overlayImage,Se,ze);D(Mi),S(!1),le.current&&clearInterval(le.current);const fn=await ft,Tt=await ci;if(!fn.ok||!fn.folderId)throw new Error("Gagal membuat/akses folder sesi.");const jt=await Za(Mi,{conceptName:y.name,eventName:o.eventName,eventId:o.activeEventId,folderId:fn.folderId,originalId:Tt.id,sessionFolderId:fn.folderId,sessionFolderUrl:fn.folderUrl});jt.ok&&P(jt.id),_(!1)}catch(ie){console.error(ie),me(ie.message||"Processing Failed"),S(!1),_(!1),le.current&&clearInterval(le.current)}},[i,y,o,at,ae,g]);W.useEffect(()=>(gt(),()=>{le.current&&clearInterval(le.current)}),[gt]);const vt=async()=>{if(!F)return;I(!0),ye("CONNECTING TO SERVER...");try{if(!(await Uy(F,{prompt:o.videoPrompt,resolution:o.videoResolution||"480p",model:o.videoModel||"seedance-1-0-pro-fast-251015"})).ok)throw new Error("Queue failed, trying direct API...");ye("VIDEO QUEUED SUCCESSFULLY"),console.log("Video task queued successfully")}catch(Xe){console.warn("Queue failed, attempting fallback...",Xe),ye("TRYING DIRECT RENDER...");try{await fetch("/api/video/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({driveFileId:F,prompt:o.videoPrompt,resolution:o.videoResolution||"480p",model:o.videoModel})}),ye("RENDER STARTED")}catch(ft){console.error("Fallback failed",ft),ye("REQUEST SENT (CHECK GALLERY)")}}let ie=3;Q(ie);const Ae=setInterval(()=>{ie--,Q(ie),ie<=0&&(clearInterval(Ae),r())},1e3)},cn=()=>{ee(ae),Z(!0)},kn=()=>{ce&&(fe(pe),m(ce),Z(!1))},No=()=>{w&&jg(w)};return v?x.jsxs("div",{className:"w-full h-[100dvh] flex flex-col items-center justify-center relative p-6 text-center overflow-hidden bg-black/90 backdrop-blur-md",children:[x.jsxs("div",{className:"absolute inset-0 z-0 flex items-center justify-center p-4",children:[x.jsx("img",{src:i,className:"max-w-full max-h-full object-contain opacity-50 blur-lg",alt:"Preview"}),x.jsx("div",{className:"absolute inset-0 bg-black/60"})]}),x.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[x.jsxs("div",{className:"relative w-40 h-40 md:w-64 md:h-64 mb-8 shrink-0",children:[x.jsx("div",{className:"absolute inset-0 border-[6px] border-white/5 rounded-full"}),x.jsx("div",{className:"absolute inset-0 border-[6px] border-t-purple-500 rounded-full animate-spin shadow-[0_0_30px_rgba(188,19,254,0.4)]"}),x.jsxs("div",{className:"absolute inset-0 flex items-center justify-center flex-col",children:[x.jsx("span",{className:"text-[10px] tracking-[0.3em] text-purple-400 font-bold mb-1 uppercase italic",children:"Processing"}),x.jsxs("span",{className:"text-3xl md:text-5xl font-heading text-white italic",children:[oe,"S"]})]})]}),x.jsxs("div",{className:"max-w-md bg-black/40 backdrop-blur-xl p-6 rounded-3xl border border-white/10 shadow-2xl",children:[x.jsx("h2",{className:"text-xl md:text-2xl font-heading mb-3 neon-text italic uppercase tracking-tighter",children:U}),x.jsx("div",{className:"w-full bg-white/5 h-1 rounded-full overflow-hidden mb-3",children:x.jsx("div",{className:"bg-purple-500 h-full animate-[progress_10s_ease-in-out_infinite]",style:{width:"60%"}})}),x.jsx("p",{className:"text-[8px] text-gray-500 uppercase tracking-widest animate-pulse",children:"Initializing Generative AI System..."})]})]})]}):$?x.jsxs("div",{className:"w-full h-[100dvh] flex flex-col items-center justify-center bg-black/90 p-8 text-center animate-[fadeIn_0.5s] backdrop-blur-xl",children:[x.jsx("div",{className:"w-24 h-24 mb-6 rounded-full border-4 border-purple-500/50 flex items-center justify-center bg-purple-900/20 shadow-[0_0_50px_rgba(168,85,247,0.3)]",children:x.jsx("svg",{className:"w-12 h-12 text-purple-500 animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),x.jsx("h1",{className:"text-3xl md:text-5xl font-heading text-white italic uppercase tracking-tighter mb-4",children:"VIDEO INITIATED"}),x.jsx("p",{className:"text-white/60 font-mono text-sm tracking-widest uppercase mb-8 max-w-lg leading-relaxed",children:re}),H!==null&&x.jsxs("div",{className:"text-purple-400 font-bold tracking-[0.2em] text-xs",children:["REDIRECTING IN ",H,"..."]})]}):te?x.jsxs("div",{className:"w-full h-[100dvh] flex flex-col items-center justify-center bg-transparent text-center p-10",children:[x.jsx("h2",{className:"text-red-500 text-2xl font-heading mb-4 italic",children:"SYSTEM ERROR"}),x.jsx("p",{className:"text-gray-500 mb-8 font-mono text-xs",children:te}),x.jsx("button",{onClick:gt,className:"px-8 py-3 bg-white text-black font-heading uppercase italic tracking-widest",children:"RETRY PROCESS"})]}):x.jsxs("div",{className:"w-full h-[100dvh] flex flex-col bg-transparent overflow-hidden relative font-sans",children:[x.jsxs("div",{className:"relative z-10 w-full h-full flex flex-col items-center p-4 md:p-6 gap-6",children:[x.jsx("div",{className:"flex-1 w-full min-h-0 flex items-center justify-center",children:x.jsxs("div",{className:"relative border-4 border-white/5 shadow-2xl bg-black/50 backdrop-blur-sm rounded-xl overflow-hidden",style:{aspectRatio:qe,maxHeight:"100%",maxWidth:"100%"},children:[x.jsx("img",{src:X==="result"?w:i,className:"w-full h-full object-cover"}),x.jsx("div",{className:"absolute top-4 right-4 z-40",children:x.jsx("button",{onClick:()=>j(ie=>ie==="result"?"original":"result"),className:`backdrop-blur border px-4 py-2 rounded-full font-bold text-[10px] uppercase tracking-widest transition-all ${X==="result"?"bg-purple-900/50 border-purple-500 text-purple-200":"bg-green-900/50 border-green-500 text-green-200"}`,children:X==="result"?" VIEW ORIGINAL":" VIEW RESULT"})}),x.jsxs("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center items-center gap-3 z-30 px-2 flex-wrap",children:[x.jsx("button",{onClick:()=>z(!0),disabled:!N,className:`backdrop-blur-md border px-5 py-4 rounded-full font-heading text-[10px] tracking-[0.2em] uppercase italic flex items-center gap-2 transition-all ${N?"bg-purple-900/30 border-purple-500/50 text-purple-100 hover:bg-purple-600/40":"bg-gray-800/50 border-gray-600 text-gray-400 cursor-wait"}`,children:N?"SESSION QR":"SAVING..."}),o.enablePrint&&x.jsx("button",{onClick:No,className:"backdrop-blur-md bg-cyan-900/30 border border-cyan-500/50 text-cyan-100 px-5 py-4 rounded-full font-heading text-[10px] tracking-[0.2em] uppercase italic flex items-center gap-2 hover:bg-cyan-600/40 shadow-[0_0_15px_rgba(6,182,212,0.3)] transition-all",children:"PRINT"}),x.jsx("button",{onClick:cn,className:"backdrop-blur-md bg-orange-900/30 border border-orange-500/50 text-orange-100 px-5 py-4 rounded-full font-heading text-[10px] tracking-[0.2em] uppercase italic flex items-center gap-2 hover:bg-orange-600/40 transition-all",children:"REGENERATE"}),o.boothMode==="video"&&x.jsx("button",{onClick:vt,disabled:!F,className:`backdrop-blur-md border px-5 py-4 rounded-full font-heading text-[10px] tracking-[0.2em] uppercase italic flex items-center gap-2 shadow-[0_0_20px_rgba(37,99,235,0.4)] ${F?"bg-blue-900/30 border-blue-500/50 text-blue-100 hover:bg-blue-600/40 animate-pulse":"bg-gray-800/50 border-gray-600 text-gray-400 cursor-wait"}`,children:F?"GENERATE VIDEO":"SYNCING..."})]})]})}),x.jsx("div",{className:"relative z-10 flex flex-col items-center gap-2 pb-6",children:x.jsxs("button",{onClick:r,className:"text-gray-500 hover:text-white uppercase tracking-widest text-xs transition-colors flex items-center gap-2",children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Start Over"]})})]}),q&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md p-6 animate-[fadeIn_0.2s]",children:x.jsxs("div",{className:"bg-[#0a0a0a] border border-white/10 rounded-xl w-full max-w-4xl h-[80vh] flex flex-col shadow-2xl relative",children:[x.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center bg-black/50",children:[x.jsx("h2",{className:"text-xl font-heading text-white neon-text uppercase italic",children:"Select New Concept"}),x.jsx("button",{onClick:()=>Z(!1),className:"text-white/50 hover:text-white",children:""})]}),x.jsx("div",{className:"flex-1 overflow-y-auto p-6 grid grid-cols-2 md:grid-cols-3 gap-4",children:a.map(ie=>x.jsxs("div",{onClick:()=>se(ie),className:`relative group cursor-pointer rounded-lg overflow-hidden border transition-all ${ce?.id===ie.id?"border-orange-500 ring-2 ring-orange-500/50":"border-white/10 hover:border-purple-500"}`,children:[x.jsx("img",{src:ie.thumbnail,className:"w-full h-40 object-cover transition-transform group-hover:scale-105"}),ce?.id===ie.id&&x.jsx("div",{className:"absolute inset-0 bg-orange-500/20 flex items-center justify-center",children:x.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center shadow-lg",children:x.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})}),x.jsx("div",{className:"absolute bottom-0 inset-x-0 bg-black/80 p-2 text-center",children:x.jsx("p",{className:"text-[10px] text-white font-bold uppercase truncate",children:ie.name})})]},ie.id))}),x.jsxs("div",{className:"p-6 border-t border-white/10 flex flex-col md:flex-row justify-between gap-4 bg-black/50",children:[x.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group select-none",children:[x.jsx("div",{className:`w-5 h-5 border rounded flex items-center justify-center transition-all ${pe?"bg-purple-600 border-purple-500":"bg-black/50 border-white/20 group-hover:border-purple-400"}`,children:pe&&x.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),x.jsx("input",{type:"checkbox",className:"hidden",checked:pe,onChange:ie=>ee(ie.target.checked)}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("span",{className:`text-xs font-bold uppercase tracking-widest ${pe?"text-purple-300":"text-gray-400 group-hover:text-white"}`,children:"USE ULTRA QUALITY"}),x.jsx("span",{className:"text-[8px] text-gray-500",children:"Warning: Slower generation time"})]})]}),x.jsxs("div",{className:"flex gap-4",children:[x.jsx("button",{onClick:()=>Z(!1),className:"px-6 py-3 rounded-lg text-white/50 hover:text-white text-xs font-bold uppercase tracking-widest",children:"Cancel"}),x.jsx("button",{onClick:kn,disabled:!ce,className:"px-8 py-3 bg-orange-600 hover:bg-orange-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-heading text-xs tracking-widest uppercase rounded shadow-[0_0_20px_rgba(234,88,12,0.3)] transition-all",children:"Confirm Regenerate"})]})]})]})}),A&&N&&x.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-md p-4 animate-[fadeIn_0.3s]",onClick:()=>z(!1),children:x.jsxs("div",{className:"relative bg-[#050505]/95 border border-purple-500/50 p-6 rounded-2xl flex flex-col items-center gap-4 max-w-[280px] w-full shadow-[0_0_80px_rgba(168,85,247,0.4)] backdrop-blur-xl overflow-hidden",onClick:ie=>ie.stopPropagation(),children:[x.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-purple-400/50 shadow-[0_0_10px_#a855f7] animate-[scan_2s_linear_infinite] z-20 pointer-events-none opacity-70"}),x.jsxs("div",{className:"flex flex-col items-center z-10 w-full",children:[x.jsx("h3",{className:"text-white font-heading text-xs tracking-[0.3em] uppercase neon-text",children:"Neural Link"}),x.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-purple-500 to-transparent mt-2 opacity-50"})]}),x.jsxs("div",{className:"relative p-3 bg-white rounded-xl z-10 shadow-inner mt-1",children:[x.jsx("div",{className:"absolute -top-1 -left-1 w-3 h-3 border-t-2 border-l-2 border-purple-500"}),x.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 border-t-2 border-r-2 border-purple-500"}),x.jsx("div",{className:"absolute -bottom-1 -left-1 w-3 h-3 border-b-2 border-l-2 border-purple-500"}),x.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 border-b-2 border-r-2 border-purple-500"}),x.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(N.url)}`,className:"w-32 h-32 object-contain mix-blend-multiply"})]}),x.jsxs("div",{className:"text-center z-10 mt-1",children:[x.jsx("p",{className:"text-purple-300 text-[9px] font-mono tracking-widest uppercase mb-1",children:"SCAN_TO_DOWNLOAD"}),x.jsx("p",{className:"text-gray-500 text-[7px] uppercase tracking-widest",children:"SECURE_CONNECTION_ESTABLISHED"})]}),x.jsx("button",{onClick:()=>z(!1),className:"mt-2 w-full py-2 bg-white/5 hover:bg-white/10 text-white border border-white/10 font-bold uppercase text-[9px] tracking-[0.2em] rounded transition-colors z-10",children:"CLOSE"})]})}),x.jsx("style",{children:`
        @keyframes progress { 0% { width: 0%; } 100% { width: 100%; } }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        @keyframes scan { 0% { top: 0%; opacity: 0; } 10% { opacity: 1; } 90% { opacity: 1; } 100% { top: 100%; opacity: 0; } }
      `})]})},IA=i=>i.imageUrl&&i.imageUrl.startsWith("http")?i.imageUrl.includes("lh3.googleusercontent.com")?`https://drive.google.com/thumbnail?id=${i.id}&sz=w600`:i.imageUrl:`https://drive.google.com/thumbnail?id=${i.id}&sz=w600`,MA=({item:i,settings:t,onClick:o})=>{const[a,r]=W.useState(!1),c=t?.boothMode==="video",f=i.videoStatus==="done"||i.videoStatus==="ready_url",g=i.videoStatus==="uploading",y=i.videoStatus==="processing"||i.videoStatus==="queued",m=i.videoStatus==="failed";return x.jsxs("div",{onClick:()=>!g&&o(i),className:`group relative aspect-[9/16] overflow-hidden bg-white/5 border border-white/10 transition-all duration-300 rounded-lg backdrop-blur-sm
            ${g?"border-indigo-500/50 shadow-[0_0_15px_rgba(99,102,241,0.3)] cursor-wait":y?"border-blue-500/50 shadow-[0_0_15px_rgba(59,130,246,0.3)] cursor-wait":f?"border-green-500/30 hover:border-green-400 shadow-[0_0_5px_rgba(34,197,94,0.2)] hover:shadow-[0_0_20px_rgba(34,197,94,0.4)] cursor-pointer":"hover:border-purple-500 hover:shadow-[0_0_20px_rgba(168,85,247,0.4)] cursor-pointer"}`,children:[!a&&x.jsxs("div",{className:"absolute inset-0 z-10 bg-black/60 flex flex-col items-center justify-center animate-pulse",children:[x.jsx("div",{className:"w-8 h-8 border-2 border-purple-500/50 border-t-purple-500 rounded-full animate-spin mb-2"}),x.jsx("span",{className:"text-[8px] text-purple-400 font-mono tracking-widest uppercase",children:"DOWNLOADING..."})]}),x.jsx("img",{src:IA(i),alt:i.conceptName,loading:"lazy",onLoad:()=>r(!0),className:`w-full h-full object-cover transition-all duration-1000 ${!g&&"group-hover:scale-110"} ${a?"opacity-100":"opacity-0"}`}),g&&x.jsxs("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-[2px] z-30 flex flex-col items-center justify-center animate-fadeIn",children:[x.jsxs("div",{className:"relative mb-3",children:[x.jsx("div",{className:"w-10 h-10 border-4 border-white/10 rounded-full"}),x.jsx("div",{className:"absolute inset-0 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"})]}),x.jsx("span",{className:"text-white text-[10px] font-heading tracking-widest uppercase font-bold text-center px-2 animate-pulse",children:"Uploading..."}),x.jsx("span",{className:"text-indigo-300 text-[8px] font-mono mt-1 text-center tracking-wider",children:"Syncing to Drive"})]}),c&&!g&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"absolute top-2 right-2 z-20 flex flex-col items-end gap-1",children:[f&&x.jsxs("div",{className:"bg-green-600/90 backdrop-blur text-white text-[8px] font-bold px-2 py-1 rounded shadow-lg flex items-center gap-1 border border-green-400/50",children:[x.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})}),x.jsx("span",{children:"VIDEO READY"})]}),y&&x.jsxs("div",{className:"bg-blue-600/90 backdrop-blur text-white text-[8px] font-bold px-2 py-1 rounded shadow-lg flex items-center gap-1 border border-blue-400/50 animate-pulse",children:[x.jsx("div",{className:"w-2 h-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),x.jsx("span",{children:i.videoStatus==="queued"?"QUEUED":"RENDERING"})]}),m&&x.jsx("div",{className:"bg-red-600/90 backdrop-blur text-white text-[8px] font-bold px-2 py-1 rounded shadow-lg border border-red-400/50",children:"VIDEO FAILED"})]}),x.jsx("div",{className:"absolute inset-x-0 bottom-0 bg-gradient-to-t from-black via-black/60 to-transparent p-3 pt-8 pointer-events-none",children:f?x.jsx("div",{className:"h-0.5 w-full bg-green-500 shadow-[0_0_10px_#22c55e]"}):y?x.jsx("div",{className:"w-full bg-blue-900/50 h-0.5 rounded-full overflow-hidden",children:x.jsx("div",{className:"h-full bg-blue-400 animate-[progress_2s_ease-in-out_infinite]",style:{width:"50%"}})}):null})]})]})},DA=({onBack:i,activeEventId:t,onRegenerate:o,concepts:a,settings:r,notifications:c=[],cachedItems:f,onUpdateCache:g})=>{const[y,m]=W.useState(f),[v,S]=W.useState(null),[E,_]=W.useState(f.length===0),[w,D]=W.useState("result"),[N,B]=W.useState(!1),[F,P]=W.useState(!1),[X,j]=W.useState(!1),[q,Z]=W.useState(!1),[ce,se]=W.useState(!1),[ae,fe]=W.useState(!1),[pe,ee]=W.useState(!1),[te,me]=W.useState(""),[U,G]=W.useState(!1),[oe,ne]=W.useState(!1),le=W.useRef(0),A=W.useRef([]);W.useEffect(()=>{A.current=y},[y]),W.useEffect(()=>{let ie,Ae=!0;le.current=0;const Xe=async()=>{if(!Ae)return;if(document.hidden){console.log("[POLL] Gallery Fetch Paused (Hidden)"),ie=setTimeout(Xe,1e4);return}let ft=15e3;try{const ci=await Wm(t,le.current),{items:dn,nextCursor:nt}=ci;dn&&dn.length>0&&(console.log(`[GALLERY] Fetched ${dn.length} items (Since: ${le.current})`),m(Tt=>{const jt=new Map;return Tt.forEach(Zt=>jt.set(Zt.id,Zt)),dn.forEach(Zt=>jt.set(Zt.id,Zt)),Array.from(jt.values()).sort((Zt,Al)=>{const wl=["processing","queued","uploading"],Gn=wl.includes(Zt.videoStatus||""),pt=wl.includes(Al.videoStatus||"");return Gn&&!pt?-1:!Gn&&pt?1:new Date(Al.createdAt).getTime()-new Date(Zt.createdAt).getTime()})})),nt>le.current&&(le.current=nt),_(!1);const Mi=A.current;dn.some(Tt=>Tt.videoStatus==="processing"||Tt.videoStatus==="queued"||Tt.videoStatus==="uploading")||Mi.some(Tt=>Tt.videoStatus==="processing"||Tt.videoStatus==="queued"||Tt.videoStatus==="uploading")?(ft=4e3,console.log("[POLL] Gallery Active. Next: 4s")):console.log("[POLL] Gallery Idle. Next: 15s")}catch(ci){console.error("Gallery fetch error:",ci)}Ae&&(ie=setTimeout(Xe,ft))};return Xe(),()=>{Ae=!1,ie&&clearTimeout(ie)}},[t]),W.useEffect(()=>{if(y.length>0){const ie=y.filter(Ae=>Ae.type!=="video"||Ae.videoStatus==="done"||Ae.videoStatus==="ready_url"||Ae.videoStatus==="uploading");g(ie)}},[y,g]);const z=y.filter(ie=>ie.type!=="video"||ie.videoStatus==="done"||ie.videoStatus==="ready_url"||ie.videoStatus==="uploading"||ie.videoStatus==="processing"||ie.videoStatus==="queued"),$=ie=>{ie.stopPropagation(),!(!v||ce)&&ne(!0)},I=async()=>{if(!v)return;se(!0),ne(!1);const ie=v.id;m(Ae=>Ae.filter(Xe=>Xe.id!==ie)),S(null);try{const Ae=await ky(ie,r?.adminPin||"0000");if(!Ae.ok)throw new Error(Ae.error||"Failed to delete")}catch(Ae){console.error(Ae),alert(`Gagal menghapus foto. Error: ${Ae.message}`)}finally{se(!1)}},H=()=>{ee(!0),me("")},Q=async()=>{if(String(te)!==String(r?.adminPin)){alert("PIN INVALID!");return}G(!0);try{await Ly(te),m([]),g([]),le.current=0,ee(!1)}catch(ie){console.error(ie),alert("Failed to clear gallery.")}finally{G(!1)}},re=async()=>{if(!v||!v.sessionFolderId){alert("Session data incomplete. Cannot generate video.");return}Z(!0);try{const ie=await fetch("/api/video/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({driveFileId:v.id,sessionFolderId:v.sessionFolderId,prompt:r?.videoPrompt,resolution:r?.videoResolution||"480p",model:r?.videoModel||"seedance-1-0-pro-fast-251015"})}),Ae=await ie.json();ie.ok?(m(Xe=>Xe.map(ft=>ft.id===v.id?{...ft,videoStatus:"queued"}:ft)),S(Xe=>Xe?{...Xe,videoStatus:"queued"}:null)):alert(`Failed to start video: ${Ae.error}`)}catch(ie){console.error(ie),alert("Error starting video generation.")}finally{Z(!1)}},ye=ie=>`https://drive.google.com/thumbnail?id=${ie}&sz=w1200`,Se=ie=>`https://drive.google.com/thumbnail?id=${ie}&sz=w1000`,ze=ie=>{if(ie.providerUrl)return`/api/video/proxy?url=${encodeURIComponent(ie.providerUrl)}`;if(ie.videoFileId){const Ae=`https://drive.google.com/uc?export=download&id=${ie.videoFileId}`;return`/api/video/proxy?url=${encodeURIComponent(Ae)}`}return""},qe=ie=>ie.sessionFolderUrl||ie.downloadUrl,at=ie=>{ie.videoStatus!=="uploading"&&(S(ie),D("result"),B(!1),P(!1))},gt=async ie=>{if(!(!v||!v.originalId)){j(!0);try{const Ae=await My(v.originalId);if(Ae){const Xe=v.sessionFolderId&&v.sessionFolderUrl?{id:v.sessionFolderId,url:v.sessionFolderUrl}:void 0;o(Ae,ie,ae,Xe)}else alert("Gagal mengambil foto original. Silakan coba lagi."),j(!1)}catch(Ae){console.error(Ae),alert("Terjadi kesalahan saat memproses regenerasi."),j(!1)}}},vt=()=>{fe(!1),B(!0)},cn=()=>{v&&jg(ye(v.id))},kn=c.filter(ie=>ie.status==="processing"),No=v&&(v.videoStatus==="done"||v.videoStatus==="ready_url");return x.jsxs("div",{className:"w-full min-h-screen flex flex-col p-6 md:p-12 bg-transparent overflow-y-auto font-sans",children:[x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center w-full mb-8 max-w-7xl mx-auto gap-6 shrink-0 relative",children:[x.jsxs("button",{onClick:i,className:"text-white flex items-center gap-3 hover:text-purple-400 uppercase tracking-[0.3em] font-bold transition-all group shrink-0 bg-black/20 backdrop-blur px-4 py-2 rounded-lg",children:[x.jsx("svg",{className:"w-6 h-6 transform group-hover:-translate-x-2 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"BACK"]}),x.jsx("h2",{className:"text-3xl md:text-5xl font-heading text-white neon-text italic uppercase tracking-tighter text-center bg-black/20 backdrop-blur-sm px-6 py-2 rounded-lg",children:"PHOTO GALLERY"}),x.jsxs("button",{onClick:H,className:"flex items-center gap-2 text-red-500 hover:text-red-400 uppercase tracking-widest font-bold text-xs transition-all border border-red-900/30 px-4 py-2 rounded-lg bg-red-900/10 hover:bg-red-900/30 shrink-0 backdrop-blur-md",children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),x.jsx("span",{className:"hidden md:inline",children:"CLEAR GALLERY"})]})]}),x.jsx("div",{className:"flex-1 max-w-7xl mx-auto w-full px-2",children:E&&y.length===0&&kn.length===0?x.jsx("div",{className:"flex justify-center mt-20",children:x.jsx("div",{className:"w-16 h-16 border-4 border-purple-500 rounded-full animate-spin border-t-transparent"})}):x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pb-32 animate-[popIn_0.5s_ease-out]",children:[kn.map(ie=>x.jsxs("div",{className:"aspect-[9/16] bg-black/40 backdrop-blur-md border-2 border-dashed border-white/20 rounded-lg overflow-hidden flex flex-col items-center justify-center p-4 relative animate-pulse shadow-[0_0_20px_rgba(255,255,255,0.05)]",children:[x.jsx("div",{className:"w-12 h-12 rounded-full border-4 border-purple-500 border-t-transparent animate-spin mb-4"}),x.jsx("p",{className:"text-white text-[10px] font-heading tracking-widest text-center uppercase animate-pulse",children:"PHOTO PROCESSING"}),x.jsx("p",{className:"text-purple-400 text-[8px] font-mono mt-2 text-center uppercase tracking-wider",children:ie.conceptName})]},`ghost-${ie.id}`)),z.map((ie,Ae)=>x.jsx(MA,{item:ie,settings:r,onClick:at},ie.id||Ae))]})}),pe&&x.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/95 backdrop-blur-xl p-4 animate-[fadeIn_0.2s]",children:x.jsxs("div",{className:"bg-[#0a0a0a] border border-red-500/30 rounded-xl p-8 max-w-sm w-full flex flex-col items-center gap-6 shadow-[0_0_50px_rgba(239,68,68,0.2)]",children:[x.jsx("div",{className:"w-16 h-16 rounded-full bg-red-900/20 flex items-center justify-center border-2 border-red-500 text-red-500 mb-2",children:x.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),x.jsx("div",{className:"text-center",children:x.jsx("h3",{className:"text-xl font-heading text-red-500 uppercase tracking-widest",children:"SECURITY CHECK"})}),x.jsx("input",{type:"password",className:"w-full bg-black border-2 border-white/10 p-4 text-center text-2xl text-white tracking-[0.5em] focus:border-red-500 outline-none rounded-lg",placeholder:"PIN",value:te,onChange:ie=>me(ie.target.value),maxLength:8}),x.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[x.jsx("button",{onClick:Q,disabled:U,className:"w-full py-4 bg-red-600 hover:bg-red-500 text-white font-bold uppercase tracking-widest rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:U?"DELETING...":"CONFIRM PURGE"}),x.jsx("button",{onClick:()=>ee(!1),disabled:U,className:"w-full py-4 bg-white/5 hover:bg-white/10 text-gray-400 font-bold uppercase tracking-widest rounded-lg transition-all",children:"CANCEL"})]})]})}),oe&&x.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/80 backdrop-blur-md p-4 animate-[fadeIn_0.2s]",onClick:()=>ne(!1),children:x.jsx("div",{className:"bg-[#0a0a0a] border border-red-500/50 rounded-xl p-6 max-w-sm w-full shadow-[0_0_30px_rgba(239,68,68,0.3)] relative",onClick:ie=>ie.stopPropagation(),children:x.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[x.jsx("h3",{className:"text-xl font-heading text-red-500 uppercase italic tracking-widest",children:"DELETE PHOTO?"}),x.jsxs("div",{className:"flex gap-4 w-full mt-4",children:[x.jsx("button",{onClick:()=>ne(!1),className:"flex-1 py-3 bg-white/5 hover:bg-white/10 text-white font-bold uppercase tracking-widest text-[10px] rounded transition-colors border border-white/10",children:"Cancel"}),x.jsx("button",{onClick:I,className:"flex-1 py-3 bg-red-600 hover:bg-red-500 text-white font-bold uppercase tracking-widest text-[10px] rounded transition-colors shadow-lg",children:"Confirm Delete"})]})]})})}),v&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/95 backdrop-blur-xl p-4 md:p-8 animate-[fadeIn_0.2s]",onClick:()=>!N&&!F&&!oe&&S(null),children:x.jsx("div",{className:"relative w-full h-full max-w-6xl max-h-[90vh] flex flex-col bg-black rounded-2xl overflow-hidden border border-white/10 shadow-2xl",onClick:ie=>ie.stopPropagation(),children:x.jsxs("div",{className:"relative flex-1 w-full h-full overflow-hidden flex items-center justify-center bg-black",children:[w==="result"&&x.jsx("img",{src:ye(v.id),className:"w-full h-full object-contain"}),w==="original"&&v.originalId&&x.jsx("img",{src:Se(v.originalId),className:"w-full h-full object-contain"}),w==="video"&&(v.videoFileId||v.providerUrl)&&x.jsx("video",{src:ze(v),controls:!0,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",className:"w-full h-full object-contain"}),w==="result"&&(v.videoStatus==="processing"||v.videoStatus==="queued"||v.videoStatus==="uploading")&&r?.boothMode==="video"&&x.jsxs("div",{className:"absolute top-24 left-6 bg-blue-900/80 backdrop-blur px-6 py-3 rounded-full border border-blue-500/30 flex items-center gap-3 z-30 shadow-[0_0_20px_rgba(37,99,235,0.3)]",children:[x.jsx("div",{className:"w-3 h-3 bg-blue-400 rounded-full animate-pulse shadow-[0_0_10px_rgba(96,165,250,0.8)]"}),x.jsx("span",{className:"text-xs md:text-sm text-white font-bold uppercase tracking-[0.2em] animate-pulse",children:v.videoStatus==="queued"?"Video Queued...":v.videoStatus==="uploading"?"Finalizing Video...":"Video Rendering..."})]}),x.jsxs("div",{className:"absolute top-0 left-0 w-full p-6 bg-gradient-to-b from-black/80 to-transparent flex justify-between items-start z-30 pointer-events-none",children:[x.jsx("div",{className:"pointer-events-auto",children:x.jsx("p",{className:"text-gray-400 text-xs uppercase font-mono tracking-widest mt-1",children:new Date(v.createdAt).toLocaleString()})}),x.jsx("button",{onClick:()=>S(null),className:"pointer-events-auto text-white/70 hover:text-white bg-black/20 hover:bg-red-500/20 rounded-full p-2 transition-all backdrop-blur-md border border-white/10",children:x.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsx("div",{className:"absolute bottom-0 left-0 w-full p-6 pt-12 bg-gradient-to-t from-black/90 via-black/60 to-transparent z-30 flex flex-col gap-4",children:x.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-between gap-4 w-full",children:[x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:$,disabled:ce,className:"flex items-center justify-center w-12 h-12 md:w-auto md:px-6 md:py-4 bg-red-900/20 hover:bg-red-900/40 border border-red-500/30 rounded-xl backdrop-blur-md transition-all text-red-400 hover:text-red-200 text-xs font-bold uppercase tracking-widest shadow-lg disabled:opacity-50 disabled:cursor-wait",children:ce?x.jsx("div",{className:"w-5 h-5 border-2 border-red-500 border-t-transparent rounded-full animate-spin"}):x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),x.jsxs("button",{onClick:()=>P(!0),className:"flex items-center gap-2 px-6 py-4 bg-white/10 hover:bg-white/20 border border-white/20 rounded-xl backdrop-blur-md transition-all text-white text-xs font-bold uppercase tracking-widest shadow-lg",children:[x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4h2v-4zm-6 0H6.4M6 20h2v-4H6v4zm0-6h2v-4H6v4zm6 0h2v-4h-2v4z"})}),"QR CODE"]}),r?.enablePrint&&x.jsxs("button",{onClick:cn,className:"flex items-center gap-2 px-6 py-4 bg-cyan-900/30 hover:bg-cyan-600/40 border border-cyan-500/50 rounded-xl backdrop-blur-md transition-all text-cyan-200 text-xs font-bold uppercase tracking-widest shadow-lg",children:[x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"PRINT"]}),v.originalId&&x.jsxs("button",{onClick:vt,className:"flex items-center gap-2 px-6 py-4 bg-orange-900/40 hover:bg-orange-800/60 border border-orange-500/30 rounded-xl backdrop-blur-md transition-all text-orange-200 text-xs font-bold uppercase tracking-widest shadow-lg",children:[x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"REGENERATE"]})]}),x.jsxs("div",{className:"flex bg-black/40 backdrop-blur-md rounded-xl p-1.5 border border-white/10 shadow-lg",children:[x.jsx("button",{onClick:()=>D("result"),className:`px-6 py-3 rounded-lg text-xs font-bold uppercase tracking-widest transition-all ${w==="result"?"bg-purple-600 text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:"RESULT"}),v.originalId&&x.jsx("button",{onClick:()=>D("original"),className:`px-6 py-3 rounded-lg text-xs font-bold uppercase tracking-widest transition-all ${w==="original"?"bg-green-600 text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:"ORIGINAL"}),r?.boothMode==="video"&&x.jsxs(x.Fragment,{children:[No&&(v.videoFileId||v.providerUrl)&&x.jsxs("button",{onClick:()=>D("video"),className:`flex items-center gap-2 px-6 py-3 rounded-lg text-xs font-bold uppercase tracking-widest transition-all ${w==="video"?"bg-blue-600 text-white shadow-lg":"text-blue-400 hover:text-blue-200"}`,children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"})}),"VIEW VIDEO"]}),(v.videoStatus==="processing"||v.videoStatus==="queued"||v.videoStatus==="uploading")&&x.jsxs("button",{disabled:!0,className:`flex items-center gap-2 px-6 py-3 rounded-lg text-xs font-bold uppercase tracking-widest cursor-not-allowed ${v.videoStatus==="uploading"?"bg-indigo-900/40 border border-indigo-500/50 text-indigo-200":"bg-blue-900/20 border border-blue-500/30 text-blue-300/50"}`,children:[x.jsx("span",{className:"animate-spin h-3 w-3 border-2 border-current border-t-transparent rounded-full"}),v.videoStatus==="queued"?"VIDEO QUEUED":v.videoStatus==="uploading"?"UPLOADING VIDEO...":"VIDEO ON PROCESS"]}),(!v.videoStatus||v.videoStatus==="idle")&&x.jsxs("button",{onClick:re,disabled:q,className:"flex items-center gap-2 px-6 py-3 bg-blue-900/30 hover:bg-blue-800/50 border border-blue-500/30 rounded-lg text-blue-200 text-xs font-bold uppercase tracking-widest transition-all animate-pulse",children:[q?x.jsx("span",{className:"animate-spin h-3 w-3 border-2 border-current border-t-transparent rounded-full"}):x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"GENERATE VIDEO"]})]})]})]})})]})})}),N&&x.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/90 backdrop-blur-md p-6 animate-[fadeIn_0.2s]",children:x.jsxs("div",{className:"bg-[#0a0a0a] border border-white/10 rounded-xl w-full max-w-4xl h-[80vh] flex flex-col shadow-2xl relative",children:[x.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center bg-black/50",children:[x.jsx("h2",{className:"text-xl font-heading text-white neon-text uppercase italic",children:"Select New Concept"}),x.jsx("button",{onClick:()=>B(!1),className:"text-white/50 hover:text-white",children:""})]}),X?x.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-4",children:[x.jsx("div",{className:"w-12 h-12 border-4 border-purple-500 rounded-full animate-spin border-t-transparent"}),x.jsx("p",{className:"text-purple-300 font-mono text-xs uppercase tracking-widest",children:"Preparing Original Image..."})]}):x.jsx("div",{className:"flex-1 overflow-y-auto p-6 grid grid-cols-2 md:grid-cols-3 gap-4",children:a.map(ie=>x.jsxs("div",{onClick:()=>gt(ie),className:"relative group cursor-pointer rounded-lg overflow-hidden border border-white/10 hover:border-purple-500 transition-all",children:[x.jsx("img",{src:ie.thumbnail,className:"w-full h-40 object-cover transition-transform group-hover:scale-105"}),x.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:x.jsx("span",{className:"text-white font-heading text-sm uppercase",children:"SELECT"})}),x.jsx("div",{className:"absolute bottom-0 inset-x-0 bg-black/80 p-2 text-center",children:x.jsx("p",{className:"text-[10px] text-white font-bold uppercase truncate",children:ie.name})})]},ie.id))}),!X&&x.jsxs("div",{className:"p-6 border-t border-white/10 flex flex-col md:flex-row justify-between gap-4 bg-black/50",children:[x.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group select-none",children:[x.jsx("div",{className:`w-5 h-5 border rounded flex items-center justify-center transition-all ${ae?"bg-purple-600 border-purple-500":"bg-black/50 border-white/20 group-hover:border-purple-400"}`,children:ae&&x.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),x.jsx("input",{type:"checkbox",className:"hidden",checked:ae,onChange:ie=>fe(ie.target.checked)}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("span",{className:`text-xs font-bold uppercase tracking-widest ${ae?"text-purple-300":"text-gray-400 group-hover:text-white"}`,children:"USE ULTRA QUALITY"}),x.jsx("span",{className:"text-[8px] text-gray-500",children:"Warning: Slower generation time"})]})]}),x.jsx("button",{onClick:()=>B(!1),className:"px-6 py-3 rounded-lg text-white/50 hover:text-white text-xs font-bold uppercase tracking-widest md:ml-auto",children:"Cancel"})]})]})}),F&&v&&x.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center bg-black/90 backdrop-blur-md p-6 animate-[fadeIn_0.2s]",onClick:()=>P(!1),children:x.jsxs("div",{className:"bg-[#0a0a0a] border border-white/10 rounded-xl p-6 max-w-sm w-full flex flex-col items-center gap-6 shadow-2xl relative",onClick:ie=>ie.stopPropagation(),children:[x.jsx("h3",{className:"text-xl font-heading text-white neon-text uppercase tracking-widest",children:"SCAN TO DOWNLOAD"}),x.jsx("div",{className:"bg-white p-2 rounded-lg",children:x.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(qe(v))}`,alt:"QR Code",className:"w-48 h-48 object-contain"})}),x.jsx("p",{className:"text-gray-500 text-xs font-mono text-center",children:"Scan this QR code to download the image directly to your device."}),x.jsx("button",{onClick:()=>P(!1),className:"w-full py-3 bg-white/10 hover:bg-white/20 text-white font-bold uppercase tracking-widest rounded-lg transition-colors",children:"CLOSE"})]})}),x.jsx("style",{children:`
        @keyframes progress { 0% { width: 0%; } 100% { width: 100%; } }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
      `})]})},UA=({settings:i,concepts:t,onSaveSettings:o,onSaveConcepts:a,onBack:r,onLaunchMonitor:c})=>{const[f,g]=W.useState(!1),[y,m]=W.useState(""),[v,S]=W.useState(i),[E,_]=W.useState(t),[w,D]=W.useState(""),[N,B]=W.useState("settings"),[F,P]=W.useState(!1),[X,j]=W.useState(!1),[q,Z]=W.useState(!1),[ce,se]=W.useState(!1),ae=W.useRef(null),fe=W.useRef(null),pe=W.useRef(null);W.useEffect(()=>{const I=localStorage.getItem("APPS_SCRIPT_BASE_URL")||yo;D(I)},[]),W.useEffect(()=>{_(t)},[t]),W.useEffect(()=>{S(I=>{const H={...i};return H.cameraRotation===void 0&&(H.cameraRotation=0),H.selectedModel||(H.selectedModel="gemini-2.5-flash-image"),H.outputRatio||(H.outputRatio="9:16"),H.folderId===void 0&&(H.folderId=""),H.originalFolderId===void 0&&(H.originalFolderId=""),H.spreadsheetId===void 0&&(H.spreadsheetId=""),H.videoPrompt===void 0&&(H.videoPrompt="Cinematic slow motion, subtle movement, 4k high quality, looping background"),H.boothMode===void 0&&(H.boothMode="video"),H.monitorImageSize||(H.monitorImageSize="medium"),H.monitorTheme||(H.monitorTheme="physics"),H.adminPin||(H.adminPin="1234"),H.enableOpenAI===void 0&&(H.enableOpenAI=!1),H.gptModelSize||(H.gptModelSize="1024"),H.processingMode||(H.processingMode="normal"),H.videoResolution||(H.videoResolution="480p"),H.videoModel||(H.videoModel="seedance-1-0-pro-fast-251015"),H.backgroundVideoUrl===void 0&&(H.backgroundVideoUrl=null),H.promptMode===void 0&&(H.promptMode="wrapped"),H.enableModelShortcut===void 0&&(H.enableModelShortcut=!1),H.enablePrint===void 0&&(H.enablePrint=!1),H})},[i]);const ee=()=>{y===i.adminPin?g(!0):(alert("INVALID SECURITY PIN"),m(""))},te=async()=>{localStorage.setItem("APPS_SCRIPT_BASE_URL",w),await Gy(v,i.adminPin)?(o(v),alert("Settings saved and synced to cloud")):(o(v),alert("Settings saved locally (Cloud sync might have failed)"))},me=I=>{const H=I==="9:16"||I==="2:3";S(Q=>({...Q,outputRatio:I,orientation:H?"portrait":"landscape"}))},U=I=>{S(H=>({...H,monitorTheme:I}))},G=()=>{const I=`concept_${Date.now()}`,H={id:I,name:"NEW CONCEPT",prompt:"Describe the transformation here...",thumbnail:"https://picsum.photos/seed/"+I+"/300/500"};_(Q=>[...Q,H])},oe=I=>{_(H=>H.filter((Q,re)=>re!==I))},ne=(I,H,Q)=>{_(re=>re.map((ye,Se)=>Se===I?{...ye,[H]:Q}:ye))},le=(I,H)=>{_(Q=>Q.map((re,ye)=>ye===I?{...re,thumbnail:H}:re))},A=(I,H)=>{_(Q=>Q.map((re,ye)=>ye===I?{...re,refImage:H}:re))},z=I=>{_(H=>H.map((Q,re)=>{if(re===I){const{refImage:ye,...Se}=Q;return Se}return Q}))},$=async()=>{se(!0);try{await Py(E,i.adminPin)?(a(E),alert("All concepts updated on cloud and local archive")):alert("Cloud sync failed. Check your Apps Script URL.")}finally{se(!1)}};return f?x.jsxs("div",{className:"w-full min-h-screen flex flex-col p-6 md:p-10 bg-transparent overflow-y-auto",children:[x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-10 max-w-7xl mx-auto w-full border-b border-white/5 pb-10 gap-8 bg-black/40 backdrop-blur-md p-6 rounded-xl",children:[x.jsx("h2",{className:"text-2xl font-heading text-white neon-text italic uppercase",children:"SYSTEM_ROOT"}),x.jsx("div",{className:"flex bg-white/5 p-1 rounded-xl",children:["settings","concepts"].map(I=>x.jsx("button",{onClick:()=>B(I),className:`px-6 py-3 rounded-lg text-[10px] font-bold tracking-[0.3em] uppercase transition-all ${N===I?"bg-purple-600 text-white shadow-xl shadow-purple-900/40":"text-gray-500 hover:text-white"}`,children:I},I))}),x.jsx("button",{onClick:()=>g(!1),className:"px-10 py-4 border-2 border-red-900/40 text-red-500 uppercase tracking-widest text-xs italic hover:bg-red-900/10 rounded-lg transition-colors",children:"Disconnect"})]}),x.jsxs("div",{className:"max-w-7xl mx-auto w-full pb-24",children:[x.jsx("div",{className:"flex justify-end mb-8",children:x.jsxs("button",{onClick:c,className:"flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-blue-900 to-purple-900 border border-blue-500/30 hover:border-blue-400 text-blue-200 font-heading tracking-[0.2em] uppercase rounded-lg shadow-lg hover:shadow-blue-500/20 transition-all backdrop-blur-md",children:[x.jsx("svg",{className:"w-5 h-5 animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"LAUNCH LIVE MONITOR"]})}),N==="settings"&&x.jsx("div",{className:"flex flex-col gap-10",children:x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[x.jsxs("div",{className:"glass-card p-6 md:p-10 flex flex-col gap-8 h-fit backdrop-blur-md bg-black/60 rounded-xl border border-white/10",children:[x.jsx("h3",{className:"font-heading text-xl text-purple-400 border-b border-white/5 pb-4 uppercase italic",children:"Global Identity"}),x.jsxs("div",{className:"flex flex-col gap-4 mb-4 bg-purple-900/10 p-5 rounded-lg border border-purple-500/20",children:[x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsx("label",{className:"text-[10px] text-purple-400 uppercase tracking-widest font-bold",children:"BOOTH MODE"}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("button",{onClick:()=>S({...v,boothMode:"photo"}),className:`py-3 border border-white/10 rounded font-mono text-xs transition-all uppercase flex flex-col items-center gap-1 ${v.boothMode==="photo"?"bg-pink-600 text-white shadow-lg border-pink-400":"bg-black/50 text-gray-400 hover:bg-white/5"}`,children:[x.jsx("span",{className:"font-bold",children:"PHOTOBOOTH MODE"}),x.jsx("span",{className:"text-[8px] opacity-60",children:"Photos Only"})]}),x.jsxs("button",{onClick:()=>S({...v,boothMode:"video"}),className:`py-3 border border-white/10 rounded font-mono text-xs transition-all uppercase flex flex-col items-center gap-1 ${v.boothMode==="video"?"bg-blue-600 text-white shadow-lg border-blue-400":"bg-black/50 text-gray-400 hover:bg-white/5"}`,children:[x.jsx("span",{className:"font-bold",children:"VIDEOBOOTH MODE"}),x.jsx("span",{className:"text-[8px] opacity-60",children:"Photos + Video"})]})]})]}),x.jsx("div",{className:"h-px bg-white/10 w-full my-1"}),x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsx("label",{className:"text-[10px] text-purple-400 uppercase tracking-widest font-bold",children:"Kiosk Processing Mode"}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("button",{onClick:()=>S({...v,processingMode:"normal"}),className:`py-3 border border-white/10 rounded font-mono text-xs transition-all uppercase flex flex-col items-center gap-1 ${v.processingMode==="normal"?"bg-purple-600 text-white shadow-lg border-purple-400":"bg-black/50 text-gray-400 hover:bg-white/5"}`,children:[x.jsx("span",{className:"font-bold",children:"NORMAL MODE"}),x.jsx("span",{className:"text-[8px] opacity-60",children:"Instant Preview"})]}),x.jsxs("button",{onClick:()=>S({...v,processingMode:"fast"}),className:`py-3 border border-white/10 rounded font-mono text-xs transition-all uppercase flex flex-col items-center gap-1 ${v.processingMode==="fast"?"bg-green-600 text-white shadow-lg border-green-400":"bg-black/50 text-gray-400 hover:bg-white/5"}`,children:[x.jsx("span",{className:"font-bold",children:"FAST MODE"}),x.jsx("span",{className:"text-[8px] opacity-60",children:"Background Queue"})]})]})]}),x.jsxs("p",{className:"text-[9px] text-gray-400 mt-1 italic leading-relaxed",children:["* ",x.jsx("strong",{children:"Photobooth Mode:"})," No video generation buttons.",x.jsx("br",{}),"* ",x.jsx("strong",{children:"Videobooth Mode (Fast):"}),' "Generate Video" button moves to Gallery.']})]}),x.jsxs("div",{className:"flex flex-col gap-3",children:[x.jsx("label",{className:"text-[10px] text-gray-500 uppercase tracking-widest font-bold",children:"Event Name"}),x.jsx("input",{className:"bg-black/50 border border-white/10 p-4 font-mono text-xs text-white focus:border-purple-500 outline-none transition-colors rounded-lg",value:v.eventName,onChange:I=>S({...v,eventName:I.target.value})})]}),x.jsxs("div",{className:"flex flex-col gap-3",children:[x.jsx("label",{className:"text-[10px] text-gray-500 uppercase tracking-widest font-bold",children:"Event Description"}),x.jsx("input",{className:"bg-black/50 border border-white/10 p-4 font-mono text-xs text-white focus:border-purple-500 outline-none transition-colors rounded-lg",value:v.eventDescription,onChange:I=>S({...v,eventDescription:I.target.value})})]}),x.jsxs("div",{className:"flex flex-col gap-3",children:[x.jsx("label",{className:"text-[10px] text-gray-500 uppercase tracking-widest font-bold",children:"Generated Result Folder ID"}),x.jsx("input",{className:"bg-black/50 border border-white/10 p-4 font-mono text-xs text-purple-300 focus:border-purple-500 outline-none transition-colors rounded-lg",value:v.folderId,onChange:I=>S({...v,folderId:I.target.value}),placeholder:"Enter Folder ID for AI Results"})]}),x.jsxs("div",{className:"flex flex-col gap-3",children:[x.jsx("label",{className:"text-[10px] text-green-500 uppercase tracking-widest font-bold",children:"Original Capture Folder ID (Raw)"}),x.jsx("input",{className:"bg-black/50 border border-white/10 p-4 font-mono text-xs text-green-300 focus:border-green-500 outline-none transition-colors rounded-lg",value:v.originalFolderId||"",onChange:I=>S({...v,originalFolderId:I.target.value}),placeholder:"Enter Folder ID for Original Raw Photos (Optional)"}),x.jsx("p",{className:"text-[9px] text-gray-500",children:"* Leave blank if you don't want to save originals. Saved originals will NOT appear in the gallery."})]}),x.jsx("h3",{className:"font-heading text-xl text-purple-400 border-b border-white/5 pb-4 mt-6 uppercase italic",children:"AI Model Configuration"}),x.jsxs("div",{className:"flex flex-col gap-2 bg-purple-900/10 p-4 rounded border border-purple-500/20 mb-4",children:[x.jsx("label",{className:"text-[10px] text-purple-400 uppercase tracking-widest font-bold",children:"Prompt Mode"}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("button",{onClick:()=>S({...v,promptMode:"wrapped"}),className:`py-3 border border-white/10 rounded font-mono text-xs transition-all uppercase flex flex-col items-center gap-1 ${v.promptMode==="wrapped"?"bg-purple-600 text-white shadow-lg border-purple-400":"bg-black/50 text-gray-400 hover:bg-white/5"}`,children:[x.jsx("span",{className:"font-bold",children:"WRAPPED (SAFE)"}),x.jsx("span",{className:"text-[8px] opacity-60",children:"Strict Face Lock"})]}),x.jsxs("button",{onClick:()=>S({...v,promptMode:"raw"}),className:`py-3 border border-white/10 rounded font-mono text-xs transition-all uppercase flex flex-col items-center gap-1 ${v.promptMode==="raw"?"bg-orange-600 text-white shadow-lg border-orange-400":"bg-black/50 text-gray-400 hover:bg-white/5"}`,children:[x.jsx("span",{className:"font-bold",children:"RAW (CREATIVE)"}),x.jsx("span",{className:"text-[8px] opacity-60",children:"Direct Prompting"})]})]}),x.jsxs("p",{className:"text-[9px] text-gray-500 mt-1 italic",children:["* ",x.jsx("strong",{children:"Wrapped:"})," Adds system instruction to preserve identity strictly. ",x.jsx("br",{}),"* ",x.jsx("strong",{children:"Raw:"})," Sends prompt exactly as written. Better for style changes, riskier for likeness."]})]}),x.jsxs("div",{className:"flex items-center justify-between bg-white/5 p-4 rounded border border-white/10 mb-4",children:[x.jsx("label",{className:"text-[10px] text-gray-400 uppercase tracking-widest font-bold",children:"Enable OpenAI Provider"}),x.jsx("div",{className:"flex items-center",children:x.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-green-600 cursor-pointer",checked:v.enableOpenAI??!1,onChange:I=>S({...v,enableOpenAI:I.target.checked})})})]}),x.jsxs("div",{className:"flex items-center justify-between bg-white/5 p-4 rounded border border-white/10 mb-4",children:[x.jsxs("div",{className:"flex flex-col",children:[x.jsx("label",{className:"text-[10px] text-orange-400 uppercase tracking-widest font-bold",children:"Enable Camera Model Shortcut"}),x.jsx("span",{className:"text-[8px] text-gray-500",children:'Adds "Normal/Ultra" toggle button on Camera screen'})]}),x.jsx("div",{className:"flex items-center",children:x.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-orange-600 cursor-pointer",checked:v.enableModelShortcut??!1,onChange:I=>S({...v,enableModelShortcut:I.target.checked})})})]}),x.jsxs("div",{className:"flex items-center justify-between bg-white/5 p-4 rounded border border-white/10 mb-4",children:[x.jsxs("div",{className:"flex flex-col",children:[x.jsx("label",{className:"text-[10px] text-cyan-400 uppercase tracking-widest font-bold",children:"Enable Direct Printing"}),x.jsx("span",{className:"text-[8px] text-gray-500",children:"Show Print button in Result and Gallery screens"})]}),x.jsx("div",{className:"flex items-center",children:x.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-cyan-600 cursor-pointer",checked:v.enablePrint??!1,onChange:I=>S({...v,enablePrint:I.target.checked})})})]}),v.enableOpenAI&&x.jsxs("div",{className:"flex flex-col gap-3 mb-6 bg-green-900/10 p-4 rounded border border-green-500/20",children:[x.jsx("label",{className:"text-[10px] text-green-500 uppercase tracking-widest font-bold",children:"OpenAI GPT-1.5 Render Size (Speed Control)"}),x.jsx("div",{className:"grid grid-cols-3 gap-3",children:["512","720","1024"].map(I=>x.jsxs("button",{onClick:()=>S({...v,gptModelSize:I}),className:`py-2 border rounded font-mono text-xs transition-all uppercase ${v.gptModelSize===I?"bg-green-600 text-white border-green-400":"bg-black/50 text-gray-400 border-white/10 hover:bg-white/5"}`,children:[I,"px"]},I))}),x.jsx("p",{className:"text-[9px] text-gray-500",children:"* Lower resolution = Faster generation. Aspect ratio is preserved within this box."})]}),x.jsxs("div",{className:"flex flex-col gap-3",children:[x.jsx("label",{className:"text-[10px] text-gray-500 uppercase tracking-widest font-bold",children:"Image Generation Model"}),x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[x.jsxs("button",{onClick:()=>S({...v,selectedModel:"gemini-2.5-flash-image"}),className:`py-4 border border-white/10 rounded font-mono text-xs transition-all flex flex-col items-center gap-1 ${v.selectedModel==="gemini-2.5-flash-image"?"bg-purple-600 text-white shadow-lg border-purple-400":"bg-black/50 text-gray-400 hover:bg-white/5"}`,children:[x.jsx("span",{className:"text-sm font-bold",children:"GEN2"}),x.jsx("span",{className:"text-[8px] opacity-70 uppercase",children:"FAST (FLASH)"})]}),x.jsxs("button",{onClick:()=>S({...v,selectedModel:"auto"}),className:`py-4 border border-white/10 rounded font-mono text-xs transition-all flex flex-col items-center gap-1 ${v.selectedModel==="auto"?"bg-blue-600 text-white shadow-lg border-blue-400":"bg-black/50 text-gray-400 hover:bg-white/5"}`,children:[x.jsx("span",{className:"text-sm font-bold",children:"AUTO"}),x.jsx("span",{className:"text-[8px] opacity-70 uppercase",children:"SMART DETECT"})]}),x.jsxs("button",{onClick:()=>S({...v,selectedModel:"gemini-3-pro-image-preview"}),className:`py-4 border border-white/10 rounded font-mono text-xs transition-all flex flex-col items-center gap-1 ${v.selectedModel==="gemini-3-pro-image-preview"?"bg-purple-600 text-white shadow-lg border-purple-400":"bg-black/50 text-gray-400 hover:bg-white/5"}`,children:[x.jsx("span",{className:"text-sm font-bold",children:"GEN 3"}),x.jsx("span",{className:"text-[8px] opacity-70 uppercase",children:"QUALITY (PRO)"})]}),x.jsxs("button",{onClick:()=>S({...v,selectedModel:"seedream-4-5-251128"}),className:`py-4 border border-white/10 rounded font-mono text-xs transition-all flex flex-col items-center gap-1 ${v.selectedModel==="seedream-4-5-251128"?"bg-orange-600 text-white shadow-lg border-orange-400":"bg-black/50 text-gray-400 hover:bg-white/5"}`,children:[x.jsx("span",{className:"text-sm font-bold",children:"SEEDREAM"}),x.jsx("span",{className:"text-[8px] opacity-70 uppercase",children:"BYTEPLUS 4.5"})]}),v.enableOpenAI&&x.jsxs("button",{onClick:()=>S({...v,selectedModel:"gpt-image-1.5"}),className:`py-4 border border-white/10 rounded font-mono text-xs transition-all flex flex-col items-center gap-1 ${v.selectedModel==="gpt-image-1.5"?"bg-green-600 text-white shadow-lg border-green-400":"bg-black/50 text-gray-400 hover:bg-white/5"}`,children:[x.jsx("span",{className:"text-sm font-bold",children:"GP5"}),x.jsx("span",{className:"text-[8px] opacity-70 uppercase",children:"OPENAI"})]})]})]}),x.jsx("h3",{className:"font-heading text-xl text-purple-400 border-b border-white/5 pb-4 mt-6 uppercase italic",children:"Video Generation (Seedance)"}),x.jsxs("div",{className:"flex flex-col gap-3",children:[x.jsx("label",{className:"text-[10px] text-gray-500 uppercase tracking-widest font-bold",children:"Video Model Version"}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("button",{onClick:()=>S({...v,videoModel:"seedance-1-0-pro-fast-251015"}),className:`py-4 border border-white/10 rounded font-mono text-xs transition-all uppercase flex flex-col items-center gap-1 ${v.videoModel==="seedance-1-0-pro-fast-251015"?"bg-purple-600 text-white shadow-lg border-purple-400":"bg-black/50 text-gray-400 hover:bg-white/5"}`,children:[x.jsx("span",{className:"font-bold",children:"Seedance 1.0"}),x.jsx("span",{className:"text-[8px] opacity-60",children:"PRO FAST (DEFAULT)"})]}),x.jsxs("button",{onClick:()=>S({...v,videoModel:"seedance-1-5-pro-251215"}),className:`py-4 border border-white/10 rounded font-mono text-xs transition-all uppercase flex flex-col items-center gap-1 ${v.videoModel==="seedance-1-5-pro-251215"?"bg-blue-600 text-white shadow-lg border-blue-400":"bg-black/50 text-gray-400 hover:bg-white/5"}`,children:[x.jsx("span",{className:"font-bold",children:"Seedance 1.5"}),x.jsx("span",{className:"text-[8px] opacity-60",children:"LATEST PRO"})]})]})]}),x.jsxs("div",{className:"flex flex-col gap-3",children:[x.jsx("label",{className:"text-[10px] text-gray-500 uppercase tracking-widest font-bold",children:"Video Resolution"}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsx("button",{onClick:()=>S({...v,videoResolution:"480p"}),className:`py-3 border border-white/10 rounded font-mono text-xs transition-all uppercase flex flex-col items-center gap-1 ${v.videoResolution==="480p"?"bg-purple-600 text-white shadow-lg border-purple-400":"bg-black/50 text-gray-400 hover:bg-white/5"}`,children:x.jsx("span",{className:"font-bold",children:"480p (FAST)"})}),x.jsx("button",{onClick:()=>S({...v,videoResolution:"720p"}),className:`py-3 border border-white/10 rounded font-mono text-xs transition-all uppercase flex flex-col items-center gap-1 ${v.videoResolution==="720p"?"bg-blue-600 text-white shadow-lg border-blue-400":"bg-black/50 text-gray-400 hover:bg-white/5"}`,children:x.jsx("span",{className:"font-bold",children:"720p (STANDARD)"})})]}),x.jsx("p",{className:"text-[9px] text-gray-500",children:"* 480p is faster. 720p provides better quality but takes longer."})]}),x.jsxs("div",{className:"flex flex-col gap-3 mt-2",children:[x.jsx("label",{className:"text-[10px] text-gray-500 uppercase tracking-widest font-bold",children:"Video Prompt"}),x.jsx("textarea",{className:"bg-black/50 border border-white/10 p-4 font-mono text-xs text-white focus:border-purple-500 outline-none transition-colors h-24 rounded-lg",value:v.videoPrompt,onChange:I=>S({...v,videoPrompt:I.target.value}),placeholder:"Describe motion (e.g. slow motion, subtle movement...)",disabled:v.boothMode==="photo"}),v.boothMode==="photo"&&x.jsx("p",{className:"text-[9px] text-red-500 italic",children:"* Disabled in Photobooth Mode"})]}),x.jsx("h3",{className:"font-heading text-xl text-purple-400 border-b border-white/5 pb-4 mt-6 uppercase italic",children:"Output Configuration"}),x.jsxs("div",{className:"flex flex-col gap-3",children:[x.jsx("label",{className:"text-[10px] text-gray-500 uppercase tracking-widest font-bold",children:"Output Aspect Ratio"}),x.jsx("div",{className:"grid grid-cols-2 gap-3",children:["9:16","16:9","2:3","3:2"].map(I=>x.jsxs("button",{onClick:()=>me(I),className:`py-4 border border-white/10 rounded font-mono text-xs transition-all flex flex-col items-center gap-1 ${v.outputRatio===I?"bg-purple-600 text-white shadow-lg border-purple-400":"bg-black/50 text-gray-400 hover:bg-white/5"}`,children:[x.jsx("span",{className:"text-sm font-bold",children:I}),x.jsx("span",{className:"text-[8px] opacity-70 uppercase",children:I==="9:16"?"Portrait":I==="16:9"?"Landscape":I==="2:3"?"Photo Portrait":"Photo Landscape"})]},I))})]}),x.jsx("h3",{className:"font-heading text-xl text-purple-400 border-b border-white/5 pb-4 mt-6 uppercase italic",children:"Camera Configuration"}),x.jsxs("div",{className:"flex flex-col gap-3",children:[x.jsx("label",{className:"text-[10px] text-gray-500 uppercase tracking-widest font-bold",children:"Webcam Rotation"}),x.jsx("div",{className:"grid grid-cols-4 gap-3",children:[0,90,180,270].map(I=>x.jsxs("button",{onClick:()=>S({...v,cameraRotation:I}),className:`py-3 border border-white/10 rounded font-mono text-xs transition-all uppercase ${v.cameraRotation===I?"bg-purple-600 text-white shadow-lg border-purple-400":"bg-black/50 text-gray-400 hover:bg-white/5"}`,children:[I,""]},I))})]}),x.jsx("h3",{className:"font-heading text-xl text-purple-400 border-b border-white/5 pb-4 mt-6 uppercase italic",children:"Monitor Config"}),x.jsxs("div",{className:"flex flex-col gap-3",children:[x.jsx("label",{className:"text-[10px] text-gray-500 uppercase tracking-widest font-bold",children:"Monitor Theme Layout"}),x.jsx("div",{className:"grid grid-cols-4 gap-2",children:["physics","grid","hero","slider"].map(I=>x.jsx("button",{onClick:()=>U(I),className:`py-3 border border-white/10 rounded font-mono text-xs transition-all uppercase ${v.monitorTheme===I?"bg-purple-600 text-white shadow-lg border-purple-400":"bg-black/50 text-gray-400 hover:bg-white/5"}`,children:I},I))})]}),x.jsxs("div",{className:"flex flex-col gap-3 mt-4",children:[x.jsx("label",{className:"text-[10px] text-gray-500 uppercase tracking-widest font-bold",children:"Physics Card Size (Only for Physics Mode)"}),x.jsx("div",{className:"grid grid-cols-3 gap-3",children:["small","medium","large"].map(I=>x.jsx("button",{onClick:()=>S({...v,monitorImageSize:I}),className:`py-3 border border-white/10 rounded font-mono text-xs transition-all uppercase ${v.monitorImageSize===I?"bg-purple-600 text-white shadow-lg border-purple-400":"bg-black/50 text-gray-400 hover:bg-white/5"}`,children:I},I))})]}),x.jsx("h3",{className:"font-heading text-xl text-red-400 border-b border-white/5 pb-4 mt-6 uppercase italic",children:"Security"}),x.jsxs("div",{className:"flex flex-col gap-3",children:[x.jsx("label",{className:"text-[10px] text-red-500 uppercase tracking-widest font-bold",children:"Admin PIN"}),x.jsx("input",{type:"text",maxLength:8,className:"bg-red-900/10 border border-red-500/30 p-4 font-mono text-xs text-red-200 focus:border-red-500 outline-none transition-colors tracking-[0.5em] text-center rounded-lg",value:v.adminPin,onChange:I=>S({...v,adminPin:I.target.value}),placeholder:"****"}),x.jsx("p",{className:"text-[9px] text-gray-500",children:"* Changing this will require re-login next time."})]}),x.jsx("button",{onClick:te,className:"w-full py-6 bg-green-800 hover:bg-green-700 text-white font-heading tracking-widest uppercase italic mt-6 transition-all rounded-lg shadow-xl",children:"SAVE SETTINGS & LINK DB"})]}),x.jsxs("div",{className:"flex flex-col gap-8",children:[x.jsxs("div",{className:"glass-card p-6 md:p-10 flex flex-col gap-8 border-white/10 h-fit text-center backdrop-blur-md bg-black/60 rounded-xl",children:[x.jsx("h3",{className:"font-heading text-xl text-purple-400 border-b border-white/5 pb-4 uppercase italic",children:"Overlay (PNG)"}),x.jsxs("div",{className:"flex flex-col gap-6",children:[x.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg flex items-center justify-center overflow-hidden mx-auto shadow-2xl transition-all duration-300",style:{width:"180px",aspectRatio:v.outputRatio==="16:9"?"16/9":v.outputRatio==="3:2"?"3/2":v.outputRatio==="2:3"?"2/3":"9/16"},children:v.overlayImage?x.jsx("img",{src:$u(v.overlayImage),className:"w-full h-full object-contain",alt:"Overlay"}):x.jsx("span",{className:"text-[10px] text-gray-700 font-mono",children:"NO_OVERLAY"})}),x.jsx("input",{type:"file",accept:"image/png",className:"hidden",ref:ae,onChange:async I=>{const H=I.target.files?.[0];if(!H)return;P(!0);const Q=new FileReader;Q.onload=async()=>{const re=await Oy(Q.result,i.adminPin);re.ok&&(S({...v,overlayImage:re.url}),alert("Overlay updated")),P(!1)},Q.readAsDataURL(H)}}),x.jsx("button",{onClick:()=>ae.current?.click(),disabled:F,className:"w-full py-4 border-2 border-white/10 hover:border-purple-500 text-[10px] tracking-widest font-bold uppercase bg-white/5 rounded-lg transition-colors",children:F?"UPLOADING...":"CHANGE PNG OVERLAY"})]})]}),x.jsxs("div",{className:"glass-card p-6 md:p-10 flex flex-col gap-8 border-white/10 h-fit text-center backdrop-blur-md bg-black/60 rounded-xl",children:[x.jsx("h3",{className:"font-heading text-xl text-purple-400 border-b border-white/5 pb-4 uppercase italic",children:"Background"}),x.jsxs("div",{className:"flex flex-col gap-2 bg-purple-900/10 p-3 rounded border border-purple-500/20",children:[x.jsx("label",{className:"text-[10px] text-gray-400 uppercase tracking-widest font-bold",children:"Video Background URL (MP4)"}),x.jsx("input",{className:"bg-black/50 border border-white/10 p-2 font-mono text-xs text-white focus:border-purple-500 outline-none transition-colors rounded",value:v.backgroundVideoUrl||"",onChange:I=>S({...v,backgroundVideoUrl:I.target.value}),placeholder:"https://.../video.mp4 (Takes priority)"}),x.jsx("p",{className:"text-[9px] text-gray-500",children:"* Direct MP4 link. Overrides image if set."})]}),x.jsxs("div",{className:"flex flex-col gap-6",children:[x.jsxs("div",{className:"w-full aspect-video bg-white/5 border border-white/10 rounded-lg flex items-center justify-center overflow-hidden mx-auto shadow-2xl relative",children:[v.backgroundVideoUrl?x.jsx("video",{src:v.backgroundVideoUrl,className:"w-full h-full object-cover opacity-70",autoPlay:!0,loop:!0,muted:!0,playsInline:!0}):v.backgroundImage?x.jsx("img",{src:$u(v.backgroundImage),className:"w-full h-full object-cover",alt:"Background"}):x.jsx("span",{className:"text-[10px] text-gray-700 font-mono",children:"DEFAULT_DARK"}),v.backgroundVideoUrl&&x.jsx("div",{className:"absolute top-2 right-2 bg-purple-600 px-2 py-1 rounded text-[8px] font-bold",children:"VIDEO MODE"})]}),x.jsx("input",{type:"file",accept:"image/jpeg,image/png",className:"hidden",ref:fe,onChange:async I=>{const H=I.target.files?.[0];if(!H)return;j(!0);const Q=new FileReader;Q.onload=async()=>{const re=await Hy(Q.result,i.adminPin);re.ok&&(S({...v,backgroundImage:re.url}),alert("Background Image updated")),j(!1)},Q.readAsDataURL(H)}}),x.jsx("button",{onClick:()=>fe.current?.click(),disabled:X,className:"w-full py-4 border-2 border-white/10 hover:border-purple-500 text-[10px] tracking-widest font-bold uppercase bg-white/5 rounded-lg transition-colors",children:X?"UPLOADING...":"CHANGE BACKGROUND IMAGE"})]})]}),x.jsxs("div",{className:"glass-card p-6 md:p-10 flex flex-col gap-8 border-white/10 h-fit text-center backdrop-blur-md bg-black/60 rounded-xl",children:[x.jsx("h3",{className:"font-heading text-xl text-purple-400 border-b border-white/5 pb-4 uppercase italic",children:"Background Audio (5s)"}),x.jsxs("div",{className:"flex flex-col gap-6",children:[x.jsx("div",{className:"w-full p-4 bg-white/5 border border-white/10 rounded-lg flex flex-col items-center justify-center gap-2",children:v.backgroundAudio?x.jsxs("div",{className:"flex flex-col items-center gap-2 w-full",children:[x.jsx("span",{className:"text-green-500 text-xs font-bold",children:"AUDIO ACTIVE"}),x.jsx("audio",{controls:!0,src:v.backgroundAudio,className:"w-full h-8"})]}):x.jsx("span",{className:"text-[10px] text-gray-700 font-mono",children:"NO AUDIO"})}),x.jsx("input",{type:"file",accept:"audio/*",className:"hidden",ref:pe,onChange:async I=>{const H=I.target.files?.[0];if(!H)return;Z(!0);const Q=new FileReader;Q.onload=async()=>{const re=await Vy(Q.result,i.adminPin);re.ok&&(S({...v,backgroundAudio:re.url}),alert("Audio updated")),Z(!1)},Q.readAsDataURL(H)}}),x.jsx("button",{onClick:()=>pe.current?.click(),disabled:q,className:"w-full py-4 border-2 border-white/10 hover:border-purple-500 text-[10px] tracking-widest font-bold uppercase bg-white/5 rounded-lg transition-colors",children:q?"UPLOADING...":"CHANGE AUDIO (5 SEC)"})]})]})]})]})}),N==="concepts"&&x.jsxs("div",{className:"flex flex-col gap-10",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[E.map((I,H)=>x.jsxs("div",{className:"glass-card p-6 flex flex-col gap-4 relative group backdrop-blur-md bg-black/60 rounded-xl border border-white/10",children:[x.jsx("button",{onClick:Q=>{Q.stopPropagation(),oe(H)},className:"absolute top-4 right-4 text-red-900/40 hover:text-red-500 transition-colors p-2 z-20 hover:bg-white/10 rounded",title:"Delete Concept",children:x.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})}),x.jsxs("div",{className:"flex gap-4",children:[x.jsxs("div",{className:"w-24 aspect-[9/16] bg-white/5 border border-white/10 rounded-xl shrink-0 overflow-hidden relative group/thumb shadow-lg",children:[x.jsx("img",{src:I.thumbnail,className:"w-full h-full object-cover"}),x.jsxs("label",{className:"absolute inset-0 bg-purple-600/80 opacity-0 group-hover/thumb:opacity-100 flex items-center justify-center cursor-pointer text-[10px] uppercase font-bold text-white transition-opacity text-center px-1",children:["Update Thumbnail",x.jsx("input",{type:"file",className:"hidden",onChange:Q=>{const re=Q.target.files?.[0];if(re){const ye=new FileReader;ye.onload=()=>le(H,ye.result),ye.readAsDataURL(re)}}})]})]}),x.jsxs("div",{className:"w-24 aspect-[9/16] bg-white/5 border border-dashed border-white/20 rounded-xl shrink-0 overflow-hidden relative group/ref shadow-lg flex items-center justify-center",children:[I.refImage?x.jsxs(x.Fragment,{children:[x.jsx("img",{src:I.refImage,className:"w-full h-full object-cover"}),x.jsx("button",{onClick:()=>z(H),className:"absolute top-1 right-1 bg-red-600 rounded-full w-4 h-4 flex items-center justify-center text-white z-20 hover:scale-110",children:x.jsx("span",{className:"text-[10px]",children:""})})]}):x.jsx("span",{className:"text-[8px] text-white/30 text-center px-2",children:"Ref Image (Style)"}),x.jsxs("label",{className:"absolute inset-0 bg-blue-600/80 opacity-0 group-hover/ref:opacity-100 flex items-center justify-center cursor-pointer text-[10px] uppercase font-bold text-white transition-opacity text-center px-1 z-10",children:[I.refImage?"Change Reference":"Add Reference",x.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Q=>{const re=Q.target.files?.[0];if(re){if(re.size>1024*1024){alert("File too large! Max size is 1MB.");return}const ye=new FileReader;ye.onload=()=>A(H,ye.result),ye.readAsDataURL(re)}}})]})]}),x.jsxs("div",{className:"flex-1 flex flex-col gap-4",children:[x.jsx("input",{className:"bg-transparent border-b border-white/10 p-2 font-heading uppercase italic text-white outline-none focus:border-purple-500 w-full",value:I.name,onChange:Q=>ne(H,"name",Q.target.value),placeholder:"Concept Name"}),x.jsx("textarea",{className:"bg-black/30 border border-white/5 p-3 text-[10px] font-mono h-24 text-gray-400 outline-none focus:border-white/20 resize-none w-full rounded-lg",value:I.prompt,onChange:Q=>ne(H,"prompt",Q.target.value),placeholder:"Prompt description..."})]})]}),x.jsxs("div",{className:"bg-white/5 p-2 rounded text-[9px] text-gray-500 italic",children:["* ",x.jsx("strong",{children:"Thumbnail:"})," Displayed in concept menu. ",x.jsx("br",{}),"* ",x.jsx("strong",{children:"Reference Image:"})," Optional. If uploaded, AI will use it as style/clothing/background reference."]})]},I.id)),x.jsxs("button",{onClick:G,className:"glass-card p-6 flex flex-col items-center justify-center gap-4 border-2 border-dashed border-white/10 hover:border-purple-500/50 hover:bg-white/5 transition-all min-h-[200px] rounded-xl backdrop-blur-sm",children:[x.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-white/20 flex items-center justify-center text-white/50 group-hover:text-purple-500 group-hover:border-purple-500 transition-colors",children:x.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),x.jsx("span",{className:"font-heading text-xs tracking-[0.3em] text-white/40 uppercase italic",children:"ADD_NEW_CONCEPT"})]})]}),x.jsx("div",{className:"flex justify-center mt-10",children:x.jsx("button",{onClick:$,disabled:ce,className:"px-20 py-6 bg-purple-600 font-heading tracking-widest uppercase italic shadow-2xl hover:bg-purple-500 transition-all disabled:opacity-50 rounded-lg",children:ce?"SINKRONISASI...":"SYNC ALL CONCEPTS TO CLOUD"})})]})]})]}):x.jsxs("div",{className:"w-full min-h-screen flex flex-col items-center justify-center p-6 bg-transparent",children:[x.jsx("h2",{className:"text-3xl font-heading mb-10 neon-text italic uppercase drop-shadow-lg",children:"SECURE ACCESS"}),x.jsxs("div",{className:"glass-card p-8 flex flex-col items-center gap-8 w-full max-w-sm backdrop-blur-md bg-black/60",children:[x.jsx("input",{type:"password",placeholder:"PIN",className:"bg-black/50 border-2 border-white/5 px-6 py-5 text-center text-3xl outline-none focus:border-purple-500 w-full font-mono text-white rounded-lg",value:y,onChange:I=>m(I.target.value),onKeyDown:I=>I.key==="Enter"&&ee()}),x.jsx("button",{onClick:ee,className:"w-full py-5 bg-purple-600 font-heading tracking-widest uppercase rounded-lg hover:bg-purple-500 transition-colors",children:"AUTHORIZE"}),x.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white uppercase text-[10px] tracking-widest transition-colors",children:"Back"})]})]})},kA=({onBack:i,activeEventId:t,eventName:o,monitorSize:a="medium",theme:r="physics"})=>{const c=W.useRef(null),f=W.useRef(new Map),g=W.useRef(null),y=W.useRef(null),[m,v]=W.useState([]),[S,E]=W.useState(null),[_,w]=W.useState(!1),[D,N]=W.useState(null),B=()=>{switch(a){case"small":return{w:150,h:225};case"large":return{w:400,h:600};default:return{w:250,h:375}}},{w:F,h:P}=B(),X=2,j=.99;W.useEffect(()=>{const ee=async()=>{try{const G=((await Wm(t)).items||[]).filter(oe=>oe.type!=="video");if(v(G),r==="slider"&&G.length>0&&(!y.current||y.current!==G[0].id)&&((!D||y.current&&D.id===y.current||!D)&&N(G[0]),y.current=G[0].id),r==="physics"){G.forEach(ne=>{!f.current.has(ne.id)&&c.current&&q(ne)});const oe=new Set(G.map(ne=>ne.id));f.current.forEach((ne,le)=>{oe.has(le)||(ne.element.remove(),f.current.delete(le))})}}catch(me){console.error("Monitor polling error",me)}};ee();const te=setInterval(ee,1e4);return()=>clearInterval(te)},[t,r]);const q=ee=>{if(!c.current)return;const te=document.createElement("div");te.className="absolute top-0 left-0 rounded-xl overflow-hidden border border-white/20 shadow-[0_0_15px_rgba(188,19,254,0.3)] cursor-grab active:cursor-grabbing select-none touch-none bg-black/50 backdrop-blur-sm transition-transform will-change-transform",te.style.width=`${F}px`,te.style.height=`${P}px`;const me=ee.imageUrl.includes("lh3")?`https://drive.google.com/thumbnail?id=${ee.id}&sz=w600`:ee.imageUrl;te.innerHTML=`
      <div class="relative w-full h-full pointer-events-none">
        <img src="${me}" class="w-full h-full object-cover opacity-90" draggable="false" />
        <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"></div>
        <div class="absolute bottom-3 left-3 right-3 text-white">
           <p class="text-[10px] font-heading tracking-widest uppercase truncate">${ee.conceptName}</p>
        </div>
      </div>
    `;const U=c.current.clientWidth,G=c.current.clientHeight,oe=Math.random()*(U-F),ne=Math.random()*(G-P),le=(Math.random()-.5)*X,A=(Math.random()-.5)*X;c.current.appendChild(te);const z={id:ee.id,x:oe,y:ne,vx:le,vy:A,width:F,height:P,element:te,item:ee,isDragging:!1};f.current.set(ee.id,z),Z(te,z)},Z=(ee,te)=>{let me=0,U=0,G=0,oe=0,ne=0,le=0,A=0;const z=H=>{H.preventDefault(),te.isDragging=!0,me=H.clientX,U=H.clientY,G=H.clientX,oe=H.clientY,ne=Date.now(),ee.style.zIndex="100",f.current.forEach(Q=>{Q!==te&&(Q.element.style.zIndex="1")}),ee.setPointerCapture(H.pointerId)},$=H=>{if(!te.isDragging)return;const Q=H.clientX-G,re=H.clientY-oe;te.x+=Q,te.y+=re,le=Q,A=re,G=H.clientX,oe=H.clientY},I=H=>{if(!te.isDragging)return;te.isDragging=!1,ee.releasePointerCapture(H.pointerId);const Q=Math.sqrt(Math.pow(H.clientX-me,2)+Math.pow(H.clientY-U,2)),re=Date.now()-ne;Q<10&&re<300?E(te.item):(te.vx=Math.min(Math.max(le*1.5,-15),15),te.vy=Math.min(Math.max(A*1.5,-15),15))};ee.addEventListener("pointerdown",z),ee.addEventListener("pointermove",$),ee.addEventListener("pointerup",I)},ce=()=>{if(r!=="physics"||!c.current)return;const ee=c.current.clientWidth,te=c.current.clientHeight,me=Array.from(f.current.values());for(let U=0;U<me.length;U++){const G=me[U];if(G.isDragging){G.element.style.transform=`translate(${G.x}px, ${G.y}px) scale(1.05)`;continue}G.x+=G.vx,G.y+=G.vy,G.vx*=j,G.vy*=j,G.x<=0?(G.x=0,G.vx*=-.8):G.x+G.width>=ee&&(G.x=ee-G.width,G.vx*=-.8),G.y<=0?(G.y=0,G.vy*=-.8):G.y+G.height>=te&&(G.y=te-G.height,G.vy*=-.8);for(let oe=U+1;oe<me.length;oe++){const ne=me[oe];if(ne.isDragging)continue;const le=G.x+G.width/2,A=G.y+G.height/2,z=ne.x+ne.width/2,$=ne.y+ne.height/2,I=z-le,H=$-A,Q=Math.sqrt(I*I+H*H),re=G.width*.9;if(Q<re&&Q>0){const ye=I/Q,Se=H/Q,ze=(re-Q)/2;G.x-=ye*ze,G.y-=Se*ze,ne.x+=ye*ze,ne.y+=Se*ze;const qe=.5;G.vx-=ye*qe,G.vy-=Se*qe,ne.vx+=ye*qe,ne.vy+=Se*qe}}Math.abs(G.vx)<.1&&Math.abs(G.vy)<.1&&(G.vx+=(Math.random()-.5)*.2,G.vy+=(Math.random()-.5)*.2),G.element.style.transform=`translate(${G.x}px, ${G.y}px)`}g.current=requestAnimationFrame(ce)};W.useEffect(()=>(r==="physics"?g.current=requestAnimationFrame(ce):(c.current&&(c.current.innerHTML=""),f.current.clear(),g.current&&cancelAnimationFrame(g.current)),()=>{g.current&&cancelAnimationFrame(g.current)}),[r]);const se=()=>{document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),w(!1)):(document.documentElement.requestFullscreen(),w(!0))},ae=()=>{r==="physics"&&f.current.forEach(ee=>{ee.vx=(Math.random()-.5)*20,ee.vy=(Math.random()-.5)*20})},fe=ee=>ee.downloadUrl&&ee.downloadUrl.includes("drive.google.com")?ee.downloadUrl:`https://drive.google.com/file/d/${ee.id}/view`,pe=ee=>ee.imageUrl.includes("lh3")?`https://drive.google.com/thumbnail?id=${ee.id}&sz=w1600`:ee.imageUrl;return x.jsxs("div",{className:"fixed inset-0 w-full h-full bg-[#050505] overflow-hidden overscroll-none touch-none",children:[x.jsx("div",{className:"absolute inset-0 z-0 bg-[radial-gradient(circle_at_center,#1a0b2e_0%,#000000_100%)]",children:x.jsx("div",{className:"absolute inset-0 opacity-30",style:{backgroundImage:"radial-gradient(white 1px, transparent 1px)",backgroundSize:"50px 50px"}})}),x.jsx("div",{ref:c,className:`absolute inset-0 z-10 overflow-hidden ${r!=="physics"?"hidden":""}`}),r==="grid"&&x.jsx("div",{className:"absolute inset-0 z-10 p-20 flex items-center justify-center",children:x.jsx("div",{className:"grid grid-cols-4 grid-rows-3 gap-6 w-full h-full max-w-7xl",children:m.slice(0,12).map(ee=>x.jsxs("div",{onClick:()=>E(ee),className:"relative rounded-lg overflow-hidden border border-white/20 shadow-lg cursor-pointer hover:border-purple-500 hover:scale-105 transition-all group",children:[x.jsx("img",{src:ee.imageUrl.includes("lh3")?`https://drive.google.com/thumbnail?id=${ee.id}&sz=w600`:ee.imageUrl,className:"w-full h-full object-cover"}),x.jsx("div",{className:"absolute bottom-0 inset-x-0 p-2 bg-black/60 translate-y-full group-hover:translate-y-0 transition-transform",children:x.jsx("p",{className:"text-[8px] text-white font-heading truncate",children:ee.conceptName})})]},ee.id))})}),r==="hero"&&m.length>0&&x.jsxs("div",{className:"absolute inset-0 z-10 flex items-center justify-center bg-black",children:[x.jsx("div",{className:"absolute inset-0 z-0",children:x.jsx("img",{src:m[0].imageUrl,className:"w-full h-full object-cover opacity-30 blur-xl"})}),x.jsxs("div",{className:"relative z-10 w-full h-full flex items-center justify-center p-8 gap-10",children:[x.jsx("div",{className:"h-full max-w-[70%] border-4 border-white/10 shadow-[0_0_50px_rgba(147,51,234,0.3)] rounded-xl overflow-hidden",children:x.jsx("img",{src:pe(m[0]),className:"h-full w-full object-contain bg-black"})}),x.jsxs("div",{className:"flex flex-col items-center gap-6 bg-black/40 backdrop-blur-md p-8 rounded-2xl border border-white/20",children:[x.jsx("h2",{className:"text-3xl text-white font-heading italic uppercase",children:m[0].conceptName}),x.jsx("div",{className:"bg-white p-4 rounded-xl shadow-inner",children:x.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(fe(m[0]))}`,className:"w-64 h-64 object-contain"})}),x.jsx("p",{className:"text-white text-sm tracking-widest uppercase font-bold animate-pulse",children:"SCAN TO DOWNLOAD"})]})]})]}),r==="slider"&&D&&x.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col",children:[x.jsxs("div",{className:"flex-1 relative flex items-center justify-center overflow-hidden bg-black",children:[x.jsxs("div",{className:"absolute inset-0 z-0 transition-opacity duration-1000",children:[x.jsx("img",{src:D.imageUrl,className:"w-full h-full object-cover opacity-30 blur-3xl transform scale-125"}),x.jsx("div",{className:"absolute inset-0 bg-black/40"})]},`bg-${D.id}`),x.jsx("div",{className:"relative z-10 h-full max-h-[85vh] aspect-[9/16] p-4 md:p-8 animate-[fadeInScale_0.5s_ease-out]",children:x.jsxs("div",{className:"relative w-full h-full rounded-2xl overflow-hidden border border-white/20 shadow-[0_0_60px_rgba(188,19,254,0.3)] bg-black",children:[x.jsx("img",{src:pe(D),className:"w-full h-full object-contain",alt:D.conceptName}),x.jsxs("div",{className:"absolute bottom-4 right-4 bg-white p-2 rounded-lg shadow-2xl z-20 animate-[popIn_0.5s_0.3s_both]",children:[x.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(fe(D))}`,className:"w-20 h-20 md:w-28 md:h-28 object-contain",alt:"QR"}),x.jsx("div",{className:"text-center mt-1",children:x.jsx("p",{className:"text-[6px] md:text-[8px] font-bold uppercase tracking-widest text-black",children:"SCAN ME"})})]}),x.jsxs("div",{className:"absolute top-0 left-0 right-0 p-6 bg-gradient-to-b from-black/80 to-transparent",children:[x.jsx("h2",{className:"text-2xl md:text-4xl font-heading text-white neon-text italic uppercase tracking-tighter shadow-black drop-shadow-md",children:D.conceptName}),x.jsx("p",{className:"font-mono text-purple-300 text-[10px] tracking-[0.3em] uppercase mt-1",children:new Date(D.createdAt).toLocaleTimeString()})]})]})},`hero-${D.id}`)]}),x.jsxs("div",{className:"h-40 md:h-48 shrink-0 z-20 bg-gradient-to-t from-black via-black/90 to-transparent flex flex-col justify-end pb-6",children:[x.jsx("div",{className:"w-full pl-6 md:pl-10",children:x.jsxs("p",{className:"text-white/50 text-[10px] uppercase tracking-widest mb-2 font-heading",children:["Recent Generations (",m.length,")"]})}),x.jsx("div",{className:"flex items-center px-6 md:px-10 gap-4 overflow-x-auto scrollbar-hide w-full pb-4 pt-2",style:{scrollBehavior:"smooth"},children:m.map(ee=>{const te=D.id===ee.id;return x.jsxs("div",{onClick:()=>N(ee),className:`
                             relative flex-shrink-0 w-24 h-36 md:w-32 md:h-48 rounded-lg overflow-hidden cursor-pointer transition-all duration-300 transform 
                             ${te?"scale-105 border-2 border-purple-500 shadow-[0_0_20px_rgba(168,85,247,0.6)] -translate-y-2 z-10":"border border-white/10 opacity-60 hover:opacity-100 hover:scale-100 grayscale hover:grayscale-0"}
                           `,children:[x.jsx("img",{src:ee.imageUrl.includes("lh3")?`https://drive.google.com/thumbnail?id=${ee.id}&sz=w400`:ee.imageUrl,className:"w-full h-full object-cover",loading:"lazy"}),te&&x.jsx("div",{className:"absolute inset-0 bg-purple-500/10 pointer-events-none"}),x.jsx("div",{className:"absolute bottom-0 inset-x-0 bg-black/60 p-1 text-center",children:x.jsx("p",{className:"text-[8px] text-white font-heading truncate uppercase",children:ee.conceptName})})]},ee.id)})})]})]}),x.jsxs("div",{className:"absolute top-0 left-0 p-6 z-20 flex justify-between w-full pointer-events-none",children:[x.jsxs("div",{className:"pointer-events-auto",children:[x.jsx("h1",{className:"text-white font-heading text-xl uppercase tracking-[0.3em] neon-text italic",children:o||"CORO AI MONITOR"}),x.jsxs("p",{className:"text-purple-400 text-[10px] font-mono tracking-widest mt-1",children:["MODE: ",r.toUpperCase()]})]}),x.jsxs("div",{className:"flex gap-4 pointer-events-auto",children:[r==="physics"&&x.jsx("button",{onClick:ae,className:"bg-white/10 hover:bg-purple-600 text-white px-4 py-2 rounded-full text-[10px] uppercase tracking-widest backdrop-blur-md transition-colors border border-white/10",children:"SHUFFLE"}),x.jsx("button",{onClick:se,className:"bg-white/10 hover:bg-white/20 text-white p-2 rounded-full backdrop-blur-md transition-colors border border-white/10",children:x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})}),x.jsx("button",{onClick:i,className:"bg-red-900/50 hover:bg-red-800 text-white p-2 rounded-full backdrop-blur-md transition-colors border border-red-500/30",children:x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),S&&r!=="slider"&&x.jsx("div",{className:"absolute inset-0 z-50 bg-black/90 backdrop-blur-xl flex items-center justify-center p-8 animate-[popIn_0.2s_ease-out]",onClick:()=>E(null),children:x.jsxs("div",{className:"relative max-w-6xl max-h-full flex flex-col md:flex-row items-center gap-8 bg-black/50 p-6 rounded-2xl border border-white/10 shadow-2xl",onClick:ee=>ee.stopPropagation(),children:[x.jsx("div",{className:"flex-1 flex justify-center max-h-[70vh]",children:x.jsx("img",{src:pe(S),className:"max-w-full max-h-full rounded-lg shadow-2xl border border-white/10 object-contain"})}),x.jsxs("div",{className:"flex flex-col items-center justify-center text-center gap-6 min-w-[250px]",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-xl md:text-2xl text-white font-heading uppercase italic",children:S.conceptName}),x.jsx("p",{className:"text-purple-400 font-mono text-xs tracking-widest mt-1",children:new Date(S.createdAt).toLocaleString()})]}),x.jsx("div",{className:"bg-white p-3 rounded-xl shadow-inner group",children:x.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(fe(S))}`,alt:"QR Code",className:"w-40 h-40 object-contain"})}),x.jsx("p",{className:"text-white/60 text-[10px] uppercase tracking-[0.2em]",children:"Scan to Download"}),x.jsx("button",{onClick:()=>window.open(fe(S),"_blank"),className:"px-8 py-3 bg-purple-600 hover:bg-purple-500 text-white font-heading text-xs tracking-widest uppercase rounded shadow-lg transition-all",children:"Open Link"})]}),x.jsx("button",{onClick:()=>E(null),className:"absolute -top-4 -right-4 md:-top-6 md:-right-6 bg-white text-black rounded-full w-10 h-10 flex items-center justify-center hover:scale-110 transition-transform shadow-lg z-50",children:x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),x.jsx("style",{children:`
        @keyframes popIn {
          0% { opacity: 0; transform: scale(0.95); }
          100% { opacity: 1; transform: scale(1); }
        }
        @keyframes fadeInScale {
           0% { opacity: 0; transform: scale(0.95); }
           100% { opacity: 1; transform: scale(1); }
        }
        @keyframes slideInRight {
           0% { opacity: 0; transform: translateX(20px); }
           100% { opacity: 1; transform: translateX(0); }
        }
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
      `})]})},LA=({onDone:i})=>{const[t,o]=W.useState(5);return W.useEffect(()=>{const a=setInterval(()=>{o(r=>r===1?(clearInterval(a),i(),0):r-1)},1e3);return()=>clearInterval(a)},[i]),x.jsxs("div",{className:"w-full min-h-screen flex flex-col items-center justify-center p-6 bg-transparent relative overflow-hidden text-center backdrop-blur-sm bg-black/60",children:[x.jsx("div",{className:"absolute inset-0 pointer-events-none",children:x.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-purple-600/20 blur-[150px] rounded-full animate-pulse"})}),x.jsxs("div",{className:"relative z-10 flex flex-col items-center animate-[popIn_0.5s_ease-out]",children:[x.jsx("div",{className:"w-24 h-24 mb-8 rounded-full border-4 border-green-500/50 flex items-center justify-center bg-green-900/20 shadow-[0_0_50px_rgba(34,197,94,0.3)]",children:x.jsx("svg",{className:"w-12 h-12 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),x.jsx("h1",{className:"text-4xl md:text-6xl font-heading font-black text-white italic uppercase tracking-tighter mb-4",children:"THANK YOU"}),x.jsx("p",{className:"text-purple-300 font-mono text-xs md:text-sm tracking-[0.2em] uppercase max-w-md leading-relaxed mb-8",children:"Processing initiated. Please proceed to the preview booth to see your results."}),x.jsxs("div",{className:"flex flex-col items-center gap-2",children:[x.jsx("div",{className:"w-48 h-1 bg-white/10 rounded-full overflow-hidden",children:x.jsx("div",{className:"h-full bg-white/50 animate-[progress_5s_linear]"})}),x.jsxs("span",{className:"text-[10px] text-gray-500 font-mono",children:["Returning to menu in ",t,"s"]})]}),x.jsx("button",{onClick:i,className:"mt-12 px-8 py-3 bg-white/5 hover:bg-white/10 border border-white/10 text-white font-heading text-xs uppercase tracking-widest transition-all rounded-lg",children:"RETURN NOW"})]})]})},GA=(i,t)=>{try{localStorage.setItem(i,t)}catch{console.warn(`LocalStorage quota exceeded for ${i}.`)}},PA=()=>{const[i,t]=W.useState(Ge.LANDING),[o,a]=W.useState(null),[r,c]=W.useState(null),[f,g]=W.useState(Ny),[y,m]=W.useState(wy),v=W.useRef(null),[S,E]=W.useState(!1),[_,w]=W.useState(null),[D,N]=W.useState([]),[B,F]=W.useState([]);W.useEffect(()=>{f.overlayImage&&ls.preloadOverlay(f.overlayImage).catch(ae=>console.warn("Background Overlay Preload Failed:",ae))},[f.overlayImage]),W.useEffect(()=>{if(f.boothMode!=="video")return;let ae,fe=!0;const pe=async()=>{if(!fe)return;if(document.hidden){ae=setTimeout(pe,1e4);return}let ee=15e3;try{const te=await fetch("/api/video/tick"),me=te.headers.get("content-type");if(te.ok&&me&&me.includes("application/json")){const U=await te.json();(U.activeCount>0||U.report&&(U.report.processed>0||U.report.started>0))&&(ee=5e3,console.log(`[POLL] Tick Active. Next: 5s. Pending: ${U.activeCount}`))}}catch{ee=2e4}fe&&(ae=setTimeout(pe,ee))};return pe(),()=>{fe=!1,ae&&clearTimeout(ae)}},[f.boothMode]),W.useEffect(()=>{const ae=localStorage.getItem("APPS_SCRIPT_BASE_URL");ae&&ae.trim()!==yo.trim()?(console.log(" DETECTED OLD DB CONNECTION. FORCING UPDATE TO NEW DB URL."),console.log("OLD:",ae),console.log("NEW:",yo),localStorage.setItem("APPS_SCRIPT_BASE_URL",yo),F([])):ae||localStorage.setItem("APPS_SCRIPT_BASE_URL",yo);const fe=localStorage.getItem("pb_settings");fe&&g(JSON.parse(fe)),(async()=>{try{const te=await AA("pb_concepts");if(te&&Array.isArray(te)&&te.length>0)console.log("Loaded concepts from IndexedDB"),m(te);else{const me=localStorage.getItem("pb_concepts");if(me)try{const U=JSON.parse(me);m(U),await ku("pb_concepts",U),localStorage.removeItem("pb_concepts"),console.log("Migrated concepts from LocalStorage to IndexedDB")}catch{}}}catch(te){console.error("Failed to load concepts from storage",te)}})(),(async()=>{try{const te=await Ry();te.ok&&(g(G=>({...G,...te.settings})),te.concepts&&Array.isArray(te.concepts)&&te.concepts.length>0?(m(te.concepts),ku("pb_concepts",te.concepts).catch(G=>console.error("Failed to cache concepts to DB",G))):console.log("Cloud concepts empty (New Sheet). Using Defaults."));const U=(await Iy()).find(G=>G.isActive);U&&g(G=>({...G,eventName:U.name,eventDescription:U.description,folderId:U.folderId,activeEventId:U.id}))}catch(te){console.warn("Cloud sync error:",te)}})()},[]),W.useEffect(()=>(v.current&&clearTimeout(v.current),i===Ge.RESULT&&(v.current=setTimeout(()=>{P()},f.autoResetTime*1e3)),()=>{v.current&&clearTimeout(v.current)}),[i,f.autoResetTime]);const P=()=>{t(Ge.LANDING),a(null),c(null),E(!1),w(null)},X=(ae,fe,pe=!1,ee)=>{c(ae),a(fe),E(pe),ee&&w(ee),t(Ge.GENERATING)},j=ae=>{g(ae),GA("pb_settings",JSON.stringify(ae))},q=ae=>{m(ae),ku("pb_concepts",ae).then(()=>{console.log("Concepts cached to IndexedDB")}).catch(fe=>{console.error("Failed to save concepts to IndexedDB",fe),alert("Warning: Failed to cache concepts locally. Data is saved to Cloud only.")})},Z=ae=>{c(ae),E(!1),w(null),f.processingMode==="fast"?(ce(ae,o),t(Ge.FAST_THANKS)):t(Ge.GENERATING)},ce=(ae,fe)=>{const pe=Date.now().toString(),ee={id:pe,thumbnail:fe.thumbnail,conceptName:fe.name,status:"processing",timestamp:Date.now()};N(te=>[ee,...te].slice(0,5)),bo.add(async()=>{console.log(`[Queue] Starting Job ${pe} | Concept: ${fe.name}`);try{let te=null;if(f.originalFolderId&&f.originalFolderId.trim()!=="")try{const le=await Za(ae,{conceptName:"ORIGINAL_CAPTURE",eventName:f.eventName,eventId:f.activeEventId,folderId:f.originalFolderId,skipGallery:!0});le.ok&&(te=le.id)}catch{console.warn("Background: Original upload failed")}const me=await Kg(ae,fe,f.outputRatio);f.overlayImage&&await ls.preloadOverlay(f.overlayImage);let U=1080,G=1920;f.outputRatio==="16:9"?(U=1920,G=1080):f.outputRatio==="3:2"?(U=1800,G=1200):f.outputRatio==="2:3"&&(U=1200,G=1800);const oe=await Xg(me,f.overlayImage,U,G);if((await Za(oe,{conceptName:fe.name,eventName:f.eventName,eventId:f.activeEventId,folderId:f.folderId,originalId:te||void 0})).ok)console.log(`[Queue] Job ${pe} Completed`),N(le=>le.map(A=>A.id===pe?{...A,status:"completed"}:A)),setTimeout(()=>{N(le=>le.filter(A=>A.id!==pe))},1e4);else throw new Error("Upload Failed")}catch(te){console.error(`[Queue] Job ${pe} Failed:`,te),N(me=>me.map(U=>U.id===pe?{...U,status:"failed"}:U)),setTimeout(()=>{N(me=>me.filter(U=>U.id!==pe))},1e4)}}).catch(te=>{console.error("Queue Addition Error:",te)})},se=()=>{switch(i){case Ge.LANDING:return x.jsx(Zm,{onStart:()=>t(Ge.THEMES),onGallery:()=>t(Ge.GALLERY),onAdmin:()=>t(Ge.ADMIN),settings:f,notifications:D});case Ge.THEMES:return x.jsx(wA,{concepts:y,onSelect:ae=>{a(ae),t(Ge.CAMERA)},onBack:()=>t(Ge.LANDING)});case Ge.CAMERA:return x.jsx(NA,{onCapture:Z,onGenerate:()=>{},onBack:()=>t(Ge.THEMES),capturedImage:r,orientation:f.orientation,cameraRotation:f.cameraRotation,aspectRatio:f.outputRatio,settings:f,onUpdateSettings:j});case Ge.GENERATING:return x.jsx(RA,{capturedImage:r,concept:o,settings:f,concepts:y,onDone:P,onGallery:()=>t(Ge.GALLERY),isUltraQuality:S,existingSession:_});case Ge.FAST_THANKS:return x.jsx(LA,{onDone:P});case Ge.GALLERY:return x.jsx(DA,{onBack:()=>t(Ge.LANDING),activeEventId:f.activeEventId,onRegenerate:X,concepts:y,settings:f,notifications:D,cachedItems:B,onUpdateCache:F});case Ge.ADMIN:return x.jsx(UA,{settings:f,concepts:y,onSaveSettings:j,onSaveConcepts:q,onBack:()=>t(Ge.LANDING),onLaunchMonitor:()=>t(Ge.MONITOR)});case Ge.MONITOR:return x.jsx(kA,{onBack:()=>t(Ge.ADMIN),activeEventId:f.activeEventId,eventName:f.eventName,monitorSize:f.monitorImageSize,theme:f.monitorTheme});default:return x.jsx(Zm,{onStart:()=>t(Ge.THEMES),onGallery:()=>t(Ge.GALLERY),onAdmin:()=>t(Ge.ADMIN),settings:f,notifications:D})}};return x.jsxs("div",{className:"relative w-full min-h-screen bg-[#050505] flex flex-col items-center justify-start overflow-y-auto overflow-x-hidden font-sans",children:[f.backgroundVideoUrl&&f.backgroundVideoUrl.trim()!==""&&x.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[x.jsx("video",{src:f.backgroundVideoUrl,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover"}),x.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[2px]"})]}),(!f.backgroundVideoUrl||f.backgroundVideoUrl.trim()==="")&&f.backgroundImage&&x.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[x.jsx("img",{src:$u(f.backgroundImage),className:"w-full h-full object-cover",alt:"Global Background"}),x.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-[2px]"})]}),(!f.backgroundVideoUrl||f.backgroundVideoUrl.trim()==="")&&!f.backgroundImage&&x.jsxs("div",{className:"fixed top-0 left-0 w-full h-full pointer-events-none opacity-20 z-0",children:[x.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70%] h-[70%] bg-purple-600 blur-[150px] rounded-full"}),x.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[70%] h-[70%] bg-blue-600 blur-[150px] rounded-full"})]}),x.jsx("div",{className:"relative z-10 w-full flex flex-col items-center",children:se()})]})},Zg=document.getElementById("root");if(!Zg)throw new Error("Could not find root element to mount to");const OA=Ay.createRoot(Zg);OA.render(x.jsx(yy.StrictMode,{children:x.jsx(PA,{})}));
